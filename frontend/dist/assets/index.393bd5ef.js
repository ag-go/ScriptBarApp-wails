(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function j(){}function Ct(t){return t()}function et(){return Object.create(null)}function J(t){t.forEach(Ct)}function Bt(t){return typeof t=="function"}function Z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function $t(t){return Object.keys(t).length===0}function en(t,...e){if(t==null)return j;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function U(t,e,n){t.$$.on_destroy.push(en(e,n))}function he(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function Xe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function tn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Y(t){return document.createTextNode(t)}function W(){return Y(" ")}function Ce(){return Y("")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function u(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function nn(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=e==null?"":e}function C(t,e,n,o){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function De(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e){o.selected=!0;return}}t.selectedIndex=-1}function St(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function ln(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}class It{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=tn(n.nodeName):this.e=m(n.nodeName),this.t=n,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)q(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(z)}}function Ie(t,e){return new t(e)}let Te;function Ve(t){Te=t}function Je(){if(!Te)throw new Error("Function called outside component initialization");return Te}function ve(t){Je().$$.on_mount.push(t)}function on(t){Je().$$.after_update.push(t)}function ne(){const t=Je();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=ln(e,n,{cancelable:o});return i.slice().forEach(a=>{a.call(t,l)}),!l.defaultPrevented}return!0}}const Le=[],re=[],je=[],tt=[],Lt=Promise.resolve();let Ge=!1;function Vt(){Ge||(Ge=!0,Lt.then(Et))}function He(){return Vt(),Lt}function Ne(t){je.push(t)}const Pe=new Set;let Me=0;function Et(){const t=Te;do{for(;Me<Le.length;){const e=Le[Me];Me++,Ve(e),sn(e.$$)}for(Ve(null),Le.length=0,Me=0;re.length;)re.pop()();for(let e=0;e<je.length;e+=1){const n=je[e];Pe.has(n)||(Pe.add(n),n())}je.length=0}while(Le.length);for(;tt.length;)tt.pop()();Ge=!1,Pe.clear(),Ve(t)}function sn(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ne)}}const Ae=new Set;let ye;function pe(){ye={r:0,c:[],p:ye}}function de(){ye.r||J(ye.c),ye=ye.p}function F(t,e){t&&t.i&&(Ae.delete(t),t.i(e))}function R(t,e,n,o){if(t&&t.o){if(Ae.has(t))return;Ae.add(t),ye.c.push(()=>{Ae.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function ge(t){t&&t.c()}function fe(t,e,n,o){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),o||Ne(()=>{const a=t.$$.on_mount.map(Ct).filter(Bt);t.$$.on_destroy?t.$$.on_destroy.push(...a):J(a),t.$$.on_mount=[]}),l.forEach(Ne)}function ce(t,e){const n=t.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rn(t,e){t.$$.dirty[0]===-1&&(Le.push(t),Vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,o,i,l,a,c=[-1]){const s=Te;Ve(t);const r=t.$$={fragment:null,ctx:[],props:l,update:j,not_equal:i,bound:et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(s?s.$$.context:[])),callbacks:et(),dirty:c,skip_bound:!1,root:e.target||s.$$.root};a&&a(r.root);let f=!1;if(r.ctx=n?n(t,e.props||{},(h,d,..._)=>{const g=_.length?_[0]:d;return r.ctx&&i(r.ctx[h],r.ctx[h]=g)&&(!r.skip_bound&&r.bound[h]&&r.bound[h](g),f&&rn(t,h)),d}):[],r.update(),f=!0,J(r.before_update),r.fragment=o?o(r.ctx):!1,e.target){if(e.hydrate){const h=nn(e.target);r.fragment&&r.fragment.l(h),h.forEach(z)}else r.fragment&&r.fragment.c();e.intro&&F(t.$$.fragment),fe(t,e.target,e.anchor,e.customElement),Et()}Ve(s)}class x{$destroy(){ce(this,1),this.$destroy=j}$on(e,n){if(!Bt(n))return j;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(e){this.$$set&&!$t(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Se=[];function Be(t,e=j){let n;const o=new Set;function i(c){if(Z(t,c)&&(t=c,n)){const s=!Se.length;for(const r of o)r[1](),Se.push(r,t);if(s){for(let r=0;r<Se.length;r+=2)Se[r][0](Se[r+1]);Se.length=0}}}function l(c){i(c(t))}function a(c,s=j){const r=[c,s];return o.add(r),o.size===1&&(n=e(i)||j),c(t),()=>{o.delete(r),o.size===0&&(n(),n=null)}}return{set:i,update:l,subscribe:a}}const an={variables:[],callbacks:[],getVar:function(t){const e=this.variables.filter(n=>n.name===t);return e.length>0&&typeof e[0].value<"u"?e[0].value:null},setVar:function(t,e){let n=this.variables.findIndex(i=>i.name===t);n===-1?this.variables.push({name:t,value:e}):e!==null&&(this.variables[n].value=e);const o=this.callbacks.filter(i=>i.name===t);o.length>0&&typeof o[0].value=="function"&&o[0].value()},setUpVar:function(t,e,n){this.callbacks=this.callbacks.filter(o=>o.name!==t),this.setVar(t,e),this.callbacks.push({name:t,value:n})}},Fe=Be(an);function fn(t,e,n){window.runtime.EventsOnMultiple(t,e,n)}function Ue(t,e){fn(t,e,-1)}function nt(t){let e=[t].slice.call(arguments);return window.runtime.EventsEmit.apply(null,e)}function Tt(t,e){window.runtime.WindowSetSize(t,e)}let cn={appBackground:"#2A212C",textcolor:"#80FFEA",fontSize:"14px",fontFamily:"Arial",highlight:"#9580FF"};const be=Be(cn),ze=Be(void 0);function it(t,e,n){const o=t.slice();return o[17]=e[n],o}function lt(t){let e,n=t[17].moduleName+"",o,i;return{c(){e=m("option"),o=Y(n),e.__value=i=t[17].moduleName,e.value=e.__value},m(l,a){q(l,e,a),p(e,o)},p(l,a){a&1&&n!==(n=l[17].moduleName+"")&&ae(o,n),a&1&&i!==(i=l[17].moduleName)&&(e.__value=i,e.value=e.__value)},d(l){l&&z(e)}}}function ot(t){let e,n,o;var i=t[5].config;function l(a){return{props:{config:a[4]}}}return i&&(e=Ie(i,l(t)),e.$on("change",t[12])),{c(){e&&ge(e.$$.fragment),n=Ce()},m(a,c){e&&fe(e,a,c),q(a,n,c),o=!0},p(a,c){const s={};if(c&16&&(s.config=a[4]),i!==(i=a[5].config)){if(e){pe();const r=e;R(r.$$.fragment,1,0,()=>{ce(r,1)}),de()}i?(e=Ie(i,l(a)),e.$on("change",a[12]),ge(e.$$.fragment),F(e.$$.fragment,1),fe(e,n.parentNode,n)):e=null}else i&&e.$set(s)},i(a){o||(e&&F(e.$$.fragment,a),o=!0)},o(a){e&&R(e.$$.fragment,a),o=!1},d(a){a&&z(n),e&&ce(e,a)}}}function un(t){let e,n,o,i,l,a,c,s,r,f,h,d,_,g,B,S,w,I,y,T,N,L,V,b=t[0],E=[];for(let A=0;A<b.length;A+=1)E[A]=lt(it(t,b,A));let O=t[5]!==null&&ot(t);return{c(){e=m("div"),n=m("label"),n.textContent="What's the name?",o=W(),i=m("input"),a=W(),c=m("label"),c.textContent="What Type of Component?",s=W(),r=m("select");for(let A=0;A<E.length;A+=1)E[A].c();h=W(),d=m("label"),d.textContent="Height:",_=W(),g=m("input"),S=W(),O&&O.c(),w=W(),I=m("button"),y=Y("Add Component"),u(n,"class","componentLabel svelte-1ttny9a"),u(n,"for","componentName"),u(i,"type","text"),u(i,"class","componentInput svelte-1ttny9a"),u(i,"id","componentName"),u(i,"color",l=t[6].appBackground),u(c,"for","componentTypeInput"),u(c,"class","componentLabel svelte-1ttny9a"),u(r,"name","componentTypeInput"),u(r,"class","componentInput svelte-1ttny9a"),u(r,"color",f=t[6].appBackground),u(r,"id","componentTypeInput"),t[1]===void 0&&Ne(()=>t[10].call(r)),u(d,"for","componentHeight"),u(d,"class","componentLabel svelte-1ttny9a"),u(g,"type","text"),u(g,"class","componentInput svelte-1ttny9a"),u(g,"color",B=t[6].appBackground),u(g,"id","componentHeight"),u(I,"id","addComponentButton"),u(I,"type","button"),u(I,"color",T=t[6].appBackground),u(I,"class","svelte-1ttny9a"),u(e,"id","addComponentDialog"),u(e,"class","svelte-1ttny9a")},m(A,G){q(A,e,G),p(e,n),p(e,o),p(e,i),D(i,t[3]),p(e,a),p(e,c),p(e,s),p(e,r);for(let M=0;M<E.length;M+=1)E[M].m(r,null);De(r,t[1]),p(e,h),p(e,d),p(e,_),p(e,g),D(g,t[2]),p(e,S),O&&O.m(e,null),p(e,w),p(e,I),p(I,y),N=!0,L||(V=[v(i,"input",t[9]),v(r,"change",t[10]),v(r,"change",t[8]),v(g,"input",t[11]),v(I,"click",t[13])],L=!0)},p(A,[G]){if((!N||G&64&&l!==(l=A[6].appBackground))&&u(i,"color",l),G&8&&i.value!==A[3]&&D(i,A[3]),G&1){b=A[0];let M;for(M=0;M<b.length;M+=1){const ee=it(A,b,M);E[M]?E[M].p(ee,G):(E[M]=lt(ee),E[M].c(),E[M].m(r,null))}for(;M<E.length;M+=1)E[M].d(1);E.length=b.length}(!N||G&64&&f!==(f=A[6].appBackground))&&u(r,"color",f),G&3&&De(r,A[1]),(!N||G&64&&B!==(B=A[6].appBackground))&&u(g,"color",B),G&4&&g.value!==A[2]&&D(g,A[2]),A[5]!==null?O?(O.p(A,G),G&32&&F(O,1)):(O=ot(A),O.c(),F(O,1),O.m(e,w)):O&&(pe(),R(O,1,1,()=>{O=null}),de()),(!N||G&64&&T!==(T=A[6].appBackground))&&u(I,"color",T)},i(A){N||(F(O),N=!0)},o(A){R(O),N=!1},d(A){A&&z(e),Xe(E,A),O&&O.d(),L=!1,J(V)}}}function hn(t,e,n){let o,i;U(t,ze,T=>n(14,o=T)),U(t,be,T=>n(6,i=T));let{types:l}=e;const a=ne();let c=null,s=30,r="",f={},h=null;ve(()=>{n(1,c=l[0].moduleName),n(5,h=d(c))});function d(T){var N={};return T!==null&&(N=l.find(L=>L.moduleName===T)),N}function _(){f===null&&n(4,f={}),a("addNewComponent",{module:{name:r,widgetName:c,height:parseInt(s,10),config:f}}),n(3,r=""),n(1,c=null),n(2,s=30),n(4,f={})}function g(){setTimeout(()=>{o()},50)}function B(){r=this.value,n(3,r)}function S(){c=St(this),n(1,c),n(0,l)}function w(){s=this.value,n(2,s)}const I=T=>{n(4,f=T.detail)},y=()=>{_()};return t.$$set=T=>{"types"in T&&n(0,l=T.types)},t.$$.update=()=>{t.$$.dirty&2&&n(5,h=d(c))},[l,c,s,r,f,h,i,_,g,B,S,w,I,y]}class pn extends x{constructor(e){super(),K(this,e,hn,un,Z,{types:0})}}function st(t){let e,n,o;var i=t[3];function l(a){return{props:{config:a[2]}}}return i&&(e=Ie(i,l(t)),e.$on("change",t[10])),{c(){e&&ge(e.$$.fragment),n=Ce()},m(a,c){e&&fe(e,a,c),q(a,n,c),o=!0},p(a,c){const s={};if(c&4&&(s.config=a[2]),i!==(i=a[3])){if(e){pe();const r=e;R(r.$$.fragment,1,0,()=>{ce(r,1)}),de()}i?(e=Ie(i,l(a)),e.$on("change",a[10]),ge(e.$$.fragment),F(e.$$.fragment,1),fe(e,n.parentNode,n)):e=null}else i&&e.$set(s)},i(a){o||(e&&F(e.$$.fragment,a),o=!0)},o(a){e&&R(e.$$.fragment,a),o=!1},d(a){a&&z(n),e&&ce(e,a)}}}function dn(t){let e,n,o,i,l,a,c,s,r,f,h,d,_,g,B,S,w,I,y,T,N,L,V,b=t[3]!==null&&st(t);return{c(){e=m("div"),n=m("label"),n.textContent="What's the name?",o=W(),i=m("input"),a=W(),c=m("label"),c.textContent="Height:",s=W(),r=m("input"),h=W(),b&&b.c(),d=W(),_=m("div"),g=m("button"),B=Y("Save Component"),w=W(),I=m("button"),y=Y("Delete Component"),u(n,"class","componentLabel svelte-113kdcb"),u(n,"for","componentName"),u(i,"type","text"),u(i,"class","componentInput svelte-113kdcb"),u(i,"id","componentName"),u(i,"color",l=t[4].appBackground),u(c,"for","componentHeight"),u(c,"class","componentLabel svelte-113kdcb"),u(r,"type","text"),u(r,"class","componentInput svelte-113kdcb"),u(r,"color",f=t[4].appBackground),u(r,"id","componentHeight"),u(g,"id","editComponentButton"),u(g,"type","button"),u(g,"color",S=t[4].appBackground),u(g,"class","svelte-113kdcb"),u(I,"id","deleteComponentButton"),u(I,"type","button"),u(I,"color",T=t[4].appBackground),u(I,"class","svelte-113kdcb"),u(_,"id","buttonRow"),u(_,"class","svelte-113kdcb"),u(e,"id","editComponentDialog"),u(e,"class","svelte-113kdcb")},m(E,O){q(E,e,O),p(e,n),p(e,o),p(e,i),D(i,t[1]),p(e,a),p(e,c),p(e,s),p(e,r),D(r,t[0]),p(e,h),b&&b.m(e,null),p(e,d),p(e,_),p(_,g),p(g,B),p(_,w),p(_,I),p(I,y),N=!0,L||(V=[v(i,"input",t[8]),v(r,"input",t[9]),v(g,"click",t[11]),v(I,"click",t[12])],L=!0)},p(E,[O]){(!N||O&16&&l!==(l=E[4].appBackground))&&u(i,"color",l),O&2&&i.value!==E[1]&&D(i,E[1]),(!N||O&16&&f!==(f=E[4].appBackground))&&u(r,"color",f),O&1&&r.value!==E[0]&&D(r,E[0]),E[3]!==null?b?(b.p(E,O),O&8&&F(b,1)):(b=st(E),b.c(),F(b,1),b.m(e,d)):b&&(pe(),R(b,1,1,()=>{b=null}),de()),(!N||O&16&&S!==(S=E[4].appBackground))&&u(g,"color",S),(!N||O&16&&T!==(T=E[4].appBackground))&&u(I,"color",T)},i(E){N||(F(b),N=!0)},o(E){R(b),N=!1},d(E){E&&z(e),b&&b.d(),L=!1,J(V)}}}function gn(t,e,n){let o;U(t,be,y=>n(4,o=y));let{widget:i}=e;const l=ne();let a=null,c=30,s="",r={},f=null;ve(()=>{n(7,i=h(i))});function h(y){return n(3,f=y.configWidget),n(1,s=y.name),a=y.widgetName,n(0,c=y.height),n(2,r=y.config),y}function d(){r===null&&n(2,r={}),l("editComponent",{module:{id:i.id,name:s,widgetName:a,height:parseInt(c,10),config:r}})}function _(){l("deleteComponent",{module:{id:i.id}})}function g(){s=this.value,n(1,s)}function B(){c=this.value,n(0,c)}const S=y=>{n(2,r=y.detail)},w=()=>{d()},I=()=>{_()};return t.$$set=y=>{"widget"in y&&n(7,i=y.widget)},t.$$.update=()=>{t.$$.dirty&128&&n(7,i=h(i))},[c,s,r,f,o,d,_,i,g,B,S,w,I]}class mn extends x{constructor(e){super(),K(this,e,gn,dn,Z,{widget:7})}}function _n(t){let e,n,o,i;return{c(){e=m("span"),n=Y(t[0]),u(e,"class","pListName svelte-1u9rxym")},m(l,a){q(l,e,a),p(e,n),o||(i=[v(e,"dblclick",t[10]),v(e,"contextmenu",t[11])],o=!0)},p(l,a){a&1&&ae(n,l[0])},d(l){l&&z(e),o=!1,J(i)}}}function bn(t){let e,n,o;return{c(){e=m("textarea"),u(e,"class","eListName svelte-1u9rxym")},m(i,l){q(i,e,l),D(e,t[0]),t[7](e),n||(o=[v(e,"input",t[6]),v(e,"keydown",t[8]),v(e,"blur",t[9])],n=!0)},p(i,l){l&1&&D(e,i[0])},d(i){i&&z(e),t[7](null),n=!1,J(o)}}}function vn(t){let e;function n(l,a){return l[2]?bn:_n}let o=n(t),i=o(t);return{c(){e=m("div"),i.c(),u(e,"class","editSpanField svelte-1u9rxym")},m(l,a){q(l,e,a),i.m(e,null)},p(l,[a]){o===(o=n(l))&&i?i.p(l,a):(i.d(1),i=o(l),i&&(i.c(),i.m(e,null)))},i:j,o:j,d(l){l&&z(e),i.d()}}}function kn(t,e,n){let{name:o}=e,i,l=!1;const a=ne();function c(){a("middleButton",{})}async function s(){n(2,l=!0),await He(),i.focus()}function r(){a("nameChanged",{name:i.value}),n(2,l=!1)}function f(){o=this.value,n(0,o)}function h(S){re[S?"unshift":"push"](()=>{i=S,n(1,i)})}const d=S=>{S.code==="Enter"&&r()},_=()=>{r()},g=()=>{s()},B=S=>{S.preventDefault(),c()};return t.$$set=S=>{"name"in S&&n(0,o=S.name)},[o,i,l,c,s,r,f,h,d,_,g,B]}class wn extends x{constructor(e){super(),K(this,e,kn,vn,Z,{name:0})}}const Ee=Be(0),we=Be(400);var $={Callbacks:[],TimerId:null,time:0,AddTimer:function(t,e){$.Callbacks=$.Callbacks.filter(n=>n.name!==t),$.Callbacks.push({name:t,callback:e})},StartTimer:function(){},NextTime:function(){if($.time=$.time+1,$.Callbacks.length>0)for(let t=0;t<$.Callbacks.length;t++)$.Callbacks[t].callback($.time);$.TimerId=setTimeout($.NextTime,6e4)},StopTimer:function(){$.TimerId!==null&&(clearTimeout($.TimerId),$.time=0)},ClearTimers:function(){$.Callbacks=[],$.time=0}};const Nt=Be($),Oe=Be({containers:[],mheight:400,mwidth:700});function rt(t,e){return window.go.main.App.AppendPath(t,e)}function at(){return window.go.main.App.GetHomeDir()}function yn(t){return window.go.main.App.ReadFile(t)}function ft(t,e,n){return window.go.main.App.SendHTTPQuery(t,e,n)}function Cn(t,e){return window.go.main.App.WriteFile(t,e)}function Bn(t){let e,n,o,i,l,a,c,s;return{c(){e=m("div"),n=m("p"),o=Y(t[0]),i=W(),l=m("p"),a=Y(t[4]),u(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[5].fontSize),u(n,"data-index",t[1]),u(l,"class","value svelte-1xqw1f6"),C(l,"font-size",t[5].fontSize),u(l,"data-index",t[1]),u(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[2])+"px"),u(e,"data-index",t[1])},m(r,f){q(r,e,f),p(e,n),p(n,o),p(e,i),p(e,l),p(l,a),t[15](e),c||(s=[v(n,"dblclick",t[9]),v(n,"contextmenu",t[10]),v(e,"mouseenter",t[11]),v(e,"mouseleave",t[12]),v(e,"mouseout",t[13]),v(e,"blur",t[14])],c=!0)},p(r,[f]){f&1&&ae(o,r[0]),f&32&&C(n,"font-size",r[5].fontSize),f&2&&u(n,"data-index",r[1]),f&16&&ae(a,r[4]),f&32&&C(l,"font-size",r[5].fontSize),f&2&&u(l,"data-index",r[1]),f&4&&C(e,"height",Math.floor(r[2])+"px"),f&2&&u(e,"data-index",r[1])},i:j,o:j,d(r){r&&z(e),t[15](null),c=!1,J(s)}}}function Sn(t,e,n){let o,i,l;U(t,ze,V=>n(16,o=V)),U(t,Fe,V=>n(17,i=V)),U(t,be,V=>n(5,l=V));let{name:a}=e,{config:c}=e,{index:s}=e,{height:r}=e,f;const h=ne();let d="loading...";ve(()=>(_(),i.setUpVar(c.flowVar,null,()=>{_()}),()=>{}));function _(){var V=i.getVar(c.flowVar);V!==null&&typeof V.text<"u"&&V.text!==null&&(n(4,d=V.text),o())}function g(V){_()}function B(){h("middleButton",{index:s,dom:f})}const S=V=>{h("dblclick",{})},w=V=>{V.preventDefault(),B()},I=()=>{n(3,f.style.color=l.highlight,f)},y=()=>{n(3,f.style.color=l.textcolor,f)},T=()=>{n(3,f.style.color=l.textcolor,f)},N=()=>{n(3,f.style.color=l.textcolor,f)};function L(V){re[V?"unshift":"push"](()=>{f=V,n(3,f)})}return t.$$set=V=>{"name"in V&&n(0,a=V.name),"config"in V&&n(8,c=V.config),"index"in V&&n(1,s=V.index),"height"in V&&n(2,r=V.height)},t.$$.update=()=>{t.$$.dirty&2&&g()},[a,s,r,f,d,l,h,B,c,S,w,I,y,T,N,L]}class In extends x{constructor(e){super(),K(this,e,Sn,Bn,Z,{name:0,config:8,index:1,height:2})}}function Ln(t){let e,n,o,i,l,a,c,s,r,f;return{c(){e=m("div"),n=m("label"),n.textContent="What is the name of the variable?",o=W(),i=m("input"),l=W(),a=m("label"),a.textContent="How often to reload? (number of minutes)",c=W(),s=m("input"),u(n,"for","Name"),u(n,"class","componentLabel svelte-eoh90a"),u(i,"id","Name"),u(i,"type","text"),u(i,"class","componentInput svelte-eoh90a"),u(a,"for","Name"),u(a,"class","componentLabel svelte-eoh90a"),u(s,"id","Period"),u(s,"type","text"),u(s,"class","componentInput svelte-eoh90a"),u(e,"class","FlowVariableConfig svelte-eoh90a")},m(h,d){q(h,e,d),p(e,n),p(e,o),p(e,i),D(i,t[0].flowVar),p(e,l),p(e,a),p(e,c),p(e,s),D(s,t[0].period),r||(f=[v(i,"input",t[2]),v(i,"change",t[3]),v(s,"input",t[4]),v(s,"change",t[5])],r=!0)},p(h,[d]){d&1&&i.value!==h[0].flowVar&&D(i,h[0].flowVar),d&1&&s.value!==h[0].period&&D(s,h[0].period)},i:j,o:j,d(h){h&&z(e),r=!1,J(f)}}}function Vn(t,e,n){const o=ne();let{config:i}=e;function l(){i.flowVar=this.value,n(0,i)}const a=()=>{o("change",{flowVar:i.flowVar,period:i.period})};function c(){i.period=this.value,n(0,i)}const s=()=>{o("change",{flowVar:i.flowVar,period:i.period})};return t.$$set=r=>{"config"in r&&n(0,i=r.config)},[i,o,l,a,c,s]}class En extends x{constructor(e){super(),K(this,e,Vn,Ln,Z,{config:0})}}function Tn(t){let e,n,o,i;return{c(){e=m("div"),n=m("hr"),u(n,"id",t[0]),u(n,"class","svelte-n4txif"),u(e,"class","main svelte-n4txif"),C(e,"height",Math.floor(t[1])+"px")},m(l,a){q(l,e,a),p(e,n),t[9](e),o||(i=[v(e,"contextmenu",t[7]),v(e,"dblclick",t[8])],o=!0)},p(l,[a]){a&1&&u(n,"id",l[0]),a&2&&C(e,"height",Math.floor(l[1])+"px")},i:j,o:j,d(l){l&&z(e),t[9](null),o=!1,J(i)}}}function Nn(t,e,n){let{config:o}=e,{name:i}=e,{index:l}=e,{height:a}=e,c;const s=ne();function r(){n(5,o),s("middleButton",{index:l,dom:c})}const f=_=>{_.preventDefault(),r()},h=_=>{_.preventDefault(),s("dblclick",{})};function d(_){re[_?"unshift":"push"](()=>{c=_,n(2,c)})}return t.$$set=_=>{"config"in _&&n(5,o=_.config),"name"in _&&n(0,i=_.name),"index"in _&&n(6,l=_.index),"height"in _&&n(1,a=_.height)},[i,a,c,s,r,o,l,f,h,d]}class zn extends x{constructor(e){super(),K(this,e,Nn,Tn,Z,{config:5,name:0,index:6,height:1})}}function qn(t){let e;return{c(){e=m("div"),u(e,"class","SeparatorConfig svelte-6l742t")},m(n,o){q(n,e,o)},p:j,i:j,o:j,d(n){n&&z(e)}}}function Wn(t,e,n){let{config:o}=e;return t.$$set=i=>{"config"in i&&n(0,o=i.config)},t.$$.update=()=>{t.$$.dirty&1&&n(0,o)},[o]}class Mn extends x{constructor(e){super(),K(this,e,Wn,qn,Z,{config:0})}}function jn(t){let e,n,o,i,l,a,c,s;return{c(){e=m("div"),n=m("p"),o=Y(t[4]),i=W(),l=m("p"),a=Y(t[3]),u(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[5].fontSize),u(n,"data-index",t[0]),u(l,"class","value svelte-1xqw1f6"),C(l,"font-size",t[5].fontSize),u(l,"data-index",t[0]),u(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[1])+"px"),u(e,"data-index",t[0])},m(r,f){q(r,e,f),p(e,n),p(n,o),p(e,i),p(e,l),p(l,a),t[12](e),c||(s=[v(n,"dblclick",t[10]),v(n,"contextmenu",t[11]),v(e,"mouseenter",t[13]),v(e,"mouseleave",t[14]),v(e,"mouseout",t[15]),v(e,"blur",t[16])],c=!0)},p(r,[f]){f&16&&ae(o,r[4]),f&32&&C(n,"font-size",r[5].fontSize),f&1&&u(n,"data-index",r[0]),f&8&&ae(a,r[3]),f&32&&C(l,"font-size",r[5].fontSize),f&1&&u(l,"data-index",r[0]),f&2&&C(e,"height",Math.floor(r[1])+"px"),f&1&&u(e,"data-index",r[0])},i:j,o:j,d(r){r&&z(e),t[12](null),c=!1,J(s)}}}function An(t,e,n){let o,i,l;U(t,ze,b=>n(17,o=b)),U(t,Fe,b=>n(18,i=b)),U(t,be,b=>n(5,l=b));let{name:a}=e,{config:c}=e,{index:s}=e,{height:r}=e,f,h="loading...",d;const _=ne();ve(()=>{n(4,d=a),i.setUpVar(c.flowVar,null,()=>{B()})});function g(b){B()}function B(){const b=i.getVar(c.flowVar);b!==null&&typeof b.text<"u"&&(typeof b.days<"u"&&n(3,h=b.days),typeof b.age<"u"?n(4,d=a+": "+b.age):n(4,d=a),o())}function S(){_("middleButton",{index:s,dom:f})}const w=b=>{_("dblclick",{})},I=b=>{b.preventDefault(),S()};function y(b){re[b?"unshift":"push"](()=>{f=b,n(2,f)})}const T=()=>{n(2,f.style.color=l.highlight,f)},N=()=>{n(2,f.style.color=l.textcolor,f)},L=()=>{n(2,f.style.color=l.textcolor,f)},V=()=>{n(2,f.style.color=l.textcolor,f)};return t.$$set=b=>{"name"in b&&n(8,a=b.name),"config"in b&&n(9,c=b.config),"index"in b&&n(0,s=b.index),"height"in b&&n(1,r=b.height)},t.$$.update=()=>{t.$$.dirty&1&&g()},[s,r,f,h,d,l,_,S,a,c,w,I,y,T,N,L,V]}class On extends x{constructor(e){super(),K(this,e,An,jn,Z,{name:8,config:9,index:0,height:1})}}function Dn(t){let e,n,o,i,l,a;return{c(){e=m("div"),n=m("label"),n.textContent="Who's birthday? (Name of Variable)",o=W(),i=m("input"),u(n,"for","Name"),u(n,"class","componentLabel svelte-10sirl3"),u(i,"id","Name"),u(i,"type","text"),u(i,"class","componentInput svelte-10sirl3"),u(e,"class","BirthdayConfig svelte-10sirl3")},m(c,s){q(c,e,s),p(e,n),p(e,o),p(e,i),D(i,t[0].flowVar),l||(a=[v(i,"input",t[2]),v(i,"change",t[3])],l=!0)},p(c,[s]){s&1&&i.value!==c[0].flowVar&&D(i,c[0].flowVar)},i:j,o:j,d(c){c&&z(e),l=!1,J(a)}}}function Hn(t,e,n){const o=ne();let{config:i}=e;function l(){i.flowVar=this.value,n(0,i)}const a=()=>{o("change",{flowVar:i.flowVar})};return t.$$set=c=>{"config"in c&&n(0,i=c.config)},[i,o,l,a]}class Fn extends x{constructor(e){super(),K(this,e,Hn,Dn,Z,{config:0})}}function Rn(t){let e,n;return{c(){e=m("p"),n=Y(t[5]),u(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),u(e,"data-index",t[2])},m(o,i){q(o,e,i),p(e,n)},p(o,i){i&32&&ae(n,o[5]),i&64&&C(e,"font-size",o[6].fontSize),i&4&&u(e,"data-index",o[2])},d(o){o&&z(e)}}}function Pn(t){let e,n,o,i;return{c(){e=m("p"),n=Y(t[5]),u(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),C(e,"cursor","pointer"),u(e,"data-index",t[2])},m(l,a){q(l,e,a),p(e,n),o||(i=v(e,"click",t[12]),o=!0)},p(l,a){a&32&&ae(n,l[5]),a&64&&C(e,"font-size",l[6].fontSize),a&4&&u(e,"data-index",l[2])},d(l){l&&z(e),o=!1,i()}}}function Un(t){let e,n,o,i,l,a;function c(f,h){return f[1].showLink?Pn:Rn}let s=c(t),r=s(t);return{c(){e=m("div"),n=m("p"),o=Y(t[0]),i=W(),r.c(),u(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[6].fontSize),u(n,"data-index",t[2]),u(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[3])+"px"),u(e,"data-index",t[2])},m(f,h){q(f,e,h),p(e,n),p(n,o),p(e,i),r.m(e,null),t[17](e),l||(a=[v(n,"dblclick",t[10]),v(n,"contextmenu",t[11]),v(e,"mouseenter",t[13]),v(e,"mouseleave",t[14]),v(e,"mouseout",t[15]),v(e,"blur",t[16])],l=!0)},p(f,[h]){h&1&&ae(o,f[0]),h&64&&C(n,"font-size",f[6].fontSize),h&4&&u(n,"data-index",f[2]),s===(s=c(f))&&r?r.p(f,h):(r.d(1),r=s(f),r&&(r.c(),r.m(e,null))),h&8&&C(e,"height",Math.floor(f[3])+"px"),h&4&&u(e,"data-index",f[2])},i:j,o:j,d(f){f&&z(e),r.d(),t[17](null),l=!1,J(a)}}}function Gn(t,e,n){let o,i;U(t,Fe,E=>n(19,o=E)),U(t,be,E=>n(6,i=E));let{name:l}=e,{config:a}=e,{index:c}=e,{height:s}=e,r,f="loading...",h="";const d=ne();async function _(){a.showLink&&await(void 0)(h)}function g(E){B()}function B(){var E=o.getVar(a.flowVar);E!==null&&E.ip!==""?(n(5,f=E.ip),h="http://"+f,parseInt(a.port)!==0&&(h+=":"+a.port)):(n(5,f="loading..."),h="")}ve(()=>{o.setUpVar(a.flowVar,null,()=>{B()}),B()});function S(){d("middleButton",{index:c,dom:r})}const w=E=>{d("dblclick",{})},I=E=>{E.preventDefault(),S()},y=E=>{_()},T=()=>{n(4,r.style.color=i.highlight,r)},N=()=>{n(4,r.style.color=i.textcolor,r)},L=()=>{n(4,r.style.color=i.textcolor,r)},V=()=>{n(4,r.style.color=i.textcolor,r)};function b(E){re[E?"unshift":"push"](()=>{r=E,n(4,r)})}return t.$$set=E=>{"name"in E&&n(0,l=E.name),"config"in E&&n(1,a=E.config),"index"in E&&n(2,c=E.index),"height"in E&&n(3,s=E.height)},t.$$.update=()=>{t.$$.dirty&4&&g()},[l,a,c,s,r,f,i,d,_,S,w,I,y,T,N,L,V,b]}class Xn extends x{constructor(e){super(),K(this,e,Gn,Un,Z,{name:0,config:1,index:2,height:3})}}function Jn(t){let e,n,o,i,l,a,c,s,r,f,h,d,_,g;return{c(){e=m("div"),n=m("label"),n.textContent="What is the variable name?",o=W(),i=m("input"),l=W(),a=m("label"),a.textContent="Have a link?",c=W(),s=m("input"),r=W(),f=m("label"),f.textContent="What port to open on click?",h=W(),d=m("input"),u(n,"for","Variable"),u(n,"class","componentLabel svelte-rqnqoj"),u(i,"id","Variable"),u(i,"type","text"),u(i,"class","componentInput svelte-rqnqoj"),u(a,"for","Link"),u(a,"class","componentLabel svelte-rqnqoj"),u(s,"id","Link"),u(s,"type","checkbox"),u(s,"class","componentInput svelte-rqnqoj"),u(f,"for","Port"),u(f,"class","componentLabel svelte-rqnqoj"),u(d,"id","Port"),u(d,"type","text"),u(d,"class","componentInput svelte-rqnqoj"),u(e,"class","IPAddressConfig svelte-rqnqoj")},m(B,S){q(B,e,S),p(e,n),p(e,o),p(e,i),D(i,t[0].flowVar),p(e,l),p(e,a),p(e,c),p(e,s),s.checked=t[0].showLink,p(e,r),p(e,f),p(e,h),p(e,d),D(d,t[0].port),_||(g=[v(i,"input",t[2]),v(i,"change",t[1]),v(s,"change",t[3]),v(s,"change",t[1]),v(d,"input",t[4]),v(d,"change",t[1])],_=!0)},p(B,[S]){S&1&&i.value!==B[0].flowVar&&D(i,B[0].flowVar),S&1&&(s.checked=B[0].showLink),S&1&&d.value!==B[0].port&&D(d,B[0].port)},i:j,o:j,d(B){B&&z(e),_=!1,J(g)}}}function Qn(t,e,n){const o=ne();let{config:i}=e;function l(r){console.log(i.showLink),o("change",{flowVar:i.flowVar,showLink:i.showLink,port:parseInt(i.port,10)})}function a(){i.flowVar=this.value,n(0,i)}function c(){i.showLink=this.checked,n(0,i)}function s(){i.port=this.value,n(0,i)}return t.$$set=r=>{"config"in r&&n(0,i=r.config)},[i,l,a,c,s]}class Yn extends x{constructor(e){super(),K(this,e,Qn,Jn,Z,{config:0})}}var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zt={};(function(t){(function(e,n){if(typeof t.nodeName!="string")n(t);else{var o={};n(o),e.AnsiUp=o.default}})(Zn,function(e){var n=this&&this.__makeTemplateObject||function(c,s){return Object.defineProperty?Object.defineProperty(c,"raw",{value:s}):c.raw=s,c},o;(function(c){c[c.EOS=0]="EOS",c[c.Text=1]="Text",c[c.Incomplete=2]="Incomplete",c[c.ESC=3]="ESC",c[c.Unknown=4]="Unknown",c[c.SGR=5]="SGR",c[c.OSCURL=6]="OSCURL"})(o||(o={}));var i=function(){function c(){this.VERSION="5.1.0",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(c.prototype,"use_classes",{get:function(){return this._use_classes},set:function(s){this._use_classes=s},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(s){this._url_whitelist=s},enumerable:!1,configurable:!0}),c.prototype.setup_palettes=function(){var s=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(function(w){w.forEach(function(I){s.palette_256.push(I)})});for(var r=[0,95,135,175,215,255],f=0;f<6;++f)for(var h=0;h<6;++h)for(var d=0;d<6;++d){var _={rgb:[r[f],r[h],r[d]],class_name:"truecolor"};this.palette_256.push(_)}for(var g=8,B=0;B<24;++B,g+=10){var S={rgb:[g,g,g],class_name:"truecolor"};this.palette_256.push(S)}},c.prototype.escape_txt_for_html=function(s){return s.replace(/[&<>"']/gm,function(r){if(r==="&")return"&amp;";if(r==="<")return"&lt;";if(r===">")return"&gt;";if(r==='"')return"&quot;";if(r==="'")return"&#x27;"})},c.prototype.append_buffer=function(s){var r=this._buffer+s;this._buffer=r},c.prototype.get_next_packet=function(){var s={kind:o.EOS,text:"",url:""},r=this._buffer.length;if(r==0)return s;var f=this._buffer.indexOf("\x1B");if(f==-1)return s.kind=o.Text,s.text=this._buffer,this._buffer="",s;if(f>0)return s.kind=o.Text,s.text=this._buffer.slice(0,f),this._buffer=this._buffer.slice(f),s;if(f==0){if(r==1)return s.kind=o.Incomplete,s;var h=this._buffer.charAt(1);if(h!="["&&h!="]")return s.kind=o.ESC,s.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),s;if(h=="["){this._csi_regex||(this._csi_regex=l(n([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `])));var d=this._buffer.match(this._csi_regex);if(d===null)return s.kind=o.Incomplete,s;if(d[4])return s.kind=o.ESC,s.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),s;d[1]!=""||d[3]!="m"?s.kind=o.Unknown:s.kind=o.SGR,s.text=d[2];var _=d[0].length;return this._buffer=this._buffer.slice(_),s}if(h=="]"){if(r<4)return s.kind=o.Incomplete,s;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return s.kind=o.ESC,s.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),s;this._osc_st||(this._osc_st=a(n([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `]))),this._osc_st.lastIndex=0;{var g=this._osc_st.exec(this._buffer);if(g===null)return s.kind=o.Incomplete,s;if(g[3])return s.kind=o.ESC,s.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),s}{var B=this._osc_st.exec(this._buffer);if(B===null)return s.kind=o.Incomplete,s;if(B[3])return s.kind=o.ESC,s.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),s}this._osc_regex||(this._osc_regex=l(n([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `])));var d=this._buffer.match(this._osc_regex);if(d===null)return s.kind=o.ESC,s.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),s;s.kind=o.OSCURL,s.url=d[1],s.text=d[2];var _=d[0].length;return this._buffer=this._buffer.slice(_),s}}},c.prototype.ansi_to_html=function(s){this.append_buffer(s);for(var r=[];;){var f=this.get_next_packet();if(f.kind==o.EOS||f.kind==o.Incomplete)break;f.kind==o.ESC||f.kind==o.Unknown||(f.kind==o.Text?r.push(this.transform_to_html(this.with_state(f))):f.kind==o.SGR?this.process_ansi(f):f.kind==o.OSCURL&&r.push(this.process_hyperlink(f)))}return r.join("")},c.prototype.with_state=function(s){return{bold:this.bold,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:s.text}},c.prototype.process_ansi=function(s){for(var r=s.text.split(";");r.length>0;){var f=r.shift(),h=parseInt(f,10);if(isNaN(h)||h===0)this.fg=this.bg=null,this.bold=!1,this.italic=!1,this.underline=!1;else if(h===1)this.bold=!0;else if(h===3)this.italic=!0;else if(h===4)this.underline=!0;else if(h===22)this.bold=!1;else if(h===23)this.italic=!1;else if(h===24)this.underline=!1;else if(h===39)this.fg=null;else if(h===49)this.bg=null;else if(h>=30&&h<38)this.fg=this.ansi_colors[0][h-30];else if(h>=40&&h<48)this.bg=this.ansi_colors[0][h-40];else if(h>=90&&h<98)this.fg=this.ansi_colors[1][h-90];else if(h>=100&&h<108)this.bg=this.ansi_colors[1][h-100];else if((h===38||h===48)&&r.length>0){var d=h===38,_=r.shift();if(_==="5"&&r.length>0){var g=parseInt(r.shift(),10);g>=0&&g<=255&&(d?this.fg=this.palette_256[g]:this.bg=this.palette_256[g])}if(_==="2"&&r.length>2){var B=parseInt(r.shift(),10),S=parseInt(r.shift(),10),w=parseInt(r.shift(),10);if(B>=0&&B<=255&&S>=0&&S<=255&&w>=0&&w<=255){var I={rgb:[B,S,w],class_name:"truecolor"};d?this.fg=I:this.bg=I}}}}},c.prototype.transform_to_html=function(s){var r=s.text;if(r.length===0||(r=this.escape_txt_for_html(r),!s.bold&&!s.italic&&!s.underline&&s.fg===null&&s.bg===null))return r;var f=[],h=[],d=s.fg,_=s.bg;s.bold&&f.push("font-weight:bold"),s.italic&&f.push("font-style:italic"),s.underline&&f.push("text-decoration:underline"),this._use_classes?(d&&(d.class_name!=="truecolor"?h.push(d.class_name+"-fg"):f.push("color:rgb("+d.rgb.join(",")+")")),_&&(_.class_name!=="truecolor"?h.push(_.class_name+"-bg"):f.push("background-color:rgb("+_.rgb.join(",")+")"))):(d&&f.push("color:rgb("+d.rgb.join(",")+")"),_&&f.push("background-color:rgb("+_.rgb+")"));var g="",B="";return h.length&&(g=' class="'+h.join(" ")+'"'),f.length&&(B=' style="'+f.join(";")+'"'),"<span"+B+g+">"+r+"</span>"},c.prototype.process_hyperlink=function(s){var r=s.url.split(":");if(r.length<1||!this._url_whitelist[r[0]])return"";var f='<a href="'+this.escape_txt_for_html(s.url)+'">'+this.escape_txt_for_html(s.text)+"</a>";return f},c}();function l(c){var s=c.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,f=s.replace(r,"");return new RegExp(f)}function a(c){var s=c.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,f=s.replace(r,"");return new RegExp(f,"g")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i})})(zt);const xn=Kn(zt);function $n(t){let e;return{c(){e=Y(t[4])},m(n,o){q(n,e,o)},p(n,o){o&16&&ae(e,n[4])},d(n){n&&z(e)}}}function ei(t){let e,n;return{c(){e=new It(!1),n=Ce(),e.a=n},m(o,i){e.m(t[4],o,i),q(o,n,i)},p(o,i){i&16&&e.p(o[4])},d(o){o&&z(n),o&&e.d()}}}function ti(t){let e,n,o,i,l,a,c;function s(h,d){return h[5]?ei:$n}let r=s(t),f=r(t);return{c(){e=m("div"),n=m("span"),o=Y(t[0]),i=W(),l=m("span"),f.c(),u(n,"class","scriptName svelte-13lhzn2"),u(l,"class","scriptValue svelte-13lhzn2"),u(e,"class","script svelte-13lhzn2"),C(e,"height",Math.floor(t[2])+"px"),u(e,"data-index",t[1])},m(h,d){q(h,e,d),p(e,n),p(n,o),p(e,i),p(e,l),f.m(l,null),t[13](e),a||(c=[v(n,"dblclick",t[11]),v(l,"click",t[12]),v(e,"mouseenter",t[14]),v(e,"mouseleave",t[15]),v(e,"mouseout",t[16]),v(e,"blur",t[17]),v(e,"contextmenu",t[18])],a=!0)},p(h,[d]){d&1&&ae(o,h[0]),r===(r=s(h))&&f?f.p(h,d):(f.d(1),f=r(h),f&&(f.c(),f.m(l,null))),d&4&&C(e,"height",Math.floor(h[2])+"px"),d&2&&u(e,"data-index",h[1])},i:j,o:j,d(h){h&&z(e),f.d(),t[13](null),a=!1,J(c)}}}function ni(t,e,n){let o,i;U(t,Nt,M=>n(21,o=M)),U(t,be,M=>n(6,i=M));let{name:l}=e,{config:a={script:"",env:"",envVar:"",commandLine:"",type:"",scriptImage:"",appBackground:i.appBackground,highlight:i.highlight}}=e,{index:c}=e,{height:s}=e,r,f="loading...",h="<h1>Loading...</h1>",d=!1,_={changeColor:!1,width:300,height:300,showButton:!0};const g=ne();async function B(){var M=JSON.stringify({script:a.script,text:a.commandLine,env:a.env,envVar:a.envVar,commandLine:a.commandLine});let ee=await ft("PUT","http://localhost:9978/api/script/run",M);y(JSON.parse(ee))}async function S(M){o.AddTimer(a.script,B),await B()}function w(){g("middleButton",{index:c,dom:r})}function I(){typeof f=="string"&&!f.includes("loading...")&&g("changeView",{name:"webview",body:{html:h,config:_}})}function y(M){_.showButton=!0,a.type==="generic"?h="<p>"+M+"</p>":a.type==="bitbar"?h=M:a.type==="textbar"?h=T(M):a.type==="web"&&(h=M)}function T(M){var ee="",te="",X=10,P=null;_={},_.height=10;var ie=1,qe=!1,We=!1,Re=new xn;return _.showButton=!0,globalThis.ScriptClick=async(Q,ke,oe,se,ue)=>{var le=[];le.push(`TEXTBAR_INDEX=${Q}`),le.push(`TEXTBAR_TEXT="${ke}"`);var me={script:oe.trim(),env:ue.trim(),envVar:le};typeof a.envVar<"u"&&(me.envVar=[...a.envVar,...me.envVar]),typeof se<"u"&&!se.includes("undefined")&&(se=se.trim(),se!==""&&(me.commandLine=se,me.text=se)),await ft("PUT","http://localhost:9978/api/script/run/",JSON.stringify(me)),globalThis.closeWebView()},M[0]==='"'&&(M=M.slice(1,-1)),M=M.replaceAll("\\n",`
`).split(/\r?\n/),n(4,f=a.scriptImage+M[0]),M.slice(1).forEach(Q=>{if(Q.trim()!==""){Q=new String(Q);var ke=Q.includes("----TEXTBAR----");if(ke||We)if(ke)We=!0;else{var oe=Q.split("=");switch(oe[0]){case"REFRESH":n(10,a.period=parseInt(oe[1]),a);break;case"VIEWTYPE":switch(oe[1]){case"HTML":P=te,_.showButton=!0;break;default:P=ee,_.showButton=!1;break}break;case"VIEWSIZE":var se=oe[1].split(",");_.width=parseInt(se[0],10),_.height=parseInt(se[1],10),qe=!0;break;case"IMAGE":oe[1][0]===":"?(n(4,f='<img src="'+oe[1].slice(1)+'" />'),n(5,d=!0)):n(4,f=oe[1]),_.showButton=!0;break}}else{te+=Q;var ue="",le="";if(Q.match(/\[\d+(\:\d+)*m/)!==null){var me=Q.replace(/\\e/g,"\x1B");ue=Re.ansi_to_html(me),ue=ue.replace(/\[\d+(\:\d+)*m/g,""),le=Q.replace(/\\e/g,"").replace(/\[\d+((\:|\;)\d+)*m/g,"").replace("	","")}else ue=Q.replace(/ /g,"&nbsp;"),le=Q;le=new String(le),X<le.length&&(X=le.length),Q[Q.length-1]===":"?ee+='<p style="margin: 0px; padding: 0px 0px 0px 0px; height: 20px; white-space: nowrap;">'+ue+"</p>":ee+=`<p style="margin: 0px; padding: 0px 0px 0px 5px; height: 20px; border: 0px solid transparent; border-radius: 5px; white-space: nowrap;" 
                              onclick="globalThis.ScriptClick(${ie},'${le}','${a.script}', '${a.commandLine}', '${a.env}')"
                              onmouseenter="window.setLineColorNew(this)"
                              onmouseleave="window.setLineColor(this)"
                              onblur="window.setLineColor(this)"
                            >
                              ${ue}
                            </p>`}ie+=1}}),qe?_.changeColor=!1:(_.changeColor=!0,_.backgroundColor=a.appBackground,_.highlightColor=a.highlight),P===null&&(P=ee),P}const N=M=>{g("dblclick",{})},L=M=>{I()};function V(M){re[M?"unshift":"push"](()=>{r=M,n(3,r)})}const b=()=>{n(3,r.style.color=i.highlight,r)},E=()=>{n(3,r.style.color=i.textcolor,r)},O=()=>{n(3,r.style.color=i.textcolor,r)},A=()=>{n(3,r.style.color=i.textcolor,r)},G=M=>{M.preventDefault(),w()};return t.$$set=M=>{"name"in M&&n(0,l=M.name),"config"in M&&n(10,a=M.config),"index"in M&&n(1,c=M.index),"height"in M&&n(2,s=M.height)},t.$$.update=()=>{t.$$.dirty&2&&S()},[l,c,s,r,f,d,i,g,w,I,a,N,L,V,b,E,O,A,G]}class ii extends x{constructor(e){super(),K(this,e,ni,ti,Z,{name:0,config:10,index:1,height:2})}}function ct(t){let e,n,o,i,l,a,c,s,r,f,h,d,_;return{c(){e=m("label"),e.textContent="What emoji?",n=W(),o=m("input"),i=W(),l=m("label"),l.textContent="What Highlight color?",a=W(),c=m("input"),s=W(),r=m("label"),r.textContent="What background color?",f=W(),h=m("input"),u(e,"for","ScriptIcon"),u(e,"class","componentLabel svelte-1097m2q"),u(o,"id","ScriptIcon"),u(o,"type","text"),u(o,"class","componentInput svelte-1097m2q"),u(l,"for","ScriptHigh"),u(l,"class","componentLabel svelte-1097m2q"),u(c,"id","ScriptHigh"),u(c,"type","text"),u(c,"class","componentInput svelte-1097m2q"),u(r,"for","ScriptBack"),u(r,"class","componentLabel svelte-1097m2q"),u(h,"id","ScriptBack"),u(h,"type","text"),u(h,"class","componentInput svelte-1097m2q")},m(g,B){q(g,e,B),q(g,n,B),q(g,o,B),D(o,t[0].scriptImage),q(g,i,B),q(g,l,B),q(g,a,B),q(g,c,B),D(c,t[0].highlight),q(g,s,B),q(g,r,B),q(g,f,B),q(g,h,B),D(h,t[0].appBackground),d||(_=[v(o,"input",t[14]),v(o,"change",t[15]),v(c,"input",t[16]),v(c,"change",t[17]),v(h,"input",t[18]),v(h,"change",t[19])],d=!0)},p(g,B){B&1&&o.value!==g[0].scriptImage&&D(o,g[0].scriptImage),B&1&&c.value!==g[0].highlight&&D(c,g[0].highlight),B&1&&h.value!==g[0].appBackground&&D(h,g[0].appBackground)},d(g){g&&z(e),g&&z(n),g&&z(o),g&&z(i),g&&z(l),g&&z(a),g&&z(c),g&&z(s),g&&z(r),g&&z(f),g&&z(h),d=!1,J(_)}}}function li(t){let e,n,o,i,l,a,c,s,r,f,h,d,_,g,B,S,w,I,y,T,N,L,V,b,E,O,A,G,M,ee,te,X=t[0].type==="textbar"&&ct(t);return{c(){e=m("div"),n=m("label"),n.textContent="What is the name of the script?",o=W(),i=m("input"),l=W(),a=m("label"),a.textContent="What is the command line?",c=W(),s=m("input"),r=W(),f=m("label"),f.textContent="What is the name of the environment?",h=W(),d=m("input"),_=W(),g=m("label"),g.textContent="What environment variables?",B=W(),S=m("input"),w=W(),I=m("label"),I.textContent="How often to reload? (number of minutes)",y=W(),T=m("input"),N=W(),L=m("label"),L.textContent="What type of script?",V=W(),b=m("select"),E=m("option"),E.textContent="TextBar",O=m("option"),O.textContent="BitBar",A=m("option"),A.textContent="Generic",G=m("option"),G.textContent="Web Page",M=W(),X&&X.c(),u(n,"for","Name"),u(n,"class","componentLabel svelte-1097m2q"),u(i,"id","Name"),u(i,"type","text"),u(i,"class","componentInput svelte-1097m2q"),u(a,"for","CommandLine"),u(a,"class","componentLabel svelte-1097m2q"),u(s,"id","CommandLine"),u(s,"type","text"),u(s,"class","componentInput svelte-1097m2q"),u(f,"for","Env"),u(f,"class","componentLabel svelte-1097m2q"),u(d,"id","Env"),u(d,"type","text"),u(d,"class","componentInput svelte-1097m2q"),u(g,"for","EnvVar"),u(g,"class","componentLabel svelte-1097m2q"),u(S,"id","EnvVar"),u(S,"type","text"),u(S,"class","componentInput svelte-1097m2q"),u(I,"for","Period"),u(I,"class","componentLabel svelte-1097m2q"),u(T,"id","Period"),u(T,"type","text"),u(T,"class","componentInput svelte-1097m2q"),u(L,"for","Type"),u(L,"class","componentLabel svelte-1097m2q"),E.__value="textbar",E.value=E.__value,O.__value="bitbar",O.value=O.__value,A.__value="generic",A.value=A.__value,G.__value="web",G.value=G.__value,u(b,"id","Type"),u(b,"class","componentInput svelte-1097m2q"),t[0].type===void 0&&Ne(()=>t[12].call(b)),u(e,"id","ScriptConfig"),u(e,"class","svelte-1097m2q")},m(P,ie){q(P,e,ie),p(e,n),p(e,o),p(e,i),D(i,t[0].script),p(e,l),p(e,a),p(e,c),p(e,s),D(s,t[0].commandLine),p(e,r),p(e,f),p(e,h),p(e,d),D(d,t[0].env),p(e,_),p(e,g),p(e,B),p(e,S),D(S,t[0].envVar),p(e,w),p(e,I),p(e,y),p(e,T),D(T,t[0].period),p(e,N),p(e,L),p(e,V),p(e,b),p(b,E),p(b,O),p(b,A),p(b,G),De(b,t[0].type),p(e,M),X&&X.m(e,null),ee||(te=[v(i,"input",t[2]),v(i,"change",t[3]),v(s,"input",t[4]),v(s,"change",t[5]),v(d,"input",t[6]),v(d,"change",t[7]),v(S,"input",t[8]),v(S,"change",t[9]),v(T,"input",t[10]),v(T,"change",t[11]),v(b,"change",t[12]),v(b,"blur",t[13])],ee=!0)},p(P,[ie]){ie&1&&i.value!==P[0].script&&D(i,P[0].script),ie&1&&s.value!==P[0].commandLine&&D(s,P[0].commandLine),ie&1&&d.value!==P[0].env&&D(d,P[0].env),ie&1&&S.value!==P[0].envVar&&D(S,P[0].envVar),ie&1&&T.value!==P[0].period&&D(T,P[0].period),ie&1&&De(b,P[0].type),P[0].type==="textbar"?X?X.p(P,ie):(X=ct(P),X.c(),X.m(e,null)):X&&(X.d(1),X=null)},i:j,o:j,d(P){P&&z(e),X&&X.d(),ee=!1,J(te)}}}function oi(t,e,n){let o;U(t,be,b=>n(20,o=b));const i=ne();let{config:l={script:"",env:"",envVar:"",period:0,commandLine:"",scriptImage:"",highlight:o.highlight,appBackground:o.backgroundColor}}=e;function a(){l.script=this.value,n(0,l)}const c=()=>{i("change",{script:l.script,env:l.env,period:l.period,envVar:l.envVar,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function s(){l.commandLine=this.value,n(0,l)}const r=()=>{i("change",{script:l.script,env:l.env,period:l.period,envVar:l.envVar,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function f(){l.env=this.value,n(0,l)}const h=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function d(){l.envVar=this.value,n(0,l)}const _=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function g(){l.period=this.value,n(0,l)}const B=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,period:l.period,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function S(){l.type=St(this),n(0,l)}const w=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function I(){l.scriptImage=this.value,n(0,l)}const y=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,commandLine:l.commandLine,period:l.period,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function T(){l.highlight=this.value,n(0,l)}const N=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};function L(){l.appBackground=this.value,n(0,l)}const V=()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})};return t.$$set=b=>{"config"in b&&n(0,l=b.config)},[l,i,a,c,s,r,f,h,d,_,g,B,S,w,I,y,T,N,L,V]}class si extends x{constructor(e){super(),K(this,e,oi,li,Z,{config:0})}}function ri(t){let e,n,o,i,l,a,c;return{c(){e=m("div"),n=m("span"),o=Y(t[0]),i=W(),l=m("span"),l.textContent="\u{1F30E}",u(n,"class","name svelte-1yfcj8v"),u(l,"class","weblinklink svelte-1yfcj8v"),u(e,"class","main svelte-1yfcj8v"),C(e,"height",Math.floor(t[2])+"px"),u(e,"data-index",t[1])},m(s,r){q(s,e,r),p(e,n),p(n,o),p(e,i),p(e,l),t[16](e),a||(c=[v(n,"dblclick",t[9]),v(l,"click",t[10]),v(e,"contextmenu",t[11]),v(e,"mouseenter",t[12]),v(e,"mouseleave",t[13]),v(e,"mouseout",t[14]),v(e,"blur",t[15])],a=!0)},p(s,[r]){r&1&&ae(o,s[0]),r&4&&C(e,"height",Math.floor(s[2])+"px"),r&2&&u(e,"data-index",s[1])},i:j,o:j,d(s){s&&z(e),t[16](null),a=!1,J(c)}}}function ai(t,e,n){let o;U(t,be,T=>n(4,o=T));let{name:i}=e,{config:l}=e,{index:a}=e,{height:c}=e,s;const r=ne();async function f(){await He(),typeof s===void 0||s==={}?console.log("No dom"):r("middleButton",{index:a,dom:s})}function h(){window.runtime.BrowserOpenURL(l.link)}const d=T=>{T.preventDefault(),r("dblclick",{})},_=T=>{h()},g=T=>{T.preventDefault(),f()},B=()=>{n(3,s.style.color=o.highlight,s)},S=()=>{n(3,s.style.color=o.textcolor,s)},w=()=>{n(3,s.style.color=o.textcolor,s)},I=()=>{n(3,s.style.color=o.textcolor,s)};function y(T){re[T?"unshift":"push"](()=>{s=T,n(3,s)})}return t.$$set=T=>{"name"in T&&n(0,i=T.name),"config"in T&&n(8,l=T.config),"index"in T&&n(1,a=T.index),"height"in T&&n(2,c=T.height)},[i,a,c,s,o,r,f,h,l,d,_,g,B,S,w,I,y]}class fi extends x{constructor(e){super(),K(this,e,ai,ri,Z,{name:0,config:8,index:1,height:2})}}function ci(t){let e,n,o,i,l,a;return{c(){e=m("div"),n=m("label"),n.textContent="What is the link address?",o=W(),i=m("input"),u(n,"for","LinkAddress"),u(n,"class","componentLabel svelte-12qnvtk"),u(i,"id","LinkAddress"),u(i,"type","text"),u(i,"class","componentInput svelte-12qnvtk"),u(e,"class","WebLinkConfig svelte-12qnvtk")},m(c,s){q(c,e,s),p(e,n),p(e,o),p(e,i),D(i,t[0].link),l||(a=[v(i,"input",t[2]),v(i,"change",t[3])],l=!0)},p(c,[s]){s&1&&i.value!==c[0].link&&D(i,c[0].link)},i:j,o:j,d(c){c&&z(e),l=!1,J(a)}}}function ui(t,e,n){let{config:o}=e;const i=ne();function l(){o.link=this.value,n(0,o)}const a=()=>{i("change",{link:o.link})};return t.$$set=c=>{"config"in c&&n(0,o=c.config)},[o,i,l,a]}class hi extends x{constructor(e){super(),K(this,e,ui,ci,Z,{config:0})}}function ut(t,e,n){const o=t.slice();return o[68]=e[n],o[70]=n,o}function ht(t,e,n){const o=t.slice();return o[71]=e[n],o[72]=e,o[70]=n,o}function pi(t){let e,n,o,i,l,a,c,s,r,f,h,d,_,g,B,S=t[8]&&pt(t),w=t[10]&&mt(t),I=t[0],y=[];for(let L=0;L<I.length;L+=1)y[L]=vt(ht(t,I,L));const T=L=>R(y[L],1,1,()=>{y[L]=null});let N=t[1].length>0&&kt(t);return{c(){S&&S.c(),e=W(),w&&w.c(),n=W(),o=m("div"),i=m("p"),i.textContent="+",l=W(),a=m("p"),a.textContent="X",c=W(),s=m("div");for(let L=0;L<y.length;L+=1)y[L].c();r=W(),f=m("div"),f.innerHTML='<span id="addTabText" class="svelte-1otjent">+</span>',h=W(),d=m("div"),N&&N.c(),u(i,"id","addControl"),u(i,"class","svelte-1otjent"),u(a,"id","closeControl"),u(a,"class","svelte-1otjent"),u(o,"id","controls"),u(o,"class","svelte-1otjent"),u(f,"id","addTab"),u(f,"class","tab svelte-1otjent"),u(s,"id","tabs"),u(s,"class","svelte-1otjent"),u(d,"id","componentList"),u(d,"class","svelte-1otjent")},m(L,V){S&&S.m(L,V),q(L,e,V),w&&w.m(L,V),q(L,n,V),q(L,o,V),p(o,i),p(o,l),p(o,a),q(L,c,V),q(L,s,V);for(let b=0;b<y.length;b+=1)y[b].m(s,null);p(s,r),p(s,f),q(L,h,V),q(L,d,V),N&&N.m(d,null),_=!0,g||(B=[v(i,"click",t[40]),v(a,"click",t[41]),v(f,"click",t[47])],g=!0)},p(L,V){if(L[8]?S?S.p(L,V):(S=pt(L),S.c(),S.m(e.parentNode,e)):S&&(S.d(1),S=null),L[10]?w?w.p(L,V):(w=mt(L),w.c(),w.m(n.parentNode,n)):w&&(w.d(1),w=null),V[0]&25182273){I=L[0];let b;for(b=0;b<I.length;b+=1){const E=ht(L,I,b);y[b]?(y[b].p(E,V),F(y[b],1)):(y[b]=vt(E),y[b].c(),F(y[b],1),y[b].m(s,r))}for(pe(),b=I.length;b<y.length;b+=1)T(b);de()}L[1].length>0?N?(N.p(L,V),V[0]&2&&F(N,1)):(N=kt(L),N.c(),F(N,1),N.m(d,null)):N&&(pe(),R(N,1,1,()=>{N=null}),de())},i(L){if(!_){for(let V=0;V<I.length;V+=1)F(y[V]);F(N),_=!0}},o(L){y=y.filter(Boolean);for(let V=0;V<y.length;V+=1)R(y[V]);R(N),_=!1},d(L){S&&S.d(L),L&&z(e),w&&w.d(L),L&&z(n),L&&z(o),L&&z(c),L&&z(s),Xe(y,L),L&&z(h),L&&z(d),N&&N.d(),g=!1,J(B)}}}function di(t){let e,n,o,i,l,a,c,s;return l=new mn({props:{widget:t[5]}}),l.$on("editComponent",t[17]),l.$on("deleteComponent",t[18]),{c(){e=m("div"),n=m("div"),o=m("p"),o.textContent="X",i=W(),ge(l.$$.fragment),u(o,"id","closeEditDialogControl"),u(o,"class","svelte-1otjent"),u(n,"id","editDialogControls"),u(n,"class","svelte-1otjent"),u(e,"id","editDialog"),C(e,"width","100%"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),u(e,"class","svelte-1otjent")},m(r,f){q(r,e,f),p(e,n),p(n,o),p(e,i),fe(l,e,null),a=!0,c||(s=v(o,"click",t[34]),c=!0)},p(r,f){const h={};f[0]&32&&(h.widget=r[5]),l.$set(h),(!a||f[0]&8192)&&C(e,"background-color",r[13].appBackground),(!a||f[0]&8192)&&C(e,"color",r[13].textcolor),(!a||f[0]&8192)&&C(e,"font-family",r[13].fontFamily),(!a||f[0]&8192)&&C(e,"font-size",r[13].fontSize)},i(r){a||(F(l.$$.fragment,r),a=!0)},o(r){R(l.$$.fragment,r),a=!1},d(r){r&&z(e),ce(l),c=!1,s()}}}function gi(t){let e,n,o,i,l,a,c,s;return l=new pn({props:{types:t[2]}}),l.$on("addNewComponent",t[15]),{c(){e=m("div"),n=m("div"),o=m("p"),o.textContent="X",i=W(),ge(l.$$.fragment),u(o,"id","closeAddDialogControl"),u(o,"class","svelte-1otjent"),u(n,"id","addDialogControls"),u(n,"class","svelte-1otjent"),u(e,"id","addDialog"),C(e,"width","100%"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),u(e,"class","svelte-1otjent")},m(r,f){q(r,e,f),p(e,n),p(n,o),p(e,i),fe(l,e,null),a=!0,c||(s=v(o,"click",t[33]),c=!0)},p(r,f){const h={};f[0]&4&&(h.types=r[2]),l.$set(h),(!a||f[0]&8192)&&C(e,"background-color",r[13].appBackground),(!a||f[0]&8192)&&C(e,"color",r[13].textcolor),(!a||f[0]&8192)&&C(e,"font-family",r[13].fontFamily),(!a||f[0]&8192)&&C(e,"font-size",r[13].fontSize)},i(r){a||(F(l.$$.fragment,r),a=!0)},o(r){R(l.$$.fragment,r),a=!1},d(r){r&&z(e),ce(l),c=!1,s()}}}function pt(t){let e,n,o,i,l,a,c=t[6]!==0&&dt(t),s=t[6]!==t[0].length-1&&gt(t);return{c(){e=m("div"),c&&c.c(),n=W(),s&&s.c(),o=W(),i=m("p"),i.textContent="Delete",u(i,"class","ContainerMenuItem svelte-1otjent"),u(e,"id","containerMenu"),C(e,"background-color",t[13].appBackground),C(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),C(e,"left",Math.floor(t[9].x+t[9].width/2)+"px"),u(e,"class","svelte-1otjent")},m(r,f){q(r,e,f),c&&c.m(e,null),p(e,n),s&&s.m(e,null),p(e,o),p(e,i),l||(a=v(i,"click",t[37]),l=!0)},p(r,f){r[6]!==0?c?c.p(r,f):(c=dt(r),c.c(),c.m(e,n)):c&&(c.d(1),c=null),r[6]!==r[0].length-1?s?s.p(r,f):(s=gt(r),s.c(),s.m(e,o)):s&&(s.d(1),s=null),f[0]&8192&&C(e,"background-color",r[13].appBackground),f[0]&512&&C(e,"top",Math.floor(r[9].height/2+r[9].y)+"px"),f[0]&512&&C(e,"left",Math.floor(r[9].x+r[9].width/2)+"px")},d(r){r&&z(e),c&&c.d(),s&&s.d(),l=!1,a()}}}function dt(t){let e,n,o;return{c(){e=m("p"),e.textContent="Move Left",u(e,"class","ContainerMenuItem svelte-1otjent")},m(i,l){q(i,e,l),n||(o=v(e,"click",t[35]),n=!0)},p:j,d(i){i&&z(e),n=!1,o()}}}function gt(t){let e,n,o;return{c(){e=m("p"),e.textContent="Move Right",u(e,"class","ContainerMenuItem svelte-1otjent")},m(i,l){q(i,e,l),n||(o=v(e,"click",t[36]),n=!0)},p:j,d(i){i&&z(e),n=!1,o()}}}function mt(t){let e,n,o=t[7]!==0&&_t(t),i=t[7]!==t[1].length-1&&bt(t);return{c(){e=m("div"),o&&o.c(),n=W(),i&&i.c(),u(e,"id","ComponentMenu"),C(e,"background-color",t[13].appBackground),C(e,"top",Math.floor(t[11].y)+"px"),C(e,"left","20px"),u(e,"class","svelte-1otjent")},m(l,a){q(l,e,a),o&&o.m(e,null),p(e,n),i&&i.m(e,null)},p(l,a){l[7]!==0?o?o.p(l,a):(o=_t(l),o.c(),o.m(e,n)):o&&(o.d(1),o=null),l[7]!==l[1].length-1?i?i.p(l,a):(i=bt(l),i.c(),i.m(e,null)):i&&(i.d(1),i=null),a[0]&8192&&C(e,"background-color",l[13].appBackground),a[0]&2048&&C(e,"top",Math.floor(l[11].y)+"px")},d(l){l&&z(e),o&&o.d(),i&&i.d()}}}function _t(t){let e,n,o;return{c(){e=m("p"),e.textContent="Up",u(e,"class","ComponentMenuItem svelte-1otjent")},m(i,l){q(i,e,l),n||(o=v(e,"click",t[38]),n=!0)},p:j,d(i){i&&z(e),n=!1,o()}}}function bt(t){let e,n,o;return{c(){e=m("p"),e.textContent="Down",u(e,"class","ComponentMenuItem svelte-1otjent")},m(i,l){q(i,e,l),n||(o=v(e,"click",t[39]),n=!0)},p:j,d(i){i&&z(e),n=!1,o()}}}function mi(t){let e,n=t[71].name+"",o,i=t[72],l=t[70],a,c;function s(){return t[45](t[70])}const r=()=>t[46](e,i,l),f=()=>t[46](null,i,l);return{c(){e=m("div"),o=Y(n),u(e,"class","tab svelte-1otjent")},m(h,d){q(h,e,d),p(e,o),r(),a||(c=v(e,"click",s),a=!0)},p(h,d){t=h,d[0]&1&&n!==(n=t[71].name+"")&&ae(o,n),(i!==t[72]||l!==t[70])&&(f(),i=t[72],l=t[70],r())},i:j,o:j,d(h){h&&z(e),f(),a=!1,c()}}}function _i(t){let e,n,o=t[72],i=t[70],l;n=new wn({props:{name:t[71].name}}),n.$on("nameChanged",t[42]),n.$on("middleButton",t[43]);const a=()=>t[44](e,o,i),c=()=>t[44](null,o,i);return{c(){e=m("div"),ge(n.$$.fragment),u(e,"class","activeTab svelte-1otjent")},m(s,r){q(s,e,r),fe(n,e,null),a(),l=!0},p(s,r){t=s;const f={};r[0]&1&&(f.name=t[71].name),n.$set(f),(o!==t[72]||i!==t[70])&&(c(),o=t[72],i=t[70],a())},i(s){l||(F(n.$$.fragment,s),l=!0)},o(s){R(n.$$.fragment,s),l=!1},d(s){s&&z(e),ce(n),c()}}}function vt(t){let e,n,o,i;const l=[_i,mi],a=[];function c(s,r){return s[70]===s[6]?0:1}return e=c(t),n=a[e]=l[e](t),{c(){n.c(),o=Ce()},m(s,r){a[e].m(s,r),q(s,o,r),i=!0},p(s,r){let f=e;e=c(s),e===f?a[e].p(s,r):(pe(),R(a[f],1,1,()=>{a[f]=null}),de(),n=a[e],n?n.p(s,r):(n=a[e]=l[e](s),n.c()),F(n,1),n.m(o.parentNode,o))},i(s){i||(F(n),i=!0)},o(s){R(n),i=!1},d(s){a[e].d(s),s&&z(o)}}}function kt(t){let e,n,o=t[1],i=[];for(let a=0;a<o.length;a+=1)i[a]=wt(ut(t,o,a));const l=a=>R(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=Ce()},m(a,c){for(let s=0;s<i.length;s+=1)i[s].m(a,c);q(a,e,c),n=!0},p(a,c){if(c[0]&268500994|c[1]&1){o=a[1];let s;for(s=0;s<o.length;s+=1){const r=ut(a,o,s);i[s]?(i[s].p(r,c),F(i[s],1)):(i[s]=wt(r),i[s].c(),F(i[s],1),i[s].m(e.parentNode,e))}for(pe(),s=o.length;s<i.length;s+=1)l(s);de()}},i(a){if(!n){for(let c=0;c<o.length;c+=1)F(i[c]);n=!0}},o(a){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)R(i[c]);n=!1},d(a){Xe(i,a),a&&z(e)}}}function wt(t){let e,n,o;function i(){return t[48](t[68])}var l=t[68].widget;function a(c){return{props:{index:c[70],height:c[68].height,name:c[68].name,config:c[68].config}}}return l&&(e=Ie(l,a(t)),e.$on("dblclick",i),e.$on("middleButton",t[49]),e.$on("changeView",t[50])),{c(){e&&ge(e.$$.fragment),n=Ce()},m(c,s){e&&fe(e,c,s),q(c,n,s),o=!0},p(c,s){t=c;const r={};if(s[0]&2&&(r.height=t[68].height),s[0]&2&&(r.name=t[68].name),s[0]&2&&(r.config=t[68].config),l!==(l=t[68].widget)){if(e){pe();const f=e;R(f.$$.fragment,1,0,()=>{ce(f,1)}),de()}l?(e=Ie(l,a(t)),e.$on("dblclick",i),e.$on("middleButton",t[49]),e.$on("changeView",t[50]),ge(e.$$.fragment),F(e.$$.fragment,1),fe(e,n.parentNode,n)):e=null}else l&&e.$set(r)},i(c){o||(e&&F(e.$$.fragment,c),o=!0)},o(c){e&&R(e.$$.fragment,c),o=!1},d(c){c&&z(n),e&&ce(e,c)}}}function bi(t){let e,n,o,i;const l=[gi,di,pi],a=[];function c(s,r){return s[3]?0:s[4]?1:2}return n=c(t),o=a[n]=l[n](t),{c(){e=m("div"),o.c(),u(e,"id","main"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),u(e,"class","svelte-1otjent")},m(s,r){q(s,e,r),a[n].m(e,null),t[51](e),i=!0},p(s,r){let f=n;n=c(s),n===f?a[n].p(s,r):(pe(),R(a[f],1,1,()=>{a[f]=null}),de(),o=a[n],o?o.p(s,r):(o=a[n]=l[n](s),o.c()),F(o,1),o.m(e,null)),(!i||r[0]&8192)&&C(e,"background-color",s[13].appBackground),(!i||r[0]&8192)&&C(e,"color",s[13].textcolor),(!i||r[0]&8192)&&C(e,"font-family",s[13].fontFamily),(!i||r[0]&8192)&&C(e,"font-size",s[13].fontSize)},i(s){i||(F(o),i=!0)},o(s){R(o),i=!1},d(s){s&&z(e),a[n].d(),t[51](null)}}}function vi(){window.go.main.App.Quit()}function ki(t,e,n){let o,i,l,a,c,s;U(t,Oe,k=>n(55,o=k)),U(t,Nt,k=>n(56,i=k)),U(t,we,k=>n(57,l=k)),U(t,Ee,k=>n(58,a=k)),U(t,ze,k=>n(59,c=k)),U(t,be,k=>n(13,s=k));let{oldState:r}=e,f=[{name:"Info",widgets:[]}],h=[],d,_=!1,g=!1,B,S=0,w,I,y=!1,T,N=!1,L,V,b,E=null;const O=ne();ve(async()=>(n(2,d=[{moduleName:"FlowVariable",module:In,config:En,configHeight:70},{moduleName:"Separator",module:zn,config:Mn,configHeight:70},{moduleName:"BirthdayCounter",module:On,config:Fn,configHeight:70},{moduleName:"IPAddress",module:Xn,config:Yn,configHeight:194},{moduleName:"Script",module:ii,config:si,configHeight:333},{moduleName:"WebLink",module:fi,config:hi,configHeight:133}]),G(r),await M(),window.moveTo(400,-20),he(ze,c=A,c),i.StartTimer(),()=>{i.StopTimer()})),on(()=>{E!==null&&(n(1,h=X(E)),E=null),A()});async function A(){if(await He(),V!=null){var k=V.clientWidth,H=V.clientHeight;k<100&&(k=400),H<40&&(H=40),y&&h.length<3&&(H+=20*(3-h.length)),N&&h.length-I<3&&(H+=20*(h.length-I)),he(Ee,a=Math.floor(k/2),a),he(we,l=k,l),Tt(k,H)}}function G(k){typeof k<"u"&&typeof k.container<"u"?(n(6,w=k.container),n(7,I=0)):(n(6,w=0),n(7,I=0))}async function M(){var k=await at(),H=await rt(k,".scriptbar"),_e=await yn(H);he(Oe,o=JSON.parse(_e),o),n(0,f=o.containers),n(1,h=[]),typeof f[w].widgets<"u"&&n(0,f[w].widgets=X(f[w].widgets),f)}function ee(k){n(1,h=[]),n(8,y=!1),n(10,N=!1),n(6,w=k),i.ClearTimers(),n(0,f[k].widgets=X(f[k].widgets),f)}async function te(){var k=await at(),H=await rt(k,".scriptbar");he(Oe,o.containers=f,o),await Cn(H,JSON.stringify(o))}function X(k){for(var H=0;H<k.length;H++){var _e=d.find(xt=>k[H].widgetName===xt.moduleName);typeof _e<"u"&&(k[H].widget=_e.module,k[H].configWidget=_e.config,k[H].configHeight=_e.configHeight,k[H].id=S,S=S+1,h.push(k[H]))}return n(0,f[w].widgets=h,f),h}function P(k){n(1,h=X([k.detail.module])),n(0,f[w].widgets=h,f),oe(),te()}function ie(k){n(5,B=k),Re()}function qe(k){n(1,h=h.map(H=>(H.id===k.detail.module.id&&(H.name=k.detail.module.name,H.height=parseInt(k.detail.module.height,10),H.config=k.detail.module.config),H))),Q(),n(0,f[w].widgets=h,f),te()}function We(k){n(1,h=h.filter(H=>{if(H.id!==k.detail.module.id)return H})),Q(),n(0,f[w].widgets=h,f),te()}function Re(){n(4,g=!0),n(8,y=!1),n(10,N=!1)}function Q(){n(4,g=!1)}function ke(){n(3,_=!0),n(8,y=!1),n(10,N=!1)}function oe(){n(3,_=!1)}function se(){f.push({name:"New",widgets:[]}),n(0,f),te()}function ue(k){n(0,f[w].name=k,f),n(0,f),te()}function le(){n(8,y=!y),y&&(n(10,N=!1),n(9,T=f[w].this.getBoundingClientRect()))}function me(){if(n(9,T=f[w-1].this.getBoundingClientRect()),w!==0){var k=f[w];n(6,w=w-1),n(0,f[w+1]=f[w],f),n(0,f[w]=k,f)}n(0,f),te()}function Qe(){if(n(9,T=f[w+1].this.getBoundingClientRect()),w!==f.length-1){var k=f[w];n(6,w=w+1),n(0,f[w-1]=f[w],f),n(0,f[w]=k,f)}n(0,f),te()}function Ye(){n(0,f=f.filter((k,H)=>H!==w)),n(6,w=0),n(1,h=[]),n(0,f[w].widgets=X(f[w].widgets),f),n(1,h=f[w].widgets),te(),n(8,y=!1)}function Ze(k){n(7,I=k.index),h.length>1&&(n(10,N=!N),N?(n(8,y=!1),b=k.dom,n(11,L=k.dom.firstChild.getBoundingClientRect())):(n(11,L={}),n(7,I=0),b=void 0))}function Ke(){if(I!==0){n(11,L=b.firstChild.getBoundingClientRect());var k=h[I];n(7,I=I-1),n(1,h[I+1]=h[I],h),n(1,h[I]=k,h),n(0,f[w].widgets=h,f),te(),E=h,n(1,h=[]),n(10,N=!1)}}function xe(){if(I!==h.length-1){n(11,L=b.firstChild.getBoundingClientRect());var k=h[I];n(7,I=I+1),n(1,h[I-1]=h[I],h),n(1,h[I]=k,h),n(0,f[w].widgets=h,f),te(),E=h,n(1,h=[]),n(10,N=!1)}}function $e(k){k.scriptbar={container:w},O("changeView",k)}const qt=()=>{oe()},Wt=()=>{Q()},Mt=k=>{me()},jt=k=>{Qe()},At=k=>{Ye()},Ot=k=>{Ke()},Dt=k=>{xe()},Ht=()=>{ke()},Ft=()=>{vi()},Rt=k=>{ue(k.detail.name)},Pt=k=>{le()};function Ut(k,H,_e){re[k?"unshift":"push"](()=>{H[_e].this=k,n(0,f)})}const Gt=k=>{ee(k)};function Xt(k,H,_e){re[k?"unshift":"push"](()=>{H[_e].this=k,n(0,f)})}const Jt=()=>{se()},Qt=k=>{ie(k)},Yt=k=>{k.preventDefault(),Ze(k.detail)},Zt=k=>{$e(k.detail)};function Kt(k){re[k?"unshift":"push"](()=>{V=k,n(12,V)})}return t.$$set=k=>{"oldState"in k&&n(32,r=k.oldState)},[f,h,d,_,g,B,w,I,y,T,N,L,V,s,ee,P,ie,qe,We,Q,ke,oe,se,ue,le,me,Qe,Ye,Ze,Ke,xe,$e,r,qt,Wt,Mt,jt,At,Ot,Dt,Ht,Ft,Rt,Pt,Ut,Gt,Xt,Jt,Qt,Yt,Zt,Kt]}class wi extends x{constructor(e){super(),K(this,e,ki,bi,Z,{oldState:32},null,[-1,-1,-1])}}function yt(t){let e,n,o,i,l;return{c(){e=m("div"),n=m("button"),o=Y("Close"),u(n,"id","closeButton"),u(n,"type","button"),C(n,"background-color",t[5].appBackground),C(n,"color",t[5].textcolor),C(n,"font-size",t[5].fontSize),u(n,"class","svelte-lqawq6"),u(e,"id","buttonRow"),u(e,"class","svelte-lqawq6")},m(a,c){q(a,e,c),p(e,n),p(n,o),i||(l=v(n,"click",t[7]),i=!0)},p(a,c){c&32&&C(n,"background-color",a[5].appBackground),c&32&&C(n,"color",a[5].textcolor),c&32&&C(n,"font-size",a[5].fontSize)},d(a){a&&z(e),i=!1,l()}}}function yi(t){let e,n,o=t[0].html+"",i,l=t[0].config.showButton&&yt(t);return{c(){e=m("div"),n=new It(!1),i=W(),l&&l.c(),n.a=i,u(e,"id","webview"),C(e,"background-color",t[0].config.backgroundColor),C(e,"color",t[5].textcolor),C(e,"font-family",t[5].fontFamily),C(e,"font-size",t[5].fontSize),C(e,"width",t[2]+"px"),C(e,"height",t[3]+"px"),C(e,"max-width",t[4].mwidth+"px"),C(e,"max-height",t[4].mheight+"px"),u(e,"class","svelte-lqawq6")},m(a,c){q(a,e,c),n.m(o,e),p(e,i),l&&l.m(e,null),t[8](e)},p(a,[c]){c&1&&o!==(o=a[0].html+"")&&n.p(o),a[0].config.showButton?l?l.p(a,c):(l=yt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null),c&1&&C(e,"background-color",a[0].config.backgroundColor),c&32&&C(e,"color",a[5].textcolor),c&32&&C(e,"font-family",a[5].fontFamily),c&32&&C(e,"font-size",a[5].fontSize),c&4&&C(e,"width",a[2]+"px"),c&8&&C(e,"height",a[3]+"px"),c&16&&C(e,"max-width",a[4].mwidth+"px"),c&16&&C(e,"max-height",a[4].mheight+"px")},i:j,o:j,d(a){a&&z(e),l&&l.d(),t[8](null)}}}function Ci(t,e,n){let o,i,l,a;U(t,we,y=>n(9,o=y)),U(t,Ee,y=>n(10,i=y)),U(t,Oe,y=>n(4,l=y)),U(t,be,y=>n(5,a=y));let{body:c}=e,s,r,f;const h=ne();ve(()=>{globalThis.closeWebView=B,he(we,o=g(),o),S(),window.setLineColor=_,window.setLineColorNew=d});function d(y){c.config.changeColor&&(y.style.backgroundColor=c.config.highlightColor)}function _(y){c.config.changeColor&&(y.style.backgroundColor=c.config.backgroundColor)}function g(y){return S(),o}function B(){h("changeView",{name:"scriptbar",body:{}})}async function S(){console.log("resizeWindow: ",l),await He(),typeof c.config.width<"u"?(n(2,r=c.config.width),n(3,f=c.config.height),he(Ee,i=Math.floor(r/2),i),he(we,o=r,o)):s!==void 0&&(n(2,r=s.clientWidth),n(3,f=s.clientHeight),console.log("resizeWindow: ",s.clientWidth,s.clientHeight),r<100&&n(2,r=400),f<40&&n(3,f=40),f>l.mheight&&n(3,f=l.mheight),r>l.mwidth&&n(2,r=l.mwidth),he(we,o=r+6,o),console.log("resizeWindow: ",r,f,o),Tt(r+6,f+6),he(Ee,i=Math.floor(o/2),i))}const w=()=>{B()};function I(y){re[y?"unshift":"push"](()=>{s=y,n(1,s)})}return t.$$set=y=>{"body"in y&&n(0,c=y.body)},t.$$.update=()=>{t.$$.dirty&1&&he(we,o=g(),o)},[c,s,r,f,l,a,B,w,I]}class Bi extends x{constructor(e){super(),K(this,e,Ci,yi,Z,{body:0})}}function Si(t){let e,n,o,i,l,a,c,s,r,f;return{c(){e=m("div"),n=m("h1"),n.textContent="Something went wrong",o=W(),i=m("p"),i.textContent="Sorry, but you somehow got to a place that isn't reachable.",l=W(),a=m("p"),a.textContent="Press be button below to get back to the normal page.",c=W(),s=m("button"),s.textContent="Go Back",u(s,"class","svelte-1953dda"),u(e,"id","errorPage"),u(e,"class","svelte-1953dda")},m(h,d){q(h,e,d),p(e,n),p(e,o),p(e,i),p(e,l),p(e,a),p(e,c),p(e,s),r||(f=v(s,"click",t[6]),r=!0)},p:j,i:j,o:j,d(h){h&&z(e),r=!1,f()}}}function Ii(t){let e,n;return e=new Bi({props:{body:t[1]}}),e.$on("changeView",t[5]),{c(){ge(e.$$.fragment)},m(o,i){fe(e,o,i),n=!0},p(o,i){const l={};i&2&&(l.body=o[1]),e.$set(l)},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){ce(e,o)}}}function Li(t){let e,n;return e=new wi({props:{oldState:t[2]}}),e.$on("changeView",t[4]),{c(){ge(e.$$.fragment)},m(o,i){fe(e,o,i),n=!0},p(o,i){const l={};i&4&&(l.oldState=o[2]),e.$set(l)},i(o){n||(F(e.$$.fragment,o),n=!0)},o(o){R(e.$$.fragment,o),n=!1},d(o){ce(e,o)}}}function Vi(t){let e,n,o,i,l,a;const c=[Li,Ii,Si],s=[];function r(f,h){return f[0]==="scriptbar"?0:f[0]==="webview"?1:2}return e=r(t),n=s[e]=c[e](t),{c(){n.c(),o=Ce()},m(f,h){s[e].m(f,h),q(f,o,h),i=!0,l||(a=[v(window,"blur",Ei),v(window,"close",Ti)],l=!0)},p(f,[h]){let d=e;e=r(f),e===d?s[e].p(f,h):(pe(),R(s[d],1,1,()=>{s[d]=null}),de(),n=s[e],n?n.p(f,h):(n=s[e]=c[e](f),n.c()),F(n,1),n.m(o.parentNode,o))},i(f){i||(F(n),i=!0)},o(f){R(n),i=!1},d(f){s[e].d(f),f&&z(o),l=!1,J(a)}}}const Ei=()=>{},Ti=()=>{};function Ni(t,e,n){let o;U(t,Fe,h=>n(7,o=h));let i="scriptbar",l={html:"<h1>Web View</h1>",config:{width:200,height:400}},a;ve(()=>{Ue("getvariable",async h=>{nt("returnvariable",o.getVar(h))}),Ue("listvariables",async()=>{nt("returnvariablelist",o.variables.map(h=>h.name))}),Ue("setvariable",async h=>{o.setVar(h.name,h.value)})});function c(h){typeof h.scriptbar<"u"&&n(2,a=h.scriptbar),n(0,i=h.name),n(1,l=h.body)}return[i,l,a,c,h=>{c(h.detail)},h=>{c(h.detail)},()=>{n(0,i="scriptbar")}]}class zi extends x{constructor(e){super(),K(this,e,Ni,Vi,Z,{})}}new zi({target:document.body,props:{}});
