var app=function(){"use strict";function t(t,e,n){window.wails.Events.OnMultiple(t,e,n)}var e={OnMultiple:t,On:function(e,n){t(e,n)},Once:function(e,n){t(e,n,1)},Emit:function(t){var e=[t].slice.call(arguments);return window.wails.Events.Emit.apply(null,e)},Heartbeat:function(t,e,n){window.wails.Events.Heartbeat(t,e,n)},Acknowledge:function(t){return window.wails.Events.Acknowledge(t)}};var n={Log:{Debug:function(t){window.wails.Log.Debug(t)},Info:function(t){window.wails.Log.Info(t)},Warning:function(t){window.wails.Log.Warning(t)},Error:function(t){window.wails.Log.Error(t)},Fatal:function(t){window.wails.Log.Fatal(t)}},Browser:{OpenURL:function(t){return window.wails.Browser.OpenURL(t)},OpenFile:function(t){return window.wails.Browser.OpenFile(t)}},Events:e,Init:function(t){window.wails._.Init(t)},Store:{New:function(t,e){return window.wails.Store.New(t,e)}}};function o(){}function i(t){return t()}function l(){return Object.create(null)}function c(t){t.forEach(i)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e,n){t.$$.on_destroy.push(function(t,...e){if(null==t)return o;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function u(t,e,n){return t.set(n),e}function p(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function v(){return m(" ")}function x(){return m("")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function $(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function _(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function C(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}class L{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=g(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)d(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(f)}}let B;function S(t){B=t}function I(){if(!B)throw new Error("Function called outside component initialization");return B}function q(t){I().$$.on_mount.push(t)}function E(){const t=I();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const V=[],z=[],N=[],T=[],M=Promise.resolve();let O=!1;function j(){O||(O=!0,M.then(P))}function H(){return j(),M}function W(t){N.push(t)}let R=!1;const A=new Set;function P(){if(!R){R=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];S(e),D(e.$$)}for(S(null),V.length=0;z.length;)z.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];A.has(e)||(A.add(e),e())}N.length=0}while(V.length);for(;T.length;)T.pop()();O=!1,R=!1,A.clear()}}function D(t){if(null!==t.fragment){t.update(),c(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const F=new Set;let U;function X(){U={r:0,c:[],p:U}}function G(){U.r||c(U.c),U=U.p}function J(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Y(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),U.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function Z(t){t&&t.c()}function K(t,e,n,o){const{fragment:l,on_mount:r,on_destroy:s,after_update:u}=t.$$;l&&l.m(e,n),o||W((()=>{const e=r.map(i).filter(a);s?s.push(...e):c(e),t.$$.on_mount=[]})),u.forEach(W)}function Q(t,e){const n=t.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e,n,i,a,r,s,u=[-1]){const p=B;S(t);const d=t.$$={fragment:null,ctx:null,props:r,update:o,not_equal:a,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(p?p.$$.context:[])),callbacks:l(),dirty:u,skip_bound:!1,root:e.target||p.$$.root};s&&s(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),h&&function(t,e){-1===t.$$.dirty[0]&&(V.push(t),j(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],d.update(),h=!0,c(d.before_update),d.fragment=!!i&&i(d.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);d.fragment&&d.fragment.l(t),t.forEach(f)}else d.fragment&&d.fragment.c();e.intro&&J(t.$$.fragment),K(t,e.target,e.anchor,e.customElement),P()}S(p)}class et{$destroy(){Q(this,1),this.$destroy=o}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const nt=[];function ot(t,e=o){let n;const i=new Set;function l(e){if(r(t,e)&&(t=e,n)){const e=!nt.length;for(const e of i)e[1](),nt.push(e,t);if(e){for(let t=0;t<nt.length;t+=2)nt[t][0](nt[t+1]);nt.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(c,a=o){const r=[c,a];return i.add(r),1===i.size&&(n=e(l)||o),c(t),()=>{i.delete(r),0===i.size&&(n(),n=null)}}}}const it=ot({appBackground:"#2A212C",textcolor:"#80FFEA",fontSize:"14px",fontFamily:"Arial",highlight:"#9580FF"}),lt=ot(void 0);function ct(t,e,n){const o=t.slice();return o[17]=e[n],o}function at(t){let e,n,o,i=t[17].moduleName+"";return{c(){e=g("option"),n=m(i),e.__value=o=t[17].moduleName,e.value=e.__value},m(t,o){d(t,e,o),p(e,n)},p(t,l){1&l&&i!==(i=t[17].moduleName+"")&&y(n,i),1&l&&o!==(o=t[17].moduleName)&&(e.__value=o,e.value=e.__value)},d(t){t&&f(e)}}}function rt(t){let e,n,o;var i=t[5].config;function l(t){return{props:{config:t[4]}}}return i&&(e=new i(l(t)),e.$on("change",t[12])),{c(){e&&Z(e.$$.fragment),n=x()},m(t,i){e&&K(e,t,i),d(t,n,i),o=!0},p(t,o){const c={};if(16&o&&(c.config=t[4]),i!==(i=t[5].config)){if(e){X();const t=e;Y(t.$$.fragment,1,0,(()=>{Q(t,1)})),G()}i?(e=new i(l(t)),e.$on("change",t[12]),Z(e.$$.fragment),J(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(t){o||(e&&J(e.$$.fragment,t),o=!0)},o(t){e&&Y(e.$$.fragment,t),o=!1},d(t){t&&f(n),e&&Q(e,t)}}}function st(t){let e,n,o,i,l,a,r,s,u,x,y,$,C,L,B,S,I,q,E,V,z,N,T,M=t[0],O=[];for(let e=0;e<M.length;e+=1)O[e]=at(ct(t,M,e));let j=null!==t[5]&&rt(t);return{c(){e=g("div"),n=g("label"),n.textContent="What's the name?",o=v(),i=g("input"),a=v(),r=g("label"),r.textContent="What Type of Component?",s=v(),u=g("select");for(let t=0;t<O.length;t+=1)O[t].c();y=v(),$=g("label"),$.textContent="Height:",C=v(),L=g("input"),S=v(),j&&j.c(),I=v(),q=g("button"),E=m("Add Component"),w(n,"class","componentLabel svelte-1ttny9a"),w(n,"for","componentName"),w(i,"type","text"),w(i,"class","componentInput svelte-1ttny9a"),w(i,"id","componentName"),w(i,"color",l=t[6].appBackground),w(r,"for","componentTypeInput"),w(r,"class","componentLabel svelte-1ttny9a"),w(u,"name","componentTypeInput"),w(u,"class","componentInput svelte-1ttny9a"),w(u,"color",x=t[6].appBackground),w(u,"id","componentTypeInput"),void 0===t[1]&&W((()=>t[10].call(u))),w($,"for","componentHeight"),w($,"class","componentLabel svelte-1ttny9a"),w(L,"type","text"),w(L,"class","componentInput svelte-1ttny9a"),w(L,"color",B=t[6].appBackground),w(L,"id","componentHeight"),w(q,"id","addComponentButton"),w(q,"type","button"),w(q,"color",V=t[6].appBackground),w(q,"class","svelte-1ttny9a"),w(e,"id","addComponentDialog"),w(e,"class","svelte-1ttny9a")},m(l,c){d(l,e,c),p(e,n),p(e,o),p(e,i),k(i,t[3]),p(e,a),p(e,r),p(e,s),p(e,u);for(let t=0;t<O.length;t+=1)O[t].m(u,null);_(u,t[1]),p(e,y),p(e,$),p(e,C),p(e,L),k(L,t[2]),p(e,S),j&&j.m(e,null),p(e,I),p(e,q),p(q,E),z=!0,N||(T=[b(i,"input",t[9]),b(u,"change",t[10]),b(u,"change",t[8]),b(L,"input",t[11]),b(q,"click",t[13])],N=!0)},p(t,[n]){if((!z||64&n&&l!==(l=t[6].appBackground))&&w(i,"color",l),8&n&&i.value!==t[3]&&k(i,t[3]),1&n){let e;for(M=t[0],e=0;e<M.length;e+=1){const o=ct(t,M,e);O[e]?O[e].p(o,n):(O[e]=at(o),O[e].c(),O[e].m(u,null))}for(;e<O.length;e+=1)O[e].d(1);O.length=M.length}(!z||64&n&&x!==(x=t[6].appBackground))&&w(u,"color",x),3&n&&_(u,t[1]),(!z||64&n&&B!==(B=t[6].appBackground))&&w(L,"color",B),4&n&&L.value!==t[2]&&k(L,t[2]),null!==t[5]?j?(j.p(t,n),32&n&&J(j,1)):(j=rt(t),j.c(),J(j,1),j.m(e,I)):j&&(X(),Y(j,1,1,(()=>{j=null})),G()),(!z||64&n&&V!==(V=t[6].appBackground))&&w(q,"color",V)},i(t){z||(J(j),z=!0)},o(t){Y(j),z=!1},d(t){t&&f(e),h(O,t),j&&j.d(),N=!1,c(T)}}}function ut(t,e,n){let o,i;s(t,lt,(t=>n(14,o=t))),s(t,it,(t=>n(6,i=t)));let{types:l}=e;const c=E();let a=null,r=30,u="",p={},d=null;function f(t){var e={};return null!==t&&(e=l.find((e=>e.moduleName===t))),e}function h(){null===p&&n(4,p={}),c("addNewComponent",{module:{name:u,widgetName:a,height:parseInt(r,10),config:p}}),n(3,u=""),n(1,a=null),n(2,r=30),n(4,p={})}q((()=>{n(1,a=l[0].moduleName),n(5,d=f(a))}));return t.$$set=t=>{"types"in t&&n(0,l=t.types)},t.$$.update=()=>{2&t.$$.dirty&&n(5,d=f(a))},[l,a,r,u,p,d,i,h,function(){setTimeout((()=>{o()}),50)},function(){u=this.value,n(3,u)},function(){a=C(this),n(1,a),n(0,l)},function(){r=this.value,n(2,r)},t=>{n(4,p=t.detail)},()=>{h()}]}class pt extends et{constructor(t){super(),tt(this,t,ut,st,r,{types:0})}}function dt(t){let e,n,o;var i=t[3];function l(t){return{props:{config:t[2]}}}return i&&(e=new i(l(t)),e.$on("change",t[10])),{c(){e&&Z(e.$$.fragment),n=x()},m(t,i){e&&K(e,t,i),d(t,n,i),o=!0},p(t,o){const c={};if(4&o&&(c.config=t[2]),i!==(i=t[3])){if(e){X();const t=e;Y(t.$$.fragment,1,0,(()=>{Q(t,1)})),G()}i?(e=new i(l(t)),e.$on("change",t[10]),Z(e.$$.fragment),J(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(t){o||(e&&J(e.$$.fragment,t),o=!0)},o(t){e&&Y(e.$$.fragment,t),o=!1},d(t){t&&f(n),e&&Q(e,t)}}}function ft(t){let e,n,o,i,l,a,r,s,u,h,x,y,$,_,C,L,B,S,I,q,E,V,z,N=null!==t[3]&&dt(t);return{c(){e=g("div"),n=g("label"),n.textContent="What's the name?",o=v(),i=g("input"),a=v(),r=g("label"),r.textContent="Height:",s=v(),u=g("input"),x=v(),N&&N.c(),y=v(),$=g("div"),_=g("button"),C=m("Save Component"),B=v(),S=g("button"),I=m("Delete Component"),w(n,"class","componentLabel svelte-113kdcb"),w(n,"for","componentName"),w(i,"type","text"),w(i,"class","componentInput svelte-113kdcb"),w(i,"id","componentName"),w(i,"color",l=t[4].appBackground),w(r,"for","componentHeight"),w(r,"class","componentLabel svelte-113kdcb"),w(u,"type","text"),w(u,"class","componentInput svelte-113kdcb"),w(u,"color",h=t[4].appBackground),w(u,"id","componentHeight"),w(_,"id","editComponentButton"),w(_,"type","button"),w(_,"color",L=t[4].appBackground),w(_,"class","svelte-113kdcb"),w(S,"id","deleteComponentButton"),w(S,"type","button"),w(S,"color",q=t[4].appBackground),w(S,"class","svelte-113kdcb"),w($,"id","buttonRow"),w($,"class","svelte-113kdcb"),w(e,"id","editComponentDialog"),w(e,"class","svelte-113kdcb")},m(l,c){d(l,e,c),p(e,n),p(e,o),p(e,i),k(i,t[1]),p(e,a),p(e,r),p(e,s),p(e,u),k(u,t[0]),p(e,x),N&&N.m(e,null),p(e,y),p(e,$),p($,_),p(_,C),p($,B),p($,S),p(S,I),E=!0,V||(z=[b(i,"input",t[8]),b(u,"input",t[9]),b(_,"click",t[11]),b(S,"click",t[12])],V=!0)},p(t,[n]){(!E||16&n&&l!==(l=t[4].appBackground))&&w(i,"color",l),2&n&&i.value!==t[1]&&k(i,t[1]),(!E||16&n&&h!==(h=t[4].appBackground))&&w(u,"color",h),1&n&&u.value!==t[0]&&k(u,t[0]),null!==t[3]?N?(N.p(t,n),8&n&&J(N,1)):(N=dt(t),N.c(),J(N,1),N.m(e,y)):N&&(X(),Y(N,1,1,(()=>{N=null})),G()),(!E||16&n&&L!==(L=t[4].appBackground))&&w(_,"color",L),(!E||16&n&&q!==(q=t[4].appBackground))&&w(S,"color",q)},i(t){E||(J(N),E=!0)},o(t){Y(N),E=!1},d(t){t&&f(e),N&&N.d(),V=!1,c(z)}}}function ht(t,e,n){let o;s(t,it,(t=>n(4,o=t)));let{widget:i}=e;const l=E();let c=null,a=30,r="",u={},p=null;function d(t){return n(3,p=t.configWidget),n(1,r=t.name),c=t.widgetName,n(0,a=t.height),n(2,u=t.config),t}function f(){null===u&&n(2,u={}),l("editComponent",{module:{id:i.id,name:r,widgetName:c,height:parseInt(a,10),config:u}})}function h(){l("deleteComponent",{module:{id:i.id}})}q((()=>{n(7,i=d(i))}));return t.$$set=t=>{"widget"in t&&n(7,i=t.widget)},t.$$.update=()=>{128&t.$$.dirty&&n(7,i=d(i))},[a,r,u,p,o,f,h,i,function(){r=this.value,n(1,r)},function(){a=this.value,n(0,a)},t=>{n(2,u=t.detail)},()=>{f()},()=>{h()}]}class gt extends et{constructor(t){super(),tt(this,t,ht,ft,r,{widget:7})}}function mt(t){let e,n,o,i;return{c(){e=g("span"),n=m(t[0]),w(e,"class","pListName svelte-1u9rxym")},m(l,c){d(l,e,c),p(e,n),o||(i=[b(e,"dblclick",t[10]),b(e,"contextmenu",t[11])],o=!0)},p(t,e){1&e&&y(n,t[0])},d(t){t&&f(e),o=!1,c(i)}}}function vt(t){let e,n,o;return{c(){e=g("textarea"),w(e,"class","eListName svelte-1u9rxym")},m(i,l){d(i,e,l),k(e,t[0]),t[7](e),n||(o=[b(e,"input",t[6]),b(e,"keydown",t[8]),b(e,"blur",t[9])],n=!0)},p(t,n){1&n&&k(e,t[0])},d(i){i&&f(e),t[7](null),n=!1,c(o)}}}function xt(t){let e;function n(t,e){return t[2]?vt:mt}let i=n(t),l=i(t);return{c(){e=g("div"),l.c(),w(e,"class","editSpanField svelte-1u9rxym")},m(t,n){d(t,e,n),l.m(e,null)},p(t,[o]){i===(i=n(t))&&l?l.p(t,o):(l.d(1),l=i(t),l&&(l.c(),l.m(e,null)))},i:o,o:o,d(t){t&&f(e),l.d()}}}function bt(t,e,n){let o,{name:i}=e,l=!1;const c=E();function a(){c("middleButton",{})}async function r(){n(2,l=!0),await H(),o.focus()}function s(){c("nameChanged",{name:o.value}),n(2,l=!1)}return t.$$set=t=>{"name"in t&&n(0,i=t.name)},[i,o,l,a,r,s,function(){i=this.value,n(0,i)},function(t){z[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},t=>{"Enter"===t.code&&s()},()=>{s()},()=>{r()},t=>{t.preventDefault(),a()}]}class wt extends et{constructor(t){super(),tt(this,t,bt,xt,r,{name:0})}}const yt=ot(0),kt=ot(400);function $t(t){let e,n;return{c(){e=g("div"),n=g("div"),w(n,"id","HeaderInside"),$(n,"left",t[2]+"px"),$(n,"height","100%"),$(n,"border-bottom-color",t[3].appBackground),w(n,"class","svelte-1xc26tp"),w(e,"id","HeaderOutside"),$(e,"width",t[1]+"px"),w(e,"class","svelte-1xc26tp")},m(o,i){d(o,e,i),p(e,n),t[4](e)},p(t,[o]){4&o&&$(n,"left",t[2]+"px"),8&o&&$(n,"border-bottom-color",t[3].appBackground),2&o&&$(e,"width",t[1]+"px")},i:o,o:o,d(n){n&&f(e),t[4](null)}}}function _t(t,e,n){let o,i,l,c;return s(t,kt,(t=>n(1,o=t))),s(t,yt,(t=>n(2,i=t))),s(t,it,(t=>n(3,l=t))),[c,o,i,l,function(t){z[t?"unshift":"push"]((()=>{c=t,n(0,c)}))}]}class Ct extends et{constructor(t){super(),tt(this,t,_t,$t,r,{})}}const Lt=ot(0);function Bt(t){let e,n,i,l,a,r,s,u;return{c(){e=g("div"),n=g("p"),i=m(t[0]),l=v(),a=g("p"),r=m(t[4]),w(n,"class","name svelte-1xqw1f6"),$(n,"font-size",t[5].fontSize),w(n,"data-index",t[1]),w(a,"class","value svelte-1xqw1f6"),$(a,"font-size",t[5].fontSize),w(a,"data-index",t[1]),w(e,"class","main svelte-1xqw1f6"),$(e,"height",Math.floor(t[2])+"px"),w(e,"data-index",t[1])},m(o,c){d(o,e,c),p(e,n),p(n,i),p(e,l),p(e,a),p(a,r),t[15](e),s||(u=[b(n,"dblclick",t[9]),b(n,"contextmenu",t[10]),b(e,"mouseenter",t[11]),b(e,"mouseleave",t[12]),b(e,"mouseout",t[13]),b(e,"blur",t[14])],s=!0)},p(t,[o]){1&o&&y(i,t[0]),32&o&&$(n,"font-size",t[5].fontSize),2&o&&w(n,"data-index",t[1]),16&o&&y(r,t[4]),32&o&&$(a,"font-size",t[5].fontSize),2&o&&w(a,"data-index",t[1]),4&o&&$(e,"height",Math.floor(t[2])+"px"),2&o&&w(e,"data-index",t[1])},i:o,o:o,d(n){n&&f(e),t[15](null),s=!1,c(u)}}}function St(t,e,n){let o,i;s(t,lt,(t=>n(17,o=t))),s(t,it,(t=>n(5,i=t)));let l,{name:c}=e,{config:a}=e,{index:r}=e,{height:u}=e,p=0;const d=E();let f="loading...";function h(){fetch("http://localhost:9978/api/nodered/var/"+a.flowVar).then((t=>t.json())).then((t=>{null!==t&&void 0!==t.text&&null!==t.text&&(n(4,f=t.text),p=0,o())})).catch((t=>{n(4,f="not reachable: "+p),setTimeout((()=>{p++,h()}),6e4)}))}function g(){d("middleButton",{index:r,dom:l})}q((()=>{h();var t=Lt.subscribe((t=>{void 0!==typeof a.period&&0!==a.period&&t%a.period==0&&h()}));return()=>{t()}}));return t.$$set=t=>{"name"in t&&n(0,c=t.name),"config"in t&&n(8,a=t.config),"index"in t&&n(1,r=t.index),"height"in t&&n(2,u=t.height)},t.$$.update=()=>{2&t.$$.dirty&&h()},[c,r,u,l,f,i,d,g,a,t=>{d("dblclick",{})},t=>{t.preventDefault(),g()},()=>{n(3,l.style.color=i.highlight,l)},()=>{n(3,l.style.color=i.textcolor,l)},()=>{n(3,l.style.color=i.textcolor,l)},()=>{n(3,l.style.color=i.textcolor,l)},function(t){z[t?"unshift":"push"]((()=>{l=t,n(3,l)}))}]}class It extends et{constructor(t){super(),tt(this,t,St,Bt,r,{name:0,config:8,index:1,height:2})}}function qt(t){let e,n,i,l,a,r,s,u,h,m;return{c(){e=g("div"),n=g("label"),n.textContent="What is the name of the variable?",i=v(),l=g("input"),a=v(),r=g("label"),r.textContent="How often to reload? (number of minutes)",s=v(),u=g("input"),w(n,"for","Name"),w(n,"class","componentLabel svelte-eoh90a"),w(l,"id","Name"),w(l,"type","text"),w(l,"class","componentInput svelte-eoh90a"),w(r,"for","Name"),w(r,"class","componentLabel svelte-eoh90a"),w(u,"id","Period"),w(u,"type","text"),w(u,"class","componentInput svelte-eoh90a"),w(e,"class","FlowVariableConfig svelte-eoh90a")},m(o,c){d(o,e,c),p(e,n),p(e,i),p(e,l),k(l,t[0].flowVar),p(e,a),p(e,r),p(e,s),p(e,u),k(u,t[0].period),h||(m=[b(l,"input",t[2]),b(l,"change",t[3]),b(u,"input",t[4]),b(u,"change",t[5])],h=!0)},p(t,[e]){1&e&&l.value!==t[0].flowVar&&k(l,t[0].flowVar),1&e&&u.value!==t[0].period&&k(u,t[0].period)},i:o,o:o,d(t){t&&f(e),h=!1,c(m)}}}function Et(t,e,n){const o=E();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,o,function(){i.flowVar=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar,period:i.period})},function(){i.period=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar,period:i.period})}]}class Vt extends et{constructor(t){super(),tt(this,t,Et,qt,r,{config:0})}}function zt(t){let e,n,i,l;return{c(){e=g("div"),n=g("hr"),w(n,"id",t[0]),w(n,"class","svelte-n4txif"),w(e,"class","main svelte-n4txif"),$(e,"height",Math.floor(t[1])+"px")},m(o,c){d(o,e,c),p(e,n),t[9](e),i||(l=[b(e,"contextmenu",t[7]),b(e,"dblclick",t[8])],i=!0)},p(t,[o]){1&o&&w(n,"id",t[0]),2&o&&$(e,"height",Math.floor(t[1])+"px")},i:o,o:o,d(n){n&&f(e),t[9](null),i=!1,c(l)}}}function Nt(t,e,n){let o,{config:i}=e,{name:l}=e,{index:c}=e,{height:a}=e;const r=E();function s(){n(5,i),r("middleButton",{index:c,dom:o})}return t.$$set=t=>{"config"in t&&n(5,i=t.config),"name"in t&&n(0,l=t.name),"index"in t&&n(6,c=t.index),"height"in t&&n(1,a=t.height)},[l,a,o,r,s,i,c,t=>{t.preventDefault(),s()},t=>{t.preventDefault(),r("dblclick",{})},function(t){z[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class Tt extends et{constructor(t){super(),tt(this,t,Nt,zt,r,{config:5,name:0,index:6,height:1})}}function Mt(t){let e;return{c(){e=g("div"),w(e,"class","SeparatorConfig svelte-6l742t")},m(t,n){d(t,e,n)},p:o,i:o,o:o,d(t){t&&f(e)}}}function Ot(t,e,n){let{config:o}=e;return t.$$set=t=>{"config"in t&&n(0,o=t.config)},t.$$.update=()=>{1&t.$$.dirty&&n(0,o)},[o]}class jt extends et{constructor(t){super(),tt(this,t,Ot,Mt,r,{config:0})}}function Ht(t){let e,n,i,l,a,r,s,u;return{c(){e=g("div"),n=g("p"),i=m(t[4]),l=v(),a=g("p"),r=m(t[3]),w(n,"class","name svelte-1xqw1f6"),$(n,"font-size",t[5].fontSize),w(n,"data-index",t[0]),w(a,"class","value svelte-1xqw1f6"),$(a,"font-size",t[5].fontSize),w(a,"data-index",t[0]),w(e,"class","main svelte-1xqw1f6"),$(e,"height",Math.floor(t[1])+"px"),w(e,"data-index",t[0])},m(o,c){d(o,e,c),p(e,n),p(n,i),p(e,l),p(e,a),p(a,r),t[12](e),s||(u=[b(n,"dblclick",t[10]),b(n,"contextmenu",t[11]),b(e,"mouseenter",t[13]),b(e,"mouseleave",t[14]),b(e,"mouseout",t[15]),b(e,"blur",t[16])],s=!0)},p(t,[o]){16&o&&y(i,t[4]),32&o&&$(n,"font-size",t[5].fontSize),1&o&&w(n,"data-index",t[0]),8&o&&y(r,t[3]),32&o&&$(a,"font-size",t[5].fontSize),1&o&&w(a,"data-index",t[0]),2&o&&$(e,"height",Math.floor(t[1])+"px"),1&o&&w(e,"data-index",t[0])},i:o,o:o,d(n){n&&f(e),t[12](null),s=!1,c(u)}}}function Wt(t,e,n){let o,i;s(t,lt,(t=>n(17,o=t))),s(t,it,(t=>n(5,i=t)));let l,c,{name:a}=e,{config:r}=e,{index:u}=e,{height:p}=e,d="loading...";const f=E();function h(t){fetch("http://localhost:9978/api/nodered/var/"+r.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text&&(void 0!==t.text.days&&n(3,d=t.text.days),void 0!==t.text.age?n(4,c=a+": "+t.text.age):n(4,c=a),o())})).catch((t=>{n(4,c=a),n(3,d="not reachable")}))}function g(){f("middleButton",{index:u,dom:l})}q((()=>{n(4,c=a)}));return t.$$set=t=>{"name"in t&&n(8,a=t.name),"config"in t&&n(9,r=t.config),"index"in t&&n(0,u=t.index),"height"in t&&n(1,p=t.height)},t.$$.update=()=>{1&t.$$.dirty&&h()},[u,p,l,d,c,i,f,g,a,r,t=>{f("dblclick",{})},t=>{t.preventDefault(),g()},function(t){z[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},()=>{n(2,l.style.color=i.highlight,l)},()=>{n(2,l.style.color=i.textcolor,l)},()=>{n(2,l.style.color=i.textcolor,l)},()=>{n(2,l.style.color=i.textcolor,l)}]}class Rt extends et{constructor(t){super(),tt(this,t,Wt,Ht,r,{name:8,config:9,index:0,height:1})}}function At(t){let e,n,i,l,a,r;return{c(){e=g("div"),n=g("label"),n.textContent="Who's birthday? (Name of Variable)",i=v(),l=g("input"),w(n,"for","Name"),w(n,"class","componentLabel svelte-10sirl3"),w(l,"id","Name"),w(l,"type","text"),w(l,"class","componentInput svelte-10sirl3"),w(e,"class","BirthdayConfig svelte-10sirl3")},m(o,c){d(o,e,c),p(e,n),p(e,i),p(e,l),k(l,t[0].flowVar),a||(r=[b(l,"input",t[2]),b(l,"change",t[3])],a=!0)},p(t,[e]){1&e&&l.value!==t[0].flowVar&&k(l,t[0].flowVar)},i:o,o:o,d(t){t&&f(e),a=!1,c(r)}}}function Pt(t,e,n){const o=E();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,o,function(){i.flowVar=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar})}]}class Dt extends et{constructor(t){super(),tt(this,t,Pt,At,r,{config:0})}}function Ft(t){let e,n;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),$(e,"font-size",t[6].fontSize),w(e,"data-index",t[2])},m(t,o){d(t,e,o),p(e,n)},p(t,o){32&o&&y(n,t[5]),64&o&&$(e,"font-size",t[6].fontSize),4&o&&w(e,"data-index",t[2])},d(t){t&&f(e)}}}function Ut(t){let e,n,o,i;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),$(e,"font-size",t[6].fontSize),$(e,"cursor","pointer"),w(e,"data-index",t[2])},m(l,c){d(l,e,c),p(e,n),o||(i=b(e,"click",t[12]),o=!0)},p(t,o){32&o&&y(n,t[5]),64&o&&$(e,"font-size",t[6].fontSize),4&o&&w(e,"data-index",t[2])},d(t){t&&f(e),o=!1,i()}}}function Xt(t){let e,n,i,l,a,r;function s(t,e){return t[1].showLink?Ut:Ft}let u=s(t),h=u(t);return{c(){e=g("div"),n=g("p"),i=m(t[0]),l=v(),h.c(),w(n,"class","name svelte-1xqw1f6"),$(n,"font-size",t[6].fontSize),w(n,"data-index",t[2]),w(e,"class","main svelte-1xqw1f6"),$(e,"height",Math.floor(t[3])+"px"),w(e,"data-index",t[2])},m(o,c){d(o,e,c),p(e,n),p(n,i),p(e,l),h.m(e,null),t[17](e),a||(r=[b(n,"dblclick",t[10]),b(n,"contextmenu",t[11]),b(e,"mouseenter",t[13]),b(e,"mouseleave",t[14]),b(e,"mouseout",t[15]),b(e,"blur",t[16])],a=!0)},p(t,[o]){1&o&&y(i,t[0]),64&o&&$(n,"font-size",t[6].fontSize),4&o&&w(n,"data-index",t[2]),u===(u=s(t))&&h?h.p(t,o):(h.d(1),h=u(t),h&&(h.c(),h.m(e,null))),8&o&&$(e,"height",Math.floor(t[3])+"px"),4&o&&w(e,"data-index",t[2])},i:o,o:o,d(n){n&&f(e),h.d(),t[17](null),a=!1,c(r)}}}function Gt(t,e,n){let o;s(t,it,(t=>n(6,o=t)));let i,{name:l}=e,{config:c}=e,{index:a}=e,{height:r}=e,u="loading...",p="";const d=E();function f(){c.showLink&&backend.writeClipboard(p)}function h(){fetch("http://localhost:9978/api/nodered/var/"+c.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text?(void 0!==t.text.ip&&n(5,u=t.text.ip),p="http://"+u,0!==parseInt(c.port)&&(p+=":"+c.port)):(n(5,u="loading..."),p="")}))}function g(){d("middleButton",{index:a,dom:i})}q((()=>{h()}));return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(1,c=t.config),"index"in t&&n(2,a=t.index),"height"in t&&n(3,r=t.height)},t.$$.update=()=>{4&t.$$.dirty&&h()},[l,c,a,r,i,u,o,d,f,g,t=>{d("dblclick",{})},t=>{t.preventDefault(),g()},t=>{f()},()=>{n(4,i.style.color=o.highlight,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},function(t){z[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class Jt extends et{constructor(t){super(),tt(this,t,Gt,Xt,r,{name:0,config:1,index:2,height:3})}}function Yt(t){let e,n,i,l,a,r,s,u,h,m,x,y,$,_;return{c(){e=g("div"),n=g("label"),n.textContent="What is the variable name?",i=v(),l=g("input"),a=v(),r=g("label"),r.textContent="Have a link?",s=v(),u=g("input"),h=v(),m=g("label"),m.textContent="What port to open on click?",x=v(),y=g("input"),w(n,"for","Variable"),w(n,"class","componentLabel svelte-rqnqoj"),w(l,"id","Variable"),w(l,"type","text"),w(l,"class","componentInput svelte-rqnqoj"),w(r,"for","Link"),w(r,"class","componentLabel svelte-rqnqoj"),w(u,"id","Link"),w(u,"type","checkbox"),w(u,"class","componentInput svelte-rqnqoj"),w(m,"for","Port"),w(m,"class","componentLabel svelte-rqnqoj"),w(y,"id","Port"),w(y,"type","text"),w(y,"class","componentInput svelte-rqnqoj"),w(e,"class","IPAddressConfig svelte-rqnqoj")},m(o,c){d(o,e,c),p(e,n),p(e,i),p(e,l),k(l,t[0].flowVar),p(e,a),p(e,r),p(e,s),p(e,u),u.checked=t[0].showLink,p(e,h),p(e,m),p(e,x),p(e,y),k(y,t[0].port),$||(_=[b(l,"input",t[2]),b(l,"change",t[1]),b(u,"change",t[3]),b(u,"change",t[1]),b(y,"input",t[4]),b(y,"change",t[1])],$=!0)},p(t,[e]){1&e&&l.value!==t[0].flowVar&&k(l,t[0].flowVar),1&e&&(u.checked=t[0].showLink),1&e&&y.value!==t[0].port&&k(y,t[0].port)},i:o,o:o,d(t){t&&f(e),$=!1,c(_)}}}function Zt(t,e,n){const o=E();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,function(t){console.log(i.showLink),o("change",{flowVar:i.flowVar,showLink:i.showLink,port:parseInt(i.port,10)})},function(){i.flowVar=this.value,n(0,i)},function(){i.showLink=this.checked,n(0,i)},function(){i.port=this.value,n(0,i)}]}class Kt extends et{constructor(t){super(),tt(this,t,Zt,Yt,r,{config:0})}}function Qt(t){let e,n;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),$(e,"font-size",t[6].fontSize)},m(t,o){d(t,e,o),p(e,n)},p(t,o){32&o&&y(n,t[5]),64&o&&$(e,"font-size",t[6].fontSize)},d(t){t&&f(e)}}}function te(t){let e,n,o,i;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),$(e,"font-size",t[6].fontSize),$(e,"cursor","pointer"),w(e,"data-index",t[2])},m(l,c){d(l,e,c),p(e,n),o||(i=b(e,"click",t[12]),o=!0)},p(t,o){32&o&&y(n,t[5]),64&o&&$(e,"font-size",t[6].fontSize),4&o&&w(e,"data-index",t[2])},d(t){t&&f(e),o=!1,i()}}}function ee(t){let e,n,i,l,a,r;function s(t,e){return t[1].showLink?te:Qt}let u=s(t),h=u(t);return{c(){e=g("div"),n=g("p"),i=m(t[0]),l=v(),h.c(),w(n,"class","name svelte-1xqw1f6"),$(n,"font-size",t[6].fontSize),w(n,"data-index",t[2]),w(e,"class","main svelte-1xqw1f6"),$(e,"height",Math.floor(t[3])+"px"),w(e,"data-index",t[2])},m(o,c){d(o,e,c),p(e,n),p(n,i),p(e,l),h.m(e,null),t[17](e),a||(r=[b(n,"dblclick",t[10]),b(n,"contextmenu",t[11]),b(e,"mouseenter",t[13]),b(e,"mouseleave",t[14]),b(e,"mouseout",t[15]),b(e,"blur",t[16])],a=!0)},p(t,[o]){1&o&&y(i,t[0]),64&o&&$(n,"font-size",t[6].fontSize),4&o&&w(n,"data-index",t[2]),u===(u=s(t))&&h?h.p(t,o):(h.d(1),h=u(t),h&&(h.c(),h.m(e,null))),8&o&&$(e,"height",Math.floor(t[3])+"px"),4&o&&w(e,"data-index",t[2])},i:o,o:o,d(n){n&&f(e),h.d(),t[17](null),a=!1,c(r)}}}function ne(t,e,n){let o;s(t,it,(t=>n(6,o=t)));let i,{name:l}=e,{config:c}=e,{index:a}=e,{height:r}=e,u="loading...",p="";const d=E();function f(){fetch("http://localhost:9978/api/getip").then((t=>t.json())).then((t=>{null!==t&&(void 0!==t.ip&&n(5,u=t.ip),p="http://"+u,0!==parseInt(c.port)&&(p+=":"+c.port))}))}function h(){c.showLink&&backend.writeClipboard(p)}function g(){d("middleButton",{index:a,dom:i})}q((()=>{f()}));return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(1,c=t.config),"index"in t&&n(2,a=t.index),"height"in t&&n(3,r=t.height)},t.$$.update=()=>{4&t.$$.dirty&&f()},[l,c,a,r,i,u,o,d,h,g,t=>{d("dblclick",{})},t=>{t.preventDefault(),g()},t=>{h()},()=>{n(4,i.style.color=o.highlight,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},function(t){z[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class oe extends et{constructor(t){super(),tt(this,t,ne,ee,r,{name:0,config:1,index:2,height:3})}}function ie(t){let e,n,i,l,a,r,s,u,h,m;return{c(){e=g("div"),n=g("label"),n.textContent="Have a link?",i=v(),l=g("input"),a=v(),r=g("label"),r.textContent="What port to open on click?",s=v(),u=g("input"),w(n,"for","Name"),w(n,"class","componentLabel svelte-2ope4y"),w(l,"id","Name"),w(l,"type","checkbox"),w(l,"class","componentInput svelte-2ope4y"),w(r,"for","Port"),w(r,"class","componentLabel svelte-2ope4y"),w(u,"id","Port"),w(u,"type","text"),w(u,"class","componentInput svelte-2ope4y"),w(e,"class","IntIPAddressConfig svelte-2ope4y")},m(o,c){d(o,e,c),p(e,n),p(e,i),p(e,l),l.checked=t[0].showLink,p(e,a),p(e,r),p(e,s),p(e,u),k(u,t[0].port),h||(m=[b(l,"change",t[2]),b(l,"change",t[1]),b(u,"input",t[3]),b(u,"change",t[1])],h=!0)},p(t,[e]){1&e&&(l.checked=t[0].showLink),1&e&&u.value!==t[0].port&&k(u,t[0].port)},i:o,o:o,d(t){t&&f(e),h=!1,c(m)}}}function le(t,e,n){const o=E();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,function(t){o("change",{showLink:i.showLink,port:parseInt(i.port,10)})},function(){i.showLink=this.checked,n(0,i)},function(){i.port=this.value,n(0,i)}]}class ce extends et{constructor(t){super(),tt(this,t,le,ie,r,{config:0})}}var ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function re(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var se,ue,pe=(se=function(t,e){!function(t,n){if("string"!=typeof e.nodeName)n(e);else{var o={};n(o),t.AnsiUp=o.default}}(ae,(function(t){var e,n=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};!function(t){t[t.EOS=0]="EOS",t[t.Text=1]="Text",t[t.Incomplete=2]="Incomplete",t[t.ESC=3]="ESC",t[t.Unknown=4]="Unknown",t[t.SGR=5]="SGR",t[t.OSCURL=6]="OSCURL"}(e||(e={}));var o=function(){function t(){this.VERSION="5.0.1",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(t.prototype,"use_classes",{get:function(){return this._use_classes},set:function(t){this._use_classes=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(t){this._url_whitelist=t},enumerable:!1,configurable:!0}),t.prototype.setup_palettes=function(){var t=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(e){e.forEach((function(e){t.palette_256.push(e)}))}));for(var e=[0,95,135,175,215,255],n=0;n<6;++n)for(var o=0;o<6;++o)for(var i=0;i<6;++i){var l={rgb:[e[n],e[o],e[i]],class_name:"truecolor"};this.palette_256.push(l)}for(var c=8,a=0;a<24;++a,c+=10){var r={rgb:[c,c,c],class_name:"truecolor"};this.palette_256.push(r)}},t.prototype.escape_txt_for_html=function(t){return t.replace(/[&<>"']/gm,(function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#x27;":void 0}))},t.prototype.append_buffer=function(t){var e=this._buffer+t;this._buffer=e},t.prototype.get_next_packet=function(){var t={kind:e.EOS,text:"",url:""},o=this._buffer.length;if(0==o)return t;var l=this._buffer.indexOf("");if(-1==l)return t.kind=e.Text,t.text=this._buffer,this._buffer="",t;if(l>0)return t.kind=e.Text,t.text=this._buffer.slice(0,l),this._buffer=this._buffer.slice(l),t;if(0==l){if(1==o)return t.kind=e.Incomplete,t;var c=this._buffer.charAt(1);if("["!=c&&"]"!=c)return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if("["==c){if(this._csi_regex||(this._csi_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          [                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          [                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(s=this._buffer.match(this._csi_regex)))return t.kind=e.Incomplete,t;if(s[4])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;""!=s[1]||"m"!=s[3]?t.kind=e.Unknown:t.kind=e.SGR,t.text=s[2];var a=s[0].length;return this._buffer=this._buffer.slice(a),t}if("]"==c){if(o<4)return t.kind=e.Incomplete,t;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.raw[0],i=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,l=o.replace(i,"");return new RegExp(l,"g")}(n(["\n                        (?:                         # legal sequence\n                          (\\)                    # ESC                           |                           # alternate\n                          ()                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-]                 # anything illegal\n                          |                           # alternate\n                          [\b-]                 # anything illegal\n                          |                           # alternate\n                          [-]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var r=this._osc_st.exec(this._buffer);if(null===r)return t.kind=e.Incomplete,t;if(r[3])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;var s,u=this._osc_st.exec(this._buffer);return null===u?(t.kind=e.Incomplete,t):u[3]?(t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t):(this._osc_regex||(this._osc_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                        ]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        ]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(s=this._buffer.match(this._osc_regex))?(t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t):(t.kind=e.OSCURL,t.url=s[1],t.text=s[2],a=s[0].length,this._buffer=this._buffer.slice(a),t))}}},t.prototype.ansi_to_html=function(t){this.append_buffer(t);for(var n=[];;){var o=this.get_next_packet();if(o.kind==e.EOS||o.kind==e.Incomplete)break;o.kind!=e.ESC&&o.kind!=e.Unknown&&(o.kind==e.Text?n.push(this.transform_to_html(this.with_state(o))):o.kind==e.SGR?this.process_ansi(o):o.kind==e.OSCURL&&n.push(this.process_hyperlink(o)))}return n.join("")},t.prototype.with_state=function(t){return{bold:this.bold,fg:this.fg,bg:this.bg,text:t.text}},t.prototype.process_ansi=function(t){for(var e=t.text.split(";");e.length>0;){var n=e.shift(),o=parseInt(n,10);if(isNaN(o)||0===o)this.fg=this.bg=null,this.bold=!1;else if(1===o)this.bold=!0;else if(22===o)this.bold=!1;else if(39===o)this.fg=null;else if(49===o)this.bg=null;else if(o>=30&&o<38)this.fg=this.ansi_colors[0][o-30];else if(o>=40&&o<48)this.bg=this.ansi_colors[0][o-40];else if(o>=90&&o<98)this.fg=this.ansi_colors[1][o-90];else if(o>=100&&o<108)this.bg=this.ansi_colors[1][o-100];else if((38===o||48===o)&&e.length>0){var i=38===o,l=e.shift();if("5"===l&&e.length>0){var c=parseInt(e.shift(),10);c>=0&&c<=255&&(i?this.fg=this.palette_256[c]:this.bg=this.palette_256[c])}if("2"===l&&e.length>2){var a=parseInt(e.shift(),10),r=parseInt(e.shift(),10),s=parseInt(e.shift(),10);if(a>=0&&a<=255&&r>=0&&r<=255&&s>=0&&s<=255){var u={rgb:[a,r,s],class_name:"truecolor"};i?this.fg=u:this.bg=u}}}}},t.prototype.transform_to_html=function(t){var e=t.text;if(0===e.length)return e;if(e=this.escape_txt_for_html(e),!t.bold&&null===t.fg&&null===t.bg)return e;var n=[],o=[],i=t.fg,l=t.bg;t.bold&&n.push("font-weight:bold"),this._use_classes?(i&&("truecolor"!==i.class_name?o.push(i.class_name+"-fg"):n.push("color:rgb("+i.rgb.join(",")+")")),l&&("truecolor"!==l.class_name?o.push(l.class_name+"-bg"):n.push("background-color:rgb("+l.rgb.join(",")+")"))):(i&&n.push("color:rgb("+i.rgb.join(",")+")"),l&&n.push("background-color:rgb("+l.rgb+")"));var c="",a="";return o.length&&(c=' class="'+o.join(" ")+'"'),n.length&&(a=' style="'+n.join(";")+'"'),"<span"+a+c+">"+e+"</span>"},t.prototype.process_hyperlink=function(t){var e=t.url.split(":");return e.length<1?"":this._url_whitelist[e[0]]?'<a href="'+this.escape_txt_for_html(t.url)+'">'+this.escape_txt_for_html(t.text)+"</a>":""},t}();function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.raw[0],i=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,l=o.replace(i,"");return new RegExp(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}))},se(ue={exports:{}},ue.exports),ue.exports),de=re(pe);function fe(t){let e;return{c(){e=m(t[4])},m(t,n){d(t,e,n)},p(t,n){16&n&&y(e,t[4])},d(t){t&&f(e)}}}function he(t){let e,n;return{c(){e=new L,n=x(),e.a=n},m(o,i){e.m(t[4],o,i),d(o,n,i)},p(t,n){16&n&&e.p(t[4])},d(t){t&&f(n),t&&e.d()}}}function ge(t){let e,n,i,l,a,r,s;function u(t,e){return t[5]?he:fe}let h=u(t),x=h(t);return{c(){e=g("div"),n=g("span"),i=m(t[0]),l=v(),a=g("span"),x.c(),w(n,"class","scriptName svelte-13lhzn2"),w(a,"class","scriptValue svelte-13lhzn2"),w(e,"class","script svelte-13lhzn2"),$(e,"height",Math.floor(t[2])+"px"),w(e,"data-index",t[1])},m(o,c){d(o,e,c),p(e,n),p(n,i),p(e,l),p(e,a),x.m(a,null),t[13](e),r||(s=[b(n,"dblclick",t[11]),b(a,"click",t[12]),b(e,"mouseenter",t[14]),b(e,"mouseleave",t[15]),b(e,"mouseout",t[16]),b(e,"blur",t[17]),b(e,"contextmenu",t[18])],r=!0)},p(t,[n]){1&n&&y(i,t[0]),h===(h=u(t))&&x?x.p(t,n):(x.d(1),x=h(t),x&&(x.c(),x.m(a,null))),4&n&&$(e,"height",Math.floor(t[2])+"px"),2&n&&w(e,"data-index",t[1])},i:o,o:o,d(n){n&&f(e),x.d(),t[13](null),r=!1,c(s)}}}function me(t,e,n){let o;s(t,it,(t=>n(6,o=t)));let i,{name:l}=e,{config:c={script:"",env:"",envVar:"",commandLine:"",type:"",scriptImage:"",appBackground:o.appBackground,highlight:o.highlight}}=e,{index:a}=e,{height:r}=e,u="loading...",p="<h1>Loading...</h1>",d=!1,f={changeColor:!1,width:300,height:300,showButton:!0};const h=E();function g(){var t=JSON.stringify({script:c.script,text:c.commandLine,env:c.env,envVar:c.envVar,commandLine:c.commandLine});fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8",Origin:"*"},body:t}).then((t=>t.json())).then((t=>{null!==t&&function(t){f.showButton=!0,"generic"===c.type?p="<p>"+t.text+"</p>":"bitbar"===c.type?p=t.text:"textbar"===c.type?p=function(t){var e="",o="",i=10,l=null;f={},f.height=10;var a=1,r=!1,s=!1,p=new de;f.showButton=!0,t=String(t),globalThis.ScriptClick=(t,e,n,o,i)=>{var l=[];l.TEXTBAR_INDEX=t,l.TEXTBAR_TEXT=e;var c=JSON.stringify({script:n.trim(),text:o.trim(),env:i.trim(),envVar:{...l},commandLine:o.trim()});fetch("http://localhost:9978/api/script/run/",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:c}).then((t=>t.json())).then((t=>{null!==t&&globalThis.closeWebView()}))},t=t.split(/\r?\n/),n(4,u=c.scriptImage+t[0]),t.slice(1).forEach((t=>{if(""!==t.trim()){var h=(t=new String(t)).includes("----TEXTBAR----");if(h||s)if(h)s=!0;else{var g=t.split("=");switch(g[0]){case"REFRESH":n(10,c.period=parseInt(g[1]),c);break;case"VIEWTYPE":if("HTML"===g[1])l=o,f.showButton=!0;else l=e,f.showButton=!1;break;case"VIEWSIZE":var m=g[1].split(",");f.width=parseInt(m[0],10),f.height=parseInt(m[1],10),r=!0;break;case"IMAGE":":"===g[1][0]?(n(4,u='<img src="'+g[1].slice(1)+'" />'),n(5,d=!0)):n(4,u=g[1]),f.showButton=!0}}else{o+=t;var v="",x="";if(null!==t.match(/\[\d+(\:\d+)*m/)){var b=t.replace(/\\e/g,"");v=(v=p.ansi_to_html(b)).replace(/\[\d+(\:\d+)*m/g,""),x=t.replace(/\\e/g,"").replace(/\[\d+((\:|\;)\d+)*m/g,"")}else v=t.replace(/ /g,"&nbsp;"),x=t;x=new String(x),i<x.length&&(i=x.length),":"===t[t.length-1]?e+='<p style="margin: 0px; padding: 0px 0px 0px 0px; height: 20px; white-space: nowrap;">'+v+"</p>":e+=`<p style="margin: 0px; padding: 0px 0px 0px 5px; height: 20px; border: 0px solid transparent; border-radius: 5px; white-space: nowrap;" \n                              onclick="globalThis.ScriptClick(${a},'${t}','${c.script}', '${c.commandLine}', '${c.env}')"\n                              onmouseenter="window.setLineColorNew(this)"\n                              onmouseleave="window.setLineColor(this)"\n                              onblur="window.setLineColor(this)"\n                            >\n                              ${v}\n                            </p>`}a+=1}})),r?f.changeColor=!1:(f.changeColor=!0,f.backgroundColor=c.appBackground,f.highlightColor=c.highlight);null===l&&(l=e);return l}(t.text):"web"===c.type&&(p=t.text)}(t)}))}function m(){h("middleButton",{index:a,dom:i})}function v(){"string"!=typeof u||u.includes("loading...")||h("changeView",{name:"webview",body:{html:p,config:f}})}q((()=>{g();var t=Lt.subscribe((t=>{void 0!==typeof c.period&&0!==c.period&&t%c.period==0&&g()}));return()=>{t()}}));return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(10,c=t.config),"index"in t&&n(1,a=t.index),"height"in t&&n(2,r=t.height)},t.$$.update=()=>{2&t.$$.dirty&&g()},[l,a,r,i,u,d,o,h,m,v,c,t=>{h("dblclick",{})},t=>{v()},function(t){z[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},()=>{n(3,i.style.color=o.highlight,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},t=>{t.preventDefault(),m()}]}class ve extends et{constructor(t){super(),tt(this,t,me,ge,r,{name:0,config:10,index:1,height:2})}}function xe(t){let e,n,o,i,l,a,r,s,u,p,h,m,x;return{c(){e=g("label"),e.textContent="What emoji?",n=v(),o=g("input"),i=v(),l=g("label"),l.textContent="What Highlight color?",a=v(),r=g("input"),s=v(),u=g("label"),u.textContent="What background color?",p=v(),h=g("input"),w(e,"for","ScriptIcon"),w(e,"class","componentLabel svelte-1097m2q"),w(o,"id","ScriptIcon"),w(o,"type","text"),w(o,"class","componentInput svelte-1097m2q"),w(l,"for","ScriptHigh"),w(l,"class","componentLabel svelte-1097m2q"),w(r,"id","ScriptHigh"),w(r,"type","text"),w(r,"class","componentInput svelte-1097m2q"),w(u,"for","ScriptBack"),w(u,"class","componentLabel svelte-1097m2q"),w(h,"id","ScriptBack"),w(h,"type","text"),w(h,"class","componentInput svelte-1097m2q")},m(c,f){d(c,e,f),d(c,n,f),d(c,o,f),k(o,t[0].scriptImage),d(c,i,f),d(c,l,f),d(c,a,f),d(c,r,f),k(r,t[0].highlight),d(c,s,f),d(c,u,f),d(c,p,f),d(c,h,f),k(h,t[0].appBackground),m||(x=[b(o,"input",t[14]),b(o,"change",t[15]),b(r,"input",t[16]),b(r,"change",t[17]),b(h,"input",t[18]),b(h,"change",t[19])],m=!0)},p(t,e){1&e&&o.value!==t[0].scriptImage&&k(o,t[0].scriptImage),1&e&&r.value!==t[0].highlight&&k(r,t[0].highlight),1&e&&h.value!==t[0].appBackground&&k(h,t[0].appBackground)},d(t){t&&f(e),t&&f(n),t&&f(o),t&&f(i),t&&f(l),t&&f(a),t&&f(r),t&&f(s),t&&f(u),t&&f(p),t&&f(h),m=!1,c(x)}}}function be(t){let e,n,i,l,a,r,s,u,h,m,x,y,$,C,L,B,S,I,q,E,V,z,N,T,M,O,j,H,R,A,P,D="textbar"===t[0].type&&xe(t);return{c(){e=g("div"),n=g("label"),n.textContent="What is the name of the script?",i=v(),l=g("input"),a=v(),r=g("label"),r.textContent="What is the command line?",s=v(),u=g("input"),h=v(),m=g("label"),m.textContent="What is the name of the environment?",x=v(),y=g("input"),$=v(),C=g("label"),C.textContent="What environment variables?",L=v(),B=g("input"),S=v(),I=g("label"),I.textContent="How often to reload? (number of minutes)",q=v(),E=g("input"),V=v(),z=g("label"),z.textContent="What type of script?",N=v(),T=g("select"),M=g("option"),M.textContent="TextBar",O=g("option"),O.textContent="BitBar",j=g("option"),j.textContent="Generic",H=g("option"),H.textContent="Web Page",R=v(),D&&D.c(),w(n,"for","Name"),w(n,"class","componentLabel svelte-1097m2q"),w(l,"id","Name"),w(l,"type","text"),w(l,"class","componentInput svelte-1097m2q"),w(r,"for","CommandLine"),w(r,"class","componentLabel svelte-1097m2q"),w(u,"id","CommandLine"),w(u,"type","text"),w(u,"class","componentInput svelte-1097m2q"),w(m,"for","Env"),w(m,"class","componentLabel svelte-1097m2q"),w(y,"id","Env"),w(y,"type","text"),w(y,"class","componentInput svelte-1097m2q"),w(C,"for","EnvVar"),w(C,"class","componentLabel svelte-1097m2q"),w(B,"id","EnvVar"),w(B,"type","text"),w(B,"class","componentInput svelte-1097m2q"),w(I,"for","Period"),w(I,"class","componentLabel svelte-1097m2q"),w(E,"id","Period"),w(E,"type","text"),w(E,"class","componentInput svelte-1097m2q"),w(z,"for","Type"),w(z,"class","componentLabel svelte-1097m2q"),M.__value="textbar",M.value=M.__value,O.__value="bitbar",O.value=O.__value,j.__value="generic",j.value=j.__value,H.__value="web",H.value=H.__value,w(T,"id","Type"),w(T,"class","componentInput svelte-1097m2q"),void 0===t[0].type&&W((()=>t[12].call(T))),w(e,"id","ScriptConfig"),w(e,"class","svelte-1097m2q")},m(o,c){d(o,e,c),p(e,n),p(e,i),p(e,l),k(l,t[0].script),p(e,a),p(e,r),p(e,s),p(e,u),k(u,t[0].commandLine),p(e,h),p(e,m),p(e,x),p(e,y),k(y,t[0].env),p(e,$),p(e,C),p(e,L),p(e,B),k(B,t[0].envVar),p(e,S),p(e,I),p(e,q),p(e,E),k(E,t[0].period),p(e,V),p(e,z),p(e,N),p(e,T),p(T,M),p(T,O),p(T,j),p(T,H),_(T,t[0].type),p(e,R),D&&D.m(e,null),A||(P=[b(l,"input",t[2]),b(l,"change",t[3]),b(u,"input",t[4]),b(u,"change",t[5]),b(y,"input",t[6]),b(y,"change",t[7]),b(B,"input",t[8]),b(B,"change",t[9]),b(E,"input",t[10]),b(E,"change",t[11]),b(T,"change",t[12]),b(T,"blur",t[13])],A=!0)},p(t,[n]){1&n&&l.value!==t[0].script&&k(l,t[0].script),1&n&&u.value!==t[0].commandLine&&k(u,t[0].commandLine),1&n&&y.value!==t[0].env&&k(y,t[0].env),1&n&&B.value!==t[0].envVar&&k(B,t[0].envVar),1&n&&E.value!==t[0].period&&k(E,t[0].period),1&n&&_(T,t[0].type),"textbar"===t[0].type?D?D.p(t,n):(D=xe(t),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i:o,o:o,d(t){t&&f(e),D&&D.d(),A=!1,c(P)}}}function we(t,e,n){let o;s(t,it,(t=>n(20,o=t)));const i=E();let{config:l={script:"",env:"",envVar:"",period:0,commandLine:"",scriptImage:"",highlight:o.highlight,appBackground:o.backgroundColor}}=e;return t.$$set=t=>{"config"in t&&n(0,l=t.config)},[l,i,function(){l.script=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,period:l.period,envVar:l.envVar,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.commandLine=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,period:l.period,envVar:l.envVar,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.env=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.envVar=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.period=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,period:l.period,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.type=C(this),n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.scriptImage=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,commandLine:l.commandLine,period:l.period,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.highlight=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.appBackground=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})}]}class ye extends et{constructor(t){super(),tt(this,t,we,be,r,{config:0})}}function ke(t){let e,n,i,l,a,r,s;return{c(){e=g("div"),n=g("span"),i=m(t[0]),l=v(),a=g("span"),a.textContent="🌎",w(n,"class","name svelte-1yfcj8v"),w(a,"class","weblinklink svelte-1yfcj8v"),w(e,"class","main svelte-1yfcj8v"),$(e,"height",Math.floor(t[2])+"px"),w(e,"data-index",t[1])},m(o,c){d(o,e,c),p(e,n),p(n,i),p(e,l),p(e,a),t[16](e),r||(s=[b(n,"dblclick",t[9]),b(a,"click",t[10]),b(e,"contextmenu",t[11]),b(e,"mouseenter",t[12]),b(e,"mouseleave",t[13]),b(e,"mouseout",t[14]),b(e,"blur",t[15])],r=!0)},p(t,[n]){1&n&&y(i,t[0]),4&n&&$(e,"height",Math.floor(t[2])+"px"),2&n&&w(e,"data-index",t[1])},i:o,o:o,d(n){n&&f(e),t[16](null),r=!1,c(s)}}}function $e(t,e,n){let o;s(t,it,(t=>n(4,o=t)));let i,{name:l}=e,{config:c}=e,{index:a}=e,{height:r}=e;const u=E();async function p(){await H(),void 0===typeof i||i==={}?console.log("No dom"):u("middleButton",{index:a,dom:i})}function d(){window.wails.Browser.OpenURL(c.link)}return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(8,c=t.config),"index"in t&&n(1,a=t.index),"height"in t&&n(2,r=t.height)},[l,a,r,i,o,u,p,d,c,t=>{t.preventDefault(),u("dblclick",{})},t=>{d()},t=>{t.preventDefault(),p()},()=>{n(3,i.style.color=o.highlight,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},function(t){z[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class _e extends et{constructor(t){super(),tt(this,t,$e,ke,r,{name:0,config:8,index:1,height:2})}}function Ce(t){let e,n,i,l,a,r;return{c(){e=g("div"),n=g("label"),n.textContent="What is the link address?",i=v(),l=g("input"),w(n,"for","LinkAddress"),w(n,"class","componentLabel svelte-12qnvtk"),w(l,"id","LinkAddress"),w(l,"type","text"),w(l,"class","componentInput svelte-12qnvtk"),w(e,"class","WebLinkConfig svelte-12qnvtk")},m(o,c){d(o,e,c),p(e,n),p(e,i),p(e,l),k(l,t[0].link),a||(r=[b(l,"input",t[2]),b(l,"change",t[3])],a=!0)},p(t,[e]){1&e&&l.value!==t[0].link&&k(l,t[0].link)},i:o,o:o,d(t){t&&f(e),a=!1,c(r)}}}function Le(t,e,n){let{config:o}=e;const i=E();return t.$$set=t=>{"config"in t&&n(0,o=t.config)},[o,i,function(){o.link=this.value,n(0,o)},()=>{i("change",{link:o.link,browser:o.browser})}]}class Be extends et{constructor(t){super(),tt(this,t,Le,Ce,r,{config:0})}}function Se(t,e,n){const o=t.slice();return o[68]=e[n],o[70]=n,o}function Ie(t,e,n){const o=t.slice();return o[71]=e[n],o[72]=e,o[70]=n,o}function qe(t){let e,n,o,i,l,a,r,s,u,m,x,y,k,$,_,C=t[8]&&ze(t),L=t[10]&&Me(t),B=t[0],S=[];for(let e=0;e<B.length;e+=1)S[e]=Re(Ie(t,B,e));const I=t=>Y(S[t],1,1,(()=>{S[t]=null}));let q=t[1].length>0&&Ae(t);return{c(){C&&C.c(),e=v(),L&&L.c(),n=v(),o=g("div"),i=g("p"),i.textContent="+",l=v(),a=g("p"),a.textContent="X",r=v(),s=g("div");for(let t=0;t<S.length;t+=1)S[t].c();u=v(),m=g("div"),m.innerHTML='<span id="addTabText" class="svelte-ccpnqa">+</span>',x=v(),y=g("div"),q&&q.c(),w(i,"id","addControl"),w(i,"class","svelte-ccpnqa"),w(a,"id","closeControl"),w(a,"class","svelte-ccpnqa"),w(o,"id","controls"),w(o,"class","svelte-ccpnqa"),w(m,"id","addTab"),w(m,"class","tab svelte-ccpnqa"),w(s,"id","tabs"),w(s,"class","svelte-ccpnqa"),w(y,"id","componentList"),w(y,"class","svelte-ccpnqa")},m(c,f){C&&C.m(c,f),d(c,e,f),L&&L.m(c,f),d(c,n,f),d(c,o,f),p(o,i),p(o,l),p(o,a),d(c,r,f),d(c,s,f);for(let t=0;t<S.length;t+=1)S[t].m(s,null);p(s,u),p(s,m),d(c,x,f),d(c,y,f),q&&q.m(y,null),k=!0,$||(_=[b(i,"click",t[40]),b(a,"click",Fe),b(m,"click",t[46])],$=!0)},p(t,o){if(t[8]?C?C.p(t,o):(C=ze(t),C.c(),C.m(e.parentNode,e)):C&&(C.d(1),C=null),t[10]?L?L.p(t,o):(L=Me(t),L.c(),L.m(n.parentNode,n)):L&&(L.d(1),L=null),25182273&o[0]){let e;for(B=t[0],e=0;e<B.length;e+=1){const n=Ie(t,B,e);S[e]?(S[e].p(n,o),J(S[e],1)):(S[e]=Re(n),S[e].c(),J(S[e],1),S[e].m(s,u))}for(X(),e=B.length;e<S.length;e+=1)I(e);G()}t[1].length>0?q?(q.p(t,o),2&o[0]&&J(q,1)):(q=Ae(t),q.c(),J(q,1),q.m(y,null)):q&&(X(),Y(q,1,1,(()=>{q=null})),G())},i(t){if(!k){for(let t=0;t<B.length;t+=1)J(S[t]);J(q),k=!0}},o(t){S=S.filter(Boolean);for(let t=0;t<S.length;t+=1)Y(S[t]);Y(q),k=!1},d(t){C&&C.d(t),t&&f(e),L&&L.d(t),t&&f(n),t&&f(o),t&&f(r),t&&f(s),h(S,t),t&&f(x),t&&f(y),q&&q.d(),$=!1,c(_)}}}function Ee(t){let e,n,o,i,l,c,a,r;return l=new gt({props:{widget:t[5]}}),l.$on("editComponent",t[17]),l.$on("deleteComponent",t[18]),{c(){e=g("div"),n=g("div"),o=g("p"),o.textContent="X",i=v(),Z(l.$$.fragment),w(o,"id","closeEditDialogControl"),w(o,"class","svelte-ccpnqa"),w(n,"id","editDialogControls"),w(n,"class","svelte-ccpnqa"),w(e,"id","editDialog"),$(e,"width","100%"),$(e,"background-color",t[13].appBackground),$(e,"color",t[13].textcolor),$(e,"font-family",t[13].fontFamily),$(e,"font-size",t[13].fontSize),w(e,"class","svelte-ccpnqa")},m(s,u){d(s,e,u),p(e,n),p(n,o),p(e,i),K(l,e,null),c=!0,a||(r=b(o,"click",t[34]),a=!0)},p(t,n){const o={};32&n[0]&&(o.widget=t[5]),l.$set(o),(!c||8192&n[0])&&$(e,"background-color",t[13].appBackground),(!c||8192&n[0])&&$(e,"color",t[13].textcolor),(!c||8192&n[0])&&$(e,"font-family",t[13].fontFamily),(!c||8192&n[0])&&$(e,"font-size",t[13].fontSize)},i(t){c||(J(l.$$.fragment,t),c=!0)},o(t){Y(l.$$.fragment,t),c=!1},d(t){t&&f(e),Q(l),a=!1,r()}}}function Ve(t){let e,n,o,i,l,c,a,r;return l=new pt({props:{types:t[2]}}),l.$on("addNewComponent",t[15]),{c(){e=g("div"),n=g("div"),o=g("p"),o.textContent="X",i=v(),Z(l.$$.fragment),w(o,"id","closeAddDialogControl"),w(o,"class","svelte-ccpnqa"),w(n,"id","addDialogControls"),w(n,"class","svelte-ccpnqa"),w(e,"id","addDialog"),$(e,"width","100%"),$(e,"background-color",t[13].appBackground),$(e,"color",t[13].textcolor),$(e,"font-family",t[13].fontFamily),$(e,"font-size",t[13].fontSize),w(e,"class","svelte-ccpnqa")},m(s,u){d(s,e,u),p(e,n),p(n,o),p(e,i),K(l,e,null),c=!0,a||(r=b(o,"click",t[33]),a=!0)},p(t,n){const o={};4&n[0]&&(o.types=t[2]),l.$set(o),(!c||8192&n[0])&&$(e,"background-color",t[13].appBackground),(!c||8192&n[0])&&$(e,"color",t[13].textcolor),(!c||8192&n[0])&&$(e,"font-family",t[13].fontFamily),(!c||8192&n[0])&&$(e,"font-size",t[13].fontSize)},i(t){c||(J(l.$$.fragment,t),c=!0)},o(t){Y(l.$$.fragment,t),c=!1},d(t){t&&f(e),Q(l),a=!1,r()}}}function ze(t){let e,n,o,i,l,c,a=0!==t[6]&&Ne(t),r=t[6]!==t[0].length-1&&Te(t);return{c(){e=g("div"),a&&a.c(),n=v(),r&&r.c(),o=v(),i=g("p"),i.textContent="Delete",w(i,"class","ContainerMenuItem svelte-ccpnqa"),w(e,"id","containerMenu"),$(e,"background-color",t[13].appBackground),$(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),$(e,"left",Math.floor(t[9].x+t[9].width/2)+"px"),w(e,"class","svelte-ccpnqa")},m(s,u){d(s,e,u),a&&a.m(e,null),p(e,n),r&&r.m(e,null),p(e,o),p(e,i),l||(c=b(i,"click",t[37]),l=!0)},p(t,i){0!==t[6]?a?a.p(t,i):(a=Ne(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[6]!==t[0].length-1?r?r.p(t,i):(r=Te(t),r.c(),r.m(e,o)):r&&(r.d(1),r=null),8192&i[0]&&$(e,"background-color",t[13].appBackground),512&i[0]&&$(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),512&i[0]&&$(e,"left",Math.floor(t[9].x+t[9].width/2)+"px")},d(t){t&&f(e),a&&a.d(),r&&r.d(),l=!1,c()}}}function Ne(t){let e,n,i;return{c(){e=g("p"),e.textContent="Move Left",w(e,"class","ContainerMenuItem svelte-ccpnqa")},m(o,l){d(o,e,l),n||(i=b(e,"click",t[35]),n=!0)},p:o,d(t){t&&f(e),n=!1,i()}}}function Te(t){let e,n,i;return{c(){e=g("p"),e.textContent="Move Right",w(e,"class","ContainerMenuItem svelte-ccpnqa")},m(o,l){d(o,e,l),n||(i=b(e,"click",t[36]),n=!0)},p:o,d(t){t&&f(e),n=!1,i()}}}function Me(t){let e,n,o=0!==t[7]&&Oe(t),i=t[7]!==t[1].length-1&&je(t);return{c(){e=g("div"),o&&o.c(),n=v(),i&&i.c(),w(e,"id","ComponentMenu"),$(e,"background-color",t[13].appBackground),$(e,"top",Math.floor(t[11].y)+"px"),$(e,"left","20px"),w(e,"class","svelte-ccpnqa")},m(t,l){d(t,e,l),o&&o.m(e,null),p(e,n),i&&i.m(e,null)},p(t,l){0!==t[7]?o?o.p(t,l):(o=Oe(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[7]!==t[1].length-1?i?i.p(t,l):(i=je(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),8192&l[0]&&$(e,"background-color",t[13].appBackground),2048&l[0]&&$(e,"top",Math.floor(t[11].y)+"px")},d(t){t&&f(e),o&&o.d(),i&&i.d()}}}function Oe(t){let e,n,i;return{c(){e=g("p"),e.textContent="Up",w(e,"class","ComponentMenuItem svelte-ccpnqa")},m(o,l){d(o,e,l),n||(i=b(e,"click",t[38]),n=!0)},p:o,d(t){t&&f(e),n=!1,i()}}}function je(t){let e,n,i;return{c(){e=g("p"),e.textContent="Down",w(e,"class","ComponentMenuItem svelte-ccpnqa")},m(o,l){d(o,e,l),n||(i=b(e,"click",t[39]),n=!0)},p:o,d(t){t&&f(e),n=!1,i()}}}function He(t){let e,n,i,l,c=t[71].name+"",a=t[72],r=t[70];function s(){return t[44](t[70])}const u=()=>t[45](e,a,r),h=()=>t[45](null,a,r);return{c(){e=g("div"),n=m(c),w(e,"class","tab svelte-ccpnqa")},m(t,o){d(t,e,o),p(e,n),u(),i||(l=b(e,"click",s),i=!0)},p(e,o){t=e,1&o[0]&&c!==(c=t[71].name+"")&&y(n,c),a===t[72]&&r===t[70]||(h(),a=t[72],r=t[70],u())},i:o,o:o,d(t){t&&f(e),h(),i=!1,l()}}}function We(t){let e,n,o,i=t[72],l=t[70];n=new wt({props:{name:t[71].name}}),n.$on("nameChanged",t[41]),n.$on("middleButton",t[42]);const c=()=>t[43](e,i,l),a=()=>t[43](null,i,l);return{c(){e=g("div"),Z(n.$$.fragment),w(e,"class","activeTab svelte-ccpnqa")},m(t,i){d(t,e,i),K(n,e,null),c(),o=!0},p(e,o){t=e;const r={};1&o[0]&&(r.name=t[71].name),n.$set(r),i===t[72]&&l===t[70]||(a(),i=t[72],l=t[70],c())},i(t){o||(J(n.$$.fragment,t),o=!0)},o(t){Y(n.$$.fragment,t),o=!1},d(t){t&&f(e),Q(n),a()}}}function Re(t){let e,n,o,i;const l=[We,He],c=[];function a(t,e){return t[70]===t[6]?0:1}return e=a(t),n=c[e]=l[e](t),{c(){n.c(),o=x()},m(t,n){c[e].m(t,n),d(t,o,n),i=!0},p(t,i){let r=e;e=a(t),e===r?c[e].p(t,i):(X(),Y(c[r],1,1,(()=>{c[r]=null})),G(),n=c[e],n?n.p(t,i):(n=c[e]=l[e](t),n.c()),J(n,1),n.m(o.parentNode,o))},i(t){i||(J(n),i=!0)},o(t){Y(n),i=!1},d(t){c[e].d(t),t&&f(o)}}}function Ae(t){let e,n,o=t[1],i=[];for(let e=0;e<o.length;e+=1)i[e]=Pe(Se(t,o,e));const l=t=>Y(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=x()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);d(t,e,o),n=!0},p(t,n){if(268500994&n[0]|1&n[1]){let c;for(o=t[1],c=0;c<o.length;c+=1){const l=Se(t,o,c);i[c]?(i[c].p(l,n),J(i[c],1)):(i[c]=Pe(l),i[c].c(),J(i[c],1),i[c].m(e.parentNode,e))}for(X(),c=o.length;c<i.length;c+=1)l(c);G()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)J(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)Y(i[t]);n=!1},d(t){h(i,t),t&&f(e)}}}function Pe(t){let e,n,o;function i(){return t[47](t[68])}var l=t[68].widget;function c(t){return{props:{index:t[70],height:t[68].height,name:t[68].name,config:t[68].config}}}return l&&(e=new l(c(t)),e.$on("dblclick",i),e.$on("middleButton",t[48]),e.$on("changeView",t[49])),{c(){e&&Z(e.$$.fragment),n=x()},m(t,i){e&&K(e,t,i),d(t,n,i),o=!0},p(o,a){t=o;const r={};if(2&a[0]&&(r.height=t[68].height),2&a[0]&&(r.name=t[68].name),2&a[0]&&(r.config=t[68].config),l!==(l=t[68].widget)){if(e){X();const t=e;Y(t.$$.fragment,1,0,(()=>{Q(t,1)})),G()}l?(e=new l(c(t)),e.$on("dblclick",i),e.$on("middleButton",t[48]),e.$on("changeView",t[49]),Z(e.$$.fragment),J(e.$$.fragment,1),K(e,n.parentNode,n)):e=null}else l&&e.$set(r)},i(t){o||(e&&J(e.$$.fragment,t),o=!0)},o(t){e&&Y(e.$$.fragment,t),o=!1},d(t){t&&f(n),e&&Q(e,t)}}}function De(t){let e,n,o,i,l,c;e=new Ct({});const a=[Ve,Ee,qe],r=[];function s(t,e){return t[3]?0:t[4]?1:2}return i=s(t),l=r[i]=a[i](t),{c(){Z(e.$$.fragment),n=v(),o=g("div"),l.c(),w(o,"id","main"),$(o,"background-color",t[13].appBackground),$(o,"color",t[13].textcolor),$(o,"font-family",t[13].fontFamily),$(o,"font-size",t[13].fontSize),w(o,"class","svelte-ccpnqa")},m(l,a){K(e,l,a),d(l,n,a),d(l,o,a),r[i].m(o,null),t[50](o),c=!0},p(t,e){let n=i;i=s(t),i===n?r[i].p(t,e):(X(),Y(r[n],1,1,(()=>{r[n]=null})),G(),l=r[i],l?l.p(t,e):(l=r[i]=a[i](t),l.c()),J(l,1),l.m(o,null)),(!c||8192&e[0])&&$(o,"background-color",t[13].appBackground),(!c||8192&e[0])&&$(o,"color",t[13].textcolor),(!c||8192&e[0])&&$(o,"font-family",t[13].fontFamily),(!c||8192&e[0])&&$(o,"font-size",t[13].fontSize)},i(t){c||(J(e.$$.fragment,t),J(l),c=!0)},o(t){Y(e.$$.fragment,t),Y(l),c=!1},d(l){Q(e,l),l&&f(n),l&&f(o),r[i].d(),t[50](null)}}}const Fe=()=>{};function Ue(t,e,n){let o,i,l,c,a;s(t,kt,(t=>n(55,o=t))),s(t,yt,(t=>n(56,i=t))),s(t,Lt,(t=>n(57,l=t))),s(t,lt,(t=>n(58,c=t))),s(t,it,(t=>n(13,a=t)));let r,p,d,f,h,g,m,v,{oldState:x}=e,b=[{name:"Info",widgets:[]}],w=[],y=!1,k=!1,$=0,_=!1,C=!1,L=null,B=null;const S=E();function V(){u(Lt,l+=1,l),B=setTimeout(V,6e4)}async function N(){if(await H(),void 0!==m){var t=m.clientWidth,e=m.clientHeight+40;t<100&&(t=400),e<40&&(e=40),_&&w.length<3&&(e+=20*(3-w.length)),C&&w.length-f<3&&(e+=20*(w.length-f)),u(yt,i=Math.floor(t/2),i),u(kt,o=t,o),window.resizeTo(t,e)}}function T(t){n(1,w=[]),n(8,_=!1),n(10,C=!1),n(6,d=t),n(0,b[t].widgets=O(b[t].widgets),b)}function M(){fetch("http://localhost:9978/api/scriptbar/config/",{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:b})})}function O(t){for(var e=0;e<t.length;e++){var o=r.find((n=>t[e].widgetName===n.moduleName));void 0!==o&&(t[e].widget=o.module,t[e].configWidget=o.config,t[e].configHeight=o.configHeight,t[e].id=$,$+=1,w.push(t[e]))}return n(0,b[d].widgets=w,b),w}function j(t){n(5,p=t),n(4,k=!0),n(8,_=!1),n(10,C=!1)}function W(){n(4,k=!1)}function R(){n(3,y=!0),n(8,_=!1),n(10,C=!1)}function A(){n(3,y=!1)}function P(){b.push({name:"New",widgets:[]}),n(0,b),M()}function D(t){n(0,b[d].name=t,b),n(0,b),M()}function F(){n(8,_=!_),_&&(n(10,C=!1),n(9,h=b[d].this.getBoundingClientRect()))}function U(){if(n(9,h=b[d-1].this.getBoundingClientRect()),0!==d){var t=b[d];n(6,d-=1),n(0,b[d+1]=b[d],b),n(0,b[d]=t,b)}n(0,b),M()}function X(){if(n(9,h=b[d+1].this.getBoundingClientRect()),d!==b.length-1){var t=b[d];n(6,d+=1),n(0,b[d-1]=b[d],b),n(0,b[d]=t,b)}n(0,b),M()}function G(){n(0,b=b.filter(((t,e)=>e!==d))),n(6,d=0),n(1,w=[]),n(0,b[d].widgets=O(b[d].widgets),b),n(1,w=b[d].widgets),M(),n(8,_=!1)}function J(t){n(7,f=t.index),w.length>1&&(n(10,C=!C),C?(n(8,_=!1),v=t.dom,n(11,g=t.dom.firstChild.getBoundingClientRect())):(n(11,g={}),n(7,f=0),v=void 0))}function Y(){if(0!==f){n(11,g=v.firstChild.getBoundingClientRect());var t=w[f];n(7,f-=1),n(1,w[f+1]=w[f],w),n(1,w[f]=t,w),n(0,b[d].widgets=w,b),M(),L=w,n(1,w=[]),n(10,C=!1)}}function Z(){if(f!==w.length-1){n(11,g=v.firstChild.getBoundingClientRect());var t=w[f];n(7,f+=1),n(1,w[f-1]=w[f],w),n(1,w[f]=t,w),n(0,b[d].widgets=w,b),M(),L=w,n(1,w=[]),n(10,C=!1)}}function K(t){t.scriptbar={container:d},S("changeView",t)}q((()=>{var t;return n(2,r=[{moduleName:"FlowVariable",module:It,config:Vt,configHeight:70},{moduleName:"Separator",module:Tt,config:jt,configHeight:70},{moduleName:"BirthdayCounter",module:Rt,config:Dt,configHeight:70},{moduleName:"IPAddress",module:Jt,config:Kt,configHeight:194},{moduleName:"IntIPAddress",module:oe,config:ce,configHeight:124},{moduleName:"Script",module:ve,config:ye,configHeight:333},{moduleName:"WebLink",module:_e,config:Be,configHeight:133}]),void 0!==(t=x)&&void 0!==t.container?(n(6,d=t.container),n(7,f=0)):(n(6,d=0),n(7,f=0)),fetch("http://localhost:9978/api/scriptbar/config/").then((t=>t.json())).then((t=>{n(0,b=t.config),n(1,w=[]),void 0!==b[d].widgets&&n(0,b[d].widgets=O(b[d].widgets),b),window.containers=b})),window.moveTo(400,-20),u(lt,c=N,c),V(),()=>{null!==B&&clearTimeout(B)}})),function(t){I().$$.after_update.push(t)}((()=>{null!==L&&(n(1,w=O(L)),L=null),N()}));return t.$$set=t=>{"oldState"in t&&n(32,x=t.oldState)},[b,w,r,y,k,p,d,f,_,h,C,g,m,a,T,function(t){n(1,w=O([t.detail.module])),n(0,b[d].widgets=w,b),A(),M()},j,function(t){n(1,w=w.map((e=>(e.id===t.detail.module.id&&(e.name=t.detail.module.name,e.height=parseInt(t.detail.module.height,10),e.config=t.detail.module.config),e)))),W(),n(0,b[d].widgets=w,b),M()},function(t){n(1,w=w.filter((e=>{if(e.id!==t.detail.module.id)return e}))),W(),n(0,b[d].widgets=w,b),M()},W,R,A,P,D,F,U,X,G,J,Y,Z,K,x,()=>{A()},()=>{W()},t=>{U()},t=>{X()},t=>{G()},t=>{Y()},t=>{Z()},()=>{R()},t=>{D(t.detail.name)},t=>{F()},function(t,e,o){z[t?"unshift":"push"]((()=>{e[o].this=t,n(0,b)}))},t=>{T(t)},function(t,e,o){z[t?"unshift":"push"]((()=>{e[o].this=t,n(0,b)}))},()=>{P()},t=>{j(t)},t=>{t.preventDefault(),J(t.detail)},t=>{K(t.detail)},function(t){z[t?"unshift":"push"]((()=>{m=t,n(12,m)}))}]}class Xe extends et{constructor(t){super(),tt(this,t,Ue,De,r,{oldState:32},null,[-1,-1,-1])}}function Ge(t){let e,n,o,i,l;return{c(){e=g("div"),n=g("button"),o=m("Close"),w(n,"id","closeButton"),w(n,"type","button"),$(n,"background-color",t[4].appBackground),$(n,"color",t[4].textcolor),$(n,"font-size",t[4].fontSize),w(n,"class","svelte-1supyga"),w(e,"id","buttonRow"),w(e,"class","svelte-1supyga")},m(c,a){d(c,e,a),p(e,n),p(n,o),i||(l=b(n,"click",t[6]),i=!0)},p(t,e){16&e&&$(n,"background-color",t[4].appBackground),16&e&&$(n,"color",t[4].textcolor),16&e&&$(n,"font-size",t[4].fontSize)},d(t){t&&f(e),i=!1,l()}}}function Je(t){let e,n,o,i,l,c,a=t[0].html+"";e=new Ct({});let r=t[0].config.showButton&&Ge(t);return{c(){Z(e.$$.fragment),n=v(),o=g("div"),i=new L,l=v(),r&&r.c(),i.a=l,w(o,"id","webview"),$(o,"background-color",t[0].config.backgroundColor),$(o,"color",t[4].textcolor),$(o,"font-family",t[4].fontFamily),$(o,"font-size",t[4].fontSize),$(o,"width",t[2]+"px"),$(o,"height",t[3]+"px"),w(o,"class","svelte-1supyga")},m(s,u){K(e,s,u),d(s,n,u),d(s,o,u),i.m(a,o),p(o,l),r&&r.m(o,null),t[7](o),c=!0},p(t,[e]){(!c||1&e)&&a!==(a=t[0].html+"")&&i.p(a),t[0].config.showButton?r?r.p(t,e):(r=Ge(t),r.c(),r.m(o,null)):r&&(r.d(1),r=null),(!c||1&e)&&$(o,"background-color",t[0].config.backgroundColor),(!c||16&e)&&$(o,"color",t[4].textcolor),(!c||16&e)&&$(o,"font-family",t[4].fontFamily),(!c||16&e)&&$(o,"font-size",t[4].fontSize),(!c||4&e)&&$(o,"width",t[2]+"px"),(!c||8&e)&&$(o,"height",t[3]+"px")},i(t){c||(J(e.$$.fragment,t),c=!0)},o(t){Y(e.$$.fragment,t),c=!1},d(i){Q(e,i),i&&f(n),i&&f(o),r&&r.d(),t[7](null)}}}function Ye(t,e,n){let o,i,l;s(t,yt,(t=>n(8,o=t))),s(t,kt,(t=>n(9,i=t))),s(t,it,(t=>n(4,l=t)));let c,a,r,{body:p}=e;const d=E();function f(t){p.config.changeColor&&(t.style.backgroundColor=p.config.highlightColor)}function h(t){p.config.changeColor&&(t.style.backgroundColor=p.config.backgroundColor)}function g(){d("changeView",{name:"scriptbar",body:{}})}async function m(){await H(),console.log(p),void 0!==p.config.width?(n(2,a=p.config.width),n(3,r=p.config.height+50),u(yt,o=Math.floor(a/2),o),u(kt,i=a,i)):void 0!==c&&(n(2,a=c.clientWidth+10),n(3,r=c.clientHeight+40),a<100&&n(2,a=400),r<40&&n(3,r=40),u(kt,i=a,i),window.resizeTo(a+20,r),u(yt,o=Math.floor(a/2),o))}q((()=>{globalThis.closeWebView=g,m(),window.setLineColor=h,window.setLineColorNew=f}));return t.$$set=t=>{"body"in t&&n(0,p=t.body)},t.$$.update=()=>{1&t.$$.dirty&&u(kt,(m(),i=i),i)},[p,c,a,r,l,g,()=>{g()},function(t){z[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class Ze extends et{constructor(t){super(),tt(this,t,Ye,Je,r,{body:0})}}function Ke(t){let e,n,i,l,c,a,r,s,u,h;return{c(){e=g("div"),n=g("h1"),n.textContent="Something went wrong",i=v(),l=g("p"),l.textContent="Sorry, but you somehow got to a place that isn't reachable.",c=v(),a=g("p"),a.textContent="Press be button below to get back to the normal page.",r=v(),s=g("button"),s.textContent="Go Back",w(s,"class","svelte-swl4vm"),w(e,"id","errorPage"),w(e,"class","svelte-swl4vm")},m(o,f){d(o,e,f),p(e,n),p(e,i),p(e,l),p(e,c),p(e,a),p(e,r),p(e,s),u||(h=b(s,"click",t[6]),u=!0)},p:o,i:o,o:o,d(t){t&&f(e),u=!1,h()}}}function Qe(t){let e,n;return e=new Ze({props:{body:t[1]}}),e.$on("changeView",t[5]),{c(){Z(e.$$.fragment)},m(t,o){K(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.body=t[1]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function tn(t){let e,n;return e=new Xe({props:{oldState:t[2]}}),e.$on("changeView",t[4]),{c(){Z(e.$$.fragment)},m(t,o){K(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.oldState=t[2]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function en(t){let e,n,o,i,l,a;const r=[tn,Qe,Ke],s=[];function u(t,e){return"scriptbar"===t[0]?0:"webview"===t[0]?1:2}return e=u(t),n=s[e]=r[e](t),{c(){n.c(),o=x()},m(t,n){s[e].m(t,n),d(t,o,n),i=!0,l||(a=[b(window,"blur",nn),b(window,"close",on)],l=!0)},p(t,[i]){let l=e;e=u(t),e===l?s[e].p(t,i):(X(),Y(s[l],1,1,(()=>{s[l]=null})),G(),n=s[e],n?n.p(t,i):(n=s[e]=r[e](t),n.c()),J(n,1),n.m(o.parentNode,o))},i(t){i||(J(n),i=!0)},o(t){Y(n),i=!1},d(t){s[e].d(t),t&&f(o),l=!1,c(a)}}}const nn=()=>{},on=()=>{};function ln(t,e,n){let o,i="scriptbar",l={html:"<h1>Web View</h1>",config:{width:200,height:400}};function c(t){void 0!==t.scriptbar&&n(2,o=t.scriptbar),n(0,i=t.name),n(1,l=t.body)}return[i,l,o,c,t=>{c(t.detail)},t=>{c(t.detail)},()=>{n(0,i="scriptbar")}]}class cn extends et{constructor(t){super(),tt(this,t,ln,en,r,{})}}var an;return n.Init((()=>{an=new cn({target:document.body,props:{}})})),an}();
//# sourceMappingURL=bundle.js.map
