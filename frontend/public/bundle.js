var app=function(){"use strict";function t(t,e,n){window.wails.Events.OnMultiple(t,e,n)}var e={OnMultiple:t,On:function(e,n){t(e,n)},Once:function(e,n){t(e,n,1)},Emit:function(t){var e=[t].slice.call(arguments);return window.wails.Events.Emit.apply(null,e)},Heartbeat:function(t,e,n){window.wails.Events.Heartbeat(t,e,n)},Acknowledge:function(t){return window.wails.Events.Acknowledge(t)}};var n={Log:{Debug:function(t){window.wails.Log.Debug(t)},Info:function(t){window.wails.Log.Info(t)},Warning:function(t){window.wails.Log.Warning(t)},Error:function(t){window.wails.Log.Error(t)},Fatal:function(t){window.wails.Log.Fatal(t)}},Browser:{OpenURL:function(t){return window.wails.Browser.OpenURL(t)},OpenFile:function(t){return window.wails.Browser.OpenFile(t)}},Events:e,Init:function(t){window.wails._.Init(t)},Store:{New:function(t,e){return window.wails.Store.New(t,e)}}};function o(){}function i(t){return t()}function s(){return Object.create(null)}function r(t){t.forEach(i)}function a(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e,n){t.$$.on_destroy.push(function(t,...e){if(null==t)return o;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function u(t,e,n){return t.set(n),e}function h(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function y(){return m(" ")}function v(){return m("")}function b(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function k(t,e){t.value=null==e?"":e}function C(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function _(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function $(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}class E{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=g(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)p(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(d)}}let S;function B(t){S=t}function T(){if(!S)throw new Error("Function called outside component initialization");return S}function L(t){T().$$.on_mount.push(t)}function N(){const t=T();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const i=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,i)}))}}}const I=[],A=[],O=[],F=[],q=Promise.resolve();let R=!1;function P(){R||(R=!0,q.then(D))}function j(){return P(),q}function V(t){O.push(t)}let M=!1;const z=new Set;function D(){if(!M){M=!0;do{for(let t=0;t<I.length;t+=1){const e=I[t];B(e),H(e.$$)}for(B(null),I.length=0;A.length;)A.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];z.has(e)||(z.add(e),e())}O.length=0}while(I.length);for(;F.length;)F.pop()();R=!1,M=!1,z.clear()}}function H(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}const W=new Set;let U;function X(){U={r:0,c:[],p:U}}function K(){U.r||r(U.c),U=U.p}function Y(t,e){t&&t.i&&(W.delete(t),t.i(e))}function J(t,e,n,o){if(t&&t.o){if(W.has(t))return;W.add(t),U.c.push((()=>{W.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function G(t){t&&t.c()}function Z(t,e,n,o){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(e,n),o||V((()=>{const e=c.map(i).filter(a);l?l.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(V)}function Q(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e,n,i,a,c,l,u=[-1]){const h=S;B(t);const p=t.$$={fragment:null,ctx:null,props:c,update:o,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:e.target||h.$$.root};l&&l(p.root);let f=!1;if(p.ctx=n?n(t,e.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),f&&function(t,e){-1===t.$$.dirty[0]&&(I.push(t),P(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(d)}else p.fragment&&p.fragment.c();e.intro&&Y(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),D()}B(h)}class et{$destroy(){Q(this,1),this.$destroy=o}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function it(t){var e={exports:{}};return t(e,e.exports),e.exports}var st=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,rt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],at=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var i,s,r=st.exec(t||""),a={},c=14;c--;)a[rt[c]]=r[c]||"";return-1!=n&&-1!=o&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(t,e){var n=/\/{2,9}/g,o=e.replace(n,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||o.splice(0,1);"/"==e.substr(e.length-1,1)&&o.splice(o.length-1,1);return o}(0,a.path),a.queryKey=(i=a.query,s={},i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s),a};var ct=1e3,lt=60*ct,ut=60*lt,ht=24*ut,pt=7*ht,dt=365.25*ht,ft=function(t,e){e=e||{};var n=typeof t;if("string"===n&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*dt;case"weeks":case"week":case"w":return n*pt;case"days":case"day":case"d":return n*ht;case"hours":case"hour":case"hrs":case"hr":case"h":return n*ut;case"minutes":case"minute":case"mins":case"min":case"m":return n*lt;case"seconds":case"second":case"secs":case"sec":case"s":return n*ct;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===n&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=ht)return gt(t,e,ht,"day");if(e>=ut)return gt(t,e,ut,"hour");if(e>=lt)return gt(t,e,lt,"minute");if(e>=ct)return gt(t,e,ct,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=ht)return Math.round(t/ht)+"d";if(e>=ut)return Math.round(t/ut)+"h";if(e>=lt)return Math.round(t/lt)+"m";if(e>=ct)return Math.round(t/ct)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function gt(t,e,n,o){var i=e>=1.5*n;return Math.round(t/n)+" "+o+(i?"s":"")}var mt=function(t){function e(t){let o,i,s,r=null;function a(...t){if(!a.enabled)return;const n=a,i=Number(new Date),s=i-(o||i);n.diff=s,n.prev=o,n.curr=i,o=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((o,i)=>{if("%%"===o)return"%";r++;const s=e.formatters[i];if("function"==typeof s){const e=t[r];o=s.call(n,e),t.splice(r,1),r--}return o})),e.formatArgs.call(n,t);(n.log||e.log).apply(n,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(i!==e.namespaces&&(i=e.namespaces,s=e.enabled(t)),s),set:t=>{r=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,n){const o=e(this.namespace+(void 0===n?":":n)+t);return o.log=this.log,o}function o(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(o),...e.skips.map(o).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const o=("string"==typeof t?t:"").split(/[\s,]+/),i=o.length;for(n=0;n<i;n++)o[n]&&("-"===(t=o[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,o;for(n=0,o=e.skips.length;n<o;n++)if(e.skips[n].test(t))return!1;for(n=0,o=e.names.length;n<o;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=ft,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e},yt=it((function(t,e){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(o++,"%c"===t&&(i=o))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=mt(e);const{formatters:n}=t.exports;n.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}})),vt=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.url=void 0;const n=yt("socket.io-client:url");e.url=function(t,e="",o){let i=t;o=o||"undefined"!=typeof location&&location,null==t&&(t=o.protocol+"//"+o.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?o.protocol+t:o.host+t),/^(https?|wss?):\/\//.test(t)||(n("protocol-less url %s",t),t=void 0!==o?o.protocol+"//"+t:"https://"+t),n("parse %s",t),i=at(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(o&&o.port===i.port?"":":"+i.port),i}})),bt=it((function(t){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}})),wt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),xt=function(t){const e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||bt))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(wt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}};const kt=Object.create(null);kt.open="0",kt.close="1",kt.ping="2",kt.pong="3",kt.message="4",kt.upgrade="5",kt.noop="6";const Ct=Object.create(null);Object.keys(kt).forEach((t=>{Ct[kt[t]]=t}));var _t={PACKET_TYPES:kt,PACKET_TYPES_REVERSE:Ct,ERROR_PACKET:{type:"error",data:"parser error"}};const{PACKET_TYPES:$t}=_t,Et="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),St="function"==typeof ArrayBuffer,Bt=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};var Tt=({type:t,data:e},n,o)=>{return Et&&e instanceof Blob?n?o(e):Bt(e,o):St&&(e instanceof ArrayBuffer||(i=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?o(e):Bt(new Blob([e]),o):o($t[t]+(e||""));var i},Lt=it((function(t,e){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.encode=function(t){var e,o=new Uint8Array(t),i=o.length,s="";for(e=0;e<i;e+=3)s+=n[o[e]>>2],s+=n[(3&o[e])<<4|o[e+1]>>4],s+=n[(15&o[e+1])<<2|o[e+2]>>6],s+=n[63&o[e+2]];return i%3==2?s=s.substring(0,s.length-1)+"=":i%3==1&&(s=s.substring(0,s.length-2)+"=="),s},e.decode=function(t){var e,o,i,s,r,a=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var u=new ArrayBuffer(a),h=new Uint8Array(u);for(e=0;e<c;e+=4)o=n.indexOf(t[e]),i=n.indexOf(t[e+1]),s=n.indexOf(t[e+2]),r=n.indexOf(t[e+3]),h[l++]=o<<2|i>>4,h[l++]=(15&i)<<4|s>>2,h[l++]=(3&s)<<6|63&r;return u}}));const{PACKET_TYPES_REVERSE:Nt,ERROR_PACKET:It}=_t;let At;"function"==typeof ArrayBuffer&&(At=Lt);const Ot=(t,e)=>{if(At){const n=At.decode(t);return Ft(n,e)}return{base64:!0,data:t}},Ft=(t,e)=>"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t;var qt=(t,e)=>{if("string"!=typeof t)return{type:"message",data:Ft(t,e)};const n=t.charAt(0);if("b"===n)return{type:"message",data:Ot(t.substring(1),e)};return Nt[n]?t.length>1?{type:Nt[n],data:t.substring(1)}:{type:Nt[n]}:It};const Rt=String.fromCharCode(30);var Pt={protocol:4,encodePacket:Tt,encodePayload:(t,e)=>{const n=t.length,o=new Array(n);let i=0;t.forEach(((t,s)=>{Tt(t,!1,(t=>{o[s]=t,++i===n&&e(o.join(Rt))}))}))},decodePacket:qt,decodePayload:(t,e)=>{const n=t.split(Rt),o=[];for(let t=0;t<n.length;t++){const i=qt(n[t],e);if(o.push(i),"error"===i.type)break}return o}},jt=it((function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<o.length;i++)if((n=o[i])===e||n.fn===e){o.splice(i,1);break}return 0===o.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(n){o=0;for(var i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}));const Vt=setTimeout,Mt=clearTimeout;var zt={pick:(t,...e)=>e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{}),installTimerFunctions:(t,e)=>{e.useNativeTimers?(t.setTimeoutFn=Vt.bind(wt),t.clearTimeoutFn=Mt.bind(wt)):(t.setTimeoutFn=setTimeout.bind(wt),t.clearTimeoutFn=clearTimeout.bind(wt))}};const{installTimerFunctions:Dt}=zt,Ht=yt("engine.io-client:transport");var Wt,Ut=class extends jt{constructor(t){super(),Dt(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState?this.write(t):Ht("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(t){const e=Pt.decodePacket(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){this.emit("packet",t)}onClose(){this.readyState="closed",this.emit("close")}},Xt=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},Kt=function(t){for(var e={},n=t.split("&"),o=0,i=n.length;o<i;o++){var s=n[o].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e},Yt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Jt={},Gt=0,Zt=0;function Qt(t){var e="";do{e=Yt[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function te(){var t=Qt(+new Date);return t!==Wt?(Gt=0,Wt=t):t+"."+Qt(Gt++)}for(;Zt<64;Zt++)Jt[Yt[Zt]]=Zt;te.encode=Qt,te.decode=function(t){var e=0;for(Zt=0;Zt<t.length;Zt++)e=64*e+Jt[t.charAt(Zt)];return e};var ee=te;const ne=yt("engine.io-client:polling");var oe=class extends Ut{get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{ne("paused"),this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(ne("we are currently polling - waiting to pause"),t++,this.once("pollComplete",(function(){ne("pre-pause polling complete"),--t||e()}))),this.writable||(ne("we are currently writing - waiting to pause"),t++,this.once("drain",(function(){ne("pre-pause writing complete"),--t||e()})))}else e()}poll(){ne("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){ne("polling got data %s",t);Pt.decodePayload(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose(),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():ne('ignoring poll - transport state "%s"',this.readyState))}doClose(){const t=()=>{ne("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(ne("transport open - closing"),t()):(ne("transport not open - deferring close"),this.once("open",t))}write(t){this.writable=!1,Pt.encodePayload(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ee()),this.supportsBinary||t.sid||(t.b64=1),t=Xt(t),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),t.length&&(t="?"+t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}};const{pick:ie,installTimerFunctions:se}=zt,re=yt("engine.io-client:polling-xhr");function ae(){}const ce=null!=new xt({xdomain:!1}).responseType;class le extends jt{constructor(t,e){super(),se(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=ie(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new xt(t);try{re("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),this.hasXDR()?(e.onload=()=>{this.onLoad()},e.onerror=()=>{this.onError(e.responseText)}):e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof e.status?e.status:0)}),0))},re("xhr data %s",this.data),e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}"undefined"!=typeof document&&(this.index=le.requestsCount++,le.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=ae:this.xhr.onreadystatechange=ae,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete le.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(le.requestsCount=0,le.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",ue);else if("function"==typeof addEventListener){addEventListener("onpagehide"in wt?"pagehide":"unload",ue,!1)}function ue(){for(let t in le.requests)le.requests.hasOwnProperty(t)&&le.requests[t].abort()}var he=class extends oe{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=ce&&!e}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new le(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(t=>{this.onError("xhr post error",t)}))}doPoll(){re("xhr poll");const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(t=>{this.onError("xhr poll error",t)})),this.pollXhr=t}},pe=le;he.Request=pe;const de=/\n/g,fe=/\\n/g;let ge;var me=class extends oe{constructor(t){super(t),this.query=this.query||{},ge||(ge=wt.___eio=wt.___eio||[]),this.index=ge.length,ge.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=t=>{this.onError("jsonp poll error",t)};const e=document.getElementsByTagName("script")[0];e?e.parentNode.insertBefore(t,e):(document.head||document.body).appendChild(t),this.script=t;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&this.setTimeoutFn((function(){const t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)}),100)}doWrite(t,e){let n;if(!this.form){const t=document.createElement("form"),e=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=n,t.method="POST",t.setAttribute("accept-charset","utf-8"),e.name="d",t.appendChild(e),document.body.appendChild(t),this.form=t,this.area=e}function o(){i(),e()}this.form.action=this.uri();const i=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(t){this.onError("jsonp polling iframe removal error",t)}try{const t='<iframe src="javascript:0" name="'+this.iframeId+'">';n=document.createElement(t)}catch(t){n=document.createElement("iframe"),n.name=this.iframeId,n.src="javascript:0"}n.id=this.iframeId,this.form.appendChild(n),this.iframe=n};i(),t=t.replace(fe,"\\\n"),this.area.value=t.replace(de,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&o()}:this.iframe.onload=o}};const ye="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0);var ve={WebSocket:wt.WebSocket||wt.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:ye};const{pick:be}=zt,{WebSocket:we,usingBrowserWebSocket:xe,defaultBinaryType:ke,nextTick:Ce}=ve,_e=yt("engine.io-client:websocket"),$e="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Ee extends Ut{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=$e?{}:be(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=xe&&!$e?e?new we(t,e):new we(t):new we(t,e,n)}catch(t){return this.emit("error",t)}this.ws.binaryType=this.socket.binaryType||ke,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],o=e===t.length-1;Pt.encodePacket(n,this.supportsBinary,(t=>{const e={};if(!xe&&(n.options&&(e.compress=n.options.compress),this.opts.perMessageDeflate)){("string"==typeof t?Buffer.byteLength(t):t.length)<this.opts.perMessageDeflate.threshold&&(e.compress=!1)}try{xe?this.ws.send(t):this.ws.send(t,e)}catch(t){_e("websocket closed before onclose event")}o&&Ce((()=>{this.writable=!0,this.emit("drain")}),this.setTimeoutFn)}))}}onClose(){Ut.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ee()),this.supportsBinary||(t.b64=1),t=Xt(t),t.length&&(t="?"+t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+t}check(){return!(!we||"__initialize"in we&&this.name===Ee.prototype.name)}}var Se={polling:function(t){let e,n=!1,o=!1;const i=!1!==t.jsonp;if("undefined"!=typeof location){const e="https:"===location.protocol;let i=location.port;i||(i=e?443:80),n=t.hostname!==location.hostname||i!==t.port,o=t.secure!==e}if(t.xdomain=n,t.xscheme=o,e=new xt(t),"open"in e&&!t.forceJSONP)return new he(t);if(!i)throw new Error("JSONP disabled");return new me(t)},websocket:Ee};const Be=yt("engine.io-client:socket"),{installTimerFunctions:Te}=zt;class Le extends jt{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=at(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=at(e.host).host),Te(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=Kt(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){Be('creating transport "%s"',t);const e=function(t){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=Pt.protocol,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Be("options: %j",n),new Se[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Le.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emit("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return Be("error while creating transport: %s",t),this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){Be("setting transport %s",t.name),this.transport&&(Be("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(()=>{this.onClose("transport close")}))}probe(t){Be('probing transport "%s"',t);let e=this.createTransport(t,{probe:1}),n=!1;Le.priorWebsocketSuccess=!1;const o=()=>{n||(Be('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",(o=>{if(!n)if("pong"===o.type&&"probe"===o.data){if(Be('probe transport "%s" pong',t),this.upgrading=!0,this.emit("upgrading",e),!e)return;Le.priorWebsocketSuccess="websocket"===e.name,Be('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{n||"closed"!==this.readyState&&(Be("changing transport and sending upgrade packet"),l(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emit("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{Be('probe transport "%s" failed',t);const n=new Error("probe error");n.transport=e.name,this.emit("upgradeError",n)}})))};function i(){n||(n=!0,l(),e.close(),e=null)}const s=n=>{const o=new Error("probe error: "+n);o.transport=e.name,i(),Be('probe transport "%s" failed because of error: %s',t,n),this.emit("upgradeError",o)};function r(){s("transport closed")}function a(){s("socket closed")}function c(t){e&&t.name!==e.name&&(Be('"%s" works - aborting "%s"',t.name,e.name),i())}const l=()=>{e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",r),this.removeListener("close",a),this.removeListener("upgrading",c)};e.once("open",o),e.once("error",s),e.once("close",r),this.once("close",a),this.once("upgrading",c),e.open()}onOpen(){if(Be("socket open"),this.readyState="open",Le.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){Be("starting upgrade probes");let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Be('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else Be('packet received with socket readyState "%s"',this.readyState)}onHandshake(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Be("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof n&&(o=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),Be("socket closing - telling transport to close"),this.transport.close()},e=()=>{this.removeListener("upgrade",e),this.removeListener("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){Be("socket error %j",t),Le.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(Be('socket close with reason: "%s"',t),this.clearTimeoutFn(this.pingIntervalTimer),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const o=t.length;for(;n<o;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Le.priorWebsocketSuccess=!1,Le.protocol=Pt.protocol;var Ne=Le,Ie=(t,e)=>new Ne(t,e),Ae=Ne,Oe=Ne.protocol,Fe=Ut,qe=Se,Re=Pt;Ie.Socket=Ae,Ie.protocol=Oe,Ie.Transport=Fe,Ie.transports=qe,Ie.parser=Re;var Pe=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.hasBinary=e.isBinary=void 0;const n="function"==typeof ArrayBuffer,o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function r(t){return n&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||i&&t instanceof Blob||s&&t instanceof File}e.isBinary=r,e.hasBinary=function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1}if(r(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return!0;return!1}})),je=it((function(t,e){function n(t,e){if(!t)return t;if(Pe.isBinary(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const o=new Array(t.length);for(let i=0;i<t.length;i++)o[i]=n(t[i],e);return o}if("object"==typeof t&&!(t instanceof Date)){const o={};for(const i in t)t.hasOwnProperty(i)&&(o[i]=n(t[i],e));return o}return t}function o(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=o(t[n],e);else if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(t[n]=o(t[n],e));return t}Object.defineProperty(e,"__esModule",{value:!0}),e.reconstructPacket=e.deconstructPacket=void 0,e.deconstructPacket=function(t){const e=[],o=t.data,i=t;return i.data=n(o,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=o(t.data,e),t.attachments=void 0,t}})),Ve=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Decoder=e.Encoder=e.PacketType=e.protocol=void 0;const n=yt("socket.io-parser");var o;e.protocol=5,function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(o=e.PacketType||(e.PacketType={}));e.Encoder=class{encode(t){return n("encoding packet %j",t),t.type!==o.EVENT&&t.type!==o.ACK||!Pe.hasBinary(t)?[this.encodeAsString(t)]:(t.type=t.type===o.EVENT?o.BINARY_EVENT:o.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==o.BINARY_EVENT&&t.type!==o.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),n("encoded %j as %s",t,e),e}encodeAsBinary(t){const e=je.deconstructPacket(t),n=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(n),o}};class i extends jt{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===o.BINARY_EVENT||e.type===o.BINARY_ACK?(this.reconstructor=new s(e),0===e.attachments&&super.emit("decoded",e)):super.emit("decoded",e);else{if(!Pe.isBinary(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emit("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===o[s.type])throw new Error("unknown packet type "+s.type);if(s.type===o.BINARY_EVENT||s.type===o.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const o=t.substring(n,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(o)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}s.nsp=t.substring(n,e)}else s.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const n=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e));if(!i.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return n("decoded %s as %j",t,s),s}static isPayloadValid(t,e){switch(t){case o.CONNECT:return"object"==typeof e;case o.DISCONNECT:return void 0===e;case o.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case o.EVENT:case o.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case o.ACK:case o.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}e.Decoder=i;class s{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=je.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}})),Me=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.on=void 0,e.on=function(t,e,n){return t.on(e,n),function(){t.off(e,n)}}})),ze=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.StrictEventEmitter=void 0;e.StrictEventEmitter=class extends jt{on(t,e){return super.on(t,e),this}once(t,e){return super.once(t,e),this}emit(t,...e){return super.emit(t,...e),this}emitReserved(t,...e){return super.emit(t,...e),this}listeners(t){return super.listeners(t)}}})),De=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Socket=void 0;const n=yt("socket.io-client:socket"),o=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class i extends ze.StrictEventEmitter{constructor(t,e,n){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[(0,Me.on)(t,"open",this.onopen.bind(this)),(0,Me.on)(t,"packet",this.onpacket.bind(this)),(0,Me.on)(t,"error",this.onerror.bind(this)),(0,Me.on)(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(o.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const i={type:Ve.PacketType.EVENT,data:e,options:{}};i.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),i.id=this.ids++);const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)?n("discard packet as the transport is not currently writable"):this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){n("transport is open - connecting"),"function"==typeof this.auth?this.auth((t=>{this.packet({type:Ve.PacketType.CONNECT,data:t})})):this.packet({type:Ve.PacketType.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){n("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ve.PacketType.CONNECT:if(t.data&&t.data.sid){const e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ve.PacketType.EVENT:case Ve.PacketType.BINARY_EVENT:this.onevent(t);break;case Ve.PacketType.ACK:case Ve.PacketType.BINARY_ACK:this.onack(t);break;case Ve.PacketType.DISCONNECT:this.ondisconnect();break;case Ve.PacketType.CONNECT_ERROR:const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];n("emitting event %j",e),null!=t.id&&(n("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let o=!1;return function(...i){o||(o=!0,n("sending ack %j",i),e.packet({type:Ve.PacketType.ACK,id:t,data:i}))}}onack(t){const e=this.acks[t.id];"function"==typeof e?(n("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):n("bad ack %s",t.id)}onconnect(t){n("socket connected with id %s",t),this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>this.packet(t))),this.sendBuffer=[]}ondisconnect(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:Ve.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}e.Socket=i})),He=We;function We(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}We.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},We.prototype.reset=function(){this.attempts=0},We.prototype.setMin=function(t){this.ms=t},We.prototype.setMax=function(t){this.max=t},We.prototype.setJitter=function(t){this.jitter=t};var Ue=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Manager=void 0;const n=yt("socket.io-client:manager");class o extends ze.StrictEventEmitter{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,(0,zt.installTimerFunctions)(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new He({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const o=e.parser||Ve;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(n("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;n("opening %s",this.uri),this.engine=Ie(this.uri,this.opts);const e=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const i=(0,Me.on)(e,"open",(function(){o.onopen(),t&&t()})),s=(0,Me.on)(e,"error",(e=>{n("error"),o.cleanup(),o._readyState="closed",this.emitReserved("error",e),t?t(e):o.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;n("connect attempt will timeout after %d",t),0===t&&i();const o=this.setTimeoutFn((()=>{n("connect attempt timed out after %d",t),i(),e.close(),e.emit("error",new Error("timeout"))}),t);this.opts.autoUnref&&o.unref(),this.subs.push((function(){clearTimeout(o)}))}return this.subs.push(i),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){n("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push((0,Me.on)(t,"ping",this.onping.bind(this)),(0,Me.on)(t,"data",this.ondata.bind(this)),(0,Me.on)(t,"error",this.onerror.bind(this)),(0,Me.on)(t,"close",this.onclose.bind(this)),(0,Me.on)(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){n("error",t),this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new De.Socket(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return void n("socket %s is still active, skipping close",t)}this._close()}_packet(t){n("writing packet %j",t);const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){n("cleanup"),this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){n("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){n("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();n("will wait %dms before reconnect attempt",e),this._reconnecting=!0;const o=this.setTimeoutFn((()=>{t.skipReconnect||(n("attempting reconnect"),this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(n("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):(n("reconnect success"),t.onreconnect())})))}),e);this.opts.autoUnref&&o.unref(),this.subs.push((function(){clearTimeout(o)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}e.Manager=o})),Xe=it((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.io=e.Socket=e.Manager=e.protocol=void 0;const n=yt("socket.io-client");t.exports=e=i;const o=e.managers={};function i(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};const i=(0,vt.url)(t,e.path||"/socket.io"),s=i.source,r=i.id,a=i.path,c=o[r]&&a in o[r].nsps;let l;return e.forceNew||e["force new connection"]||!1===e.multiplex||c?(n("ignoring socket cache for %s",s),l=new Ue.Manager(s,e)):(o[r]||(n("new io instance for %s",s),o[r]=new Ue.Manager(s,e)),l=o[r]),i.query&&!e.query&&(e.query=i.queryKey),l.socket(i.path,e)}e.io=i,Object.defineProperty(e,"protocol",{enumerable:!0,get:function(){return Ve.protocol}}),e.connect=i;var s=Ue;Object.defineProperty(e,"Manager",{enumerable:!0,get:function(){return s.Manager}}),Object.defineProperty(e,"Socket",{enumerable:!0,get:function(){return De.Socket}}),e.default=i})),Ke=ot(Xe);Ke.Manager,Ke.Socket;const Ye=[];function Je(t,e=o){let n;const i=new Set;function s(e){if(c(t,e)&&(t=e,n)){const e=!Ye.length;for(const e of i)e[1](),Ye.push(e,t);if(e){for(let t=0;t<Ye.length;t+=2)Ye[t][0](Ye[t+1]);Ye.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(r,a=o){const c=[r,a];return i.add(c),1===i.size&&(n=e(s)||o),r(t),()=>{i.delete(c),0===i.size&&(n(),n=null)}}}}const Ge=Je({appBackground:"#2A212C",textcolor:"#80FFEA",fontSize:"14px",fontFamily:"Arial",highlight:"#9580FF"}),Ze=Je(void 0);function Qe(t,e,n){const o=t.slice();return o[17]=e[n],o}function tn(t){let e,n,o,i=t[17].moduleName+"";return{c(){e=g("option"),n=m(i),e.__value=o=t[17].moduleName,e.value=e.__value},m(t,o){p(t,e,o),h(e,n)},p(t,s){1&s&&i!==(i=t[17].moduleName+"")&&x(n,i),1&s&&o!==(o=t[17].moduleName)&&(e.__value=o,e.value=e.__value)},d(t){t&&d(e)}}}function en(t){let e,n,o;var i=t[5].config;function s(t){return{props:{config:t[4]}}}return i&&(e=new i(s(t)),e.$on("change",t[12])),{c(){e&&G(e.$$.fragment),n=v()},m(t,i){e&&Z(e,t,i),p(t,n,i),o=!0},p(t,o){const r={};if(16&o&&(r.config=t[4]),i!==(i=t[5].config)){if(e){X();const t=e;J(t.$$.fragment,1,0,(()=>{Q(t,1)})),K()}i?(e=new i(s(t)),e.$on("change",t[12]),G(e.$$.fragment),Y(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else i&&e.$set(r)},i(t){o||(e&&Y(e.$$.fragment,t),o=!0)},o(t){e&&J(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&Q(e,t)}}}function nn(t){let e,n,o,i,s,a,c,l,u,v,x,C,$,E,S,B,T,L,N,I,A,O,F,q=t[0],R=[];for(let e=0;e<q.length;e+=1)R[e]=tn(Qe(t,q,e));let P=null!==t[5]&&en(t);return{c(){e=g("div"),n=g("label"),n.textContent="What's the name?",o=y(),i=g("input"),a=y(),c=g("label"),c.textContent="What Type of Component?",l=y(),u=g("select");for(let t=0;t<R.length;t+=1)R[t].c();x=y(),C=g("label"),C.textContent="Height:",$=y(),E=g("input"),B=y(),P&&P.c(),T=y(),L=g("button"),N=m("Add Component"),w(n,"class","componentLabel svelte-1ttny9a"),w(n,"for","componentName"),w(i,"type","text"),w(i,"class","componentInput svelte-1ttny9a"),w(i,"id","componentName"),w(i,"color",s=t[6].appBackground),w(c,"for","componentTypeInput"),w(c,"class","componentLabel svelte-1ttny9a"),w(u,"name","componentTypeInput"),w(u,"class","componentInput svelte-1ttny9a"),w(u,"color",v=t[6].appBackground),w(u,"id","componentTypeInput"),void 0===t[1]&&V((()=>t[10].call(u))),w(C,"for","componentHeight"),w(C,"class","componentLabel svelte-1ttny9a"),w(E,"type","text"),w(E,"class","componentInput svelte-1ttny9a"),w(E,"color",S=t[6].appBackground),w(E,"id","componentHeight"),w(L,"id","addComponentButton"),w(L,"type","button"),w(L,"color",I=t[6].appBackground),w(L,"class","svelte-1ttny9a"),w(e,"id","addComponentDialog"),w(e,"class","svelte-1ttny9a")},m(s,r){p(s,e,r),h(e,n),h(e,o),h(e,i),k(i,t[3]),h(e,a),h(e,c),h(e,l),h(e,u);for(let t=0;t<R.length;t+=1)R[t].m(u,null);_(u,t[1]),h(e,x),h(e,C),h(e,$),h(e,E),k(E,t[2]),h(e,B),P&&P.m(e,null),h(e,T),h(e,L),h(L,N),A=!0,O||(F=[b(i,"input",t[9]),b(u,"change",t[10]),b(u,"change",t[8]),b(E,"input",t[11]),b(L,"click",t[13])],O=!0)},p(t,[n]){if((!A||64&n&&s!==(s=t[6].appBackground))&&w(i,"color",s),8&n&&i.value!==t[3]&&k(i,t[3]),1&n){let e;for(q=t[0],e=0;e<q.length;e+=1){const o=Qe(t,q,e);R[e]?R[e].p(o,n):(R[e]=tn(o),R[e].c(),R[e].m(u,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=q.length}(!A||64&n&&v!==(v=t[6].appBackground))&&w(u,"color",v),3&n&&_(u,t[1]),(!A||64&n&&S!==(S=t[6].appBackground))&&w(E,"color",S),4&n&&E.value!==t[2]&&k(E,t[2]),null!==t[5]?P?(P.p(t,n),32&n&&Y(P,1)):(P=en(t),P.c(),Y(P,1),P.m(e,T)):P&&(X(),J(P,1,1,(()=>{P=null})),K()),(!A||64&n&&I!==(I=t[6].appBackground))&&w(L,"color",I)},i(t){A||(Y(P),A=!0)},o(t){J(P),A=!1},d(t){t&&d(e),f(R,t),P&&P.d(),O=!1,r(F)}}}function on(t,e,n){let o,i;l(t,Ze,(t=>n(14,o=t))),l(t,Ge,(t=>n(6,i=t)));let{types:s}=e;const r=N();let a=null,c=30,u="",h={},p=null;function d(t){var e={};return null!==t&&(e=s.find((e=>e.moduleName===t))),e}function f(){null===h&&n(4,h={}),r("addNewComponent",{module:{name:u,widgetName:a,height:parseInt(c,10),config:h}}),n(3,u=""),n(1,a=null),n(2,c=30),n(4,h={})}L((()=>{n(1,a=s[0].moduleName),n(5,p=d(a))}));return t.$$set=t=>{"types"in t&&n(0,s=t.types)},t.$$.update=()=>{2&t.$$.dirty&&n(5,p=d(a))},[s,a,c,u,h,p,i,f,function(){setTimeout((()=>{o()}),50)},function(){u=this.value,n(3,u)},function(){a=$(this),n(1,a),n(0,s)},function(){c=this.value,n(2,c)},t=>{n(4,h=t.detail)},()=>{f()}]}class sn extends et{constructor(t){super(),tt(this,t,on,nn,c,{types:0})}}function rn(t){let e,n,o;var i=t[3];function s(t){return{props:{config:t[2]}}}return i&&(e=new i(s(t)),e.$on("change",t[10])),{c(){e&&G(e.$$.fragment),n=v()},m(t,i){e&&Z(e,t,i),p(t,n,i),o=!0},p(t,o){const r={};if(4&o&&(r.config=t[2]),i!==(i=t[3])){if(e){X();const t=e;J(t.$$.fragment,1,0,(()=>{Q(t,1)})),K()}i?(e=new i(s(t)),e.$on("change",t[10]),G(e.$$.fragment),Y(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else i&&e.$set(r)},i(t){o||(e&&Y(e.$$.fragment,t),o=!0)},o(t){e&&J(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&Q(e,t)}}}function an(t){let e,n,o,i,s,a,c,l,u,f,v,x,C,_,$,E,S,B,T,L,N,I,A,O=null!==t[3]&&rn(t);return{c(){e=g("div"),n=g("label"),n.textContent="What's the name?",o=y(),i=g("input"),a=y(),c=g("label"),c.textContent="Height:",l=y(),u=g("input"),v=y(),O&&O.c(),x=y(),C=g("div"),_=g("button"),$=m("Save Component"),S=y(),B=g("button"),T=m("Delete Component"),w(n,"class","componentLabel svelte-113kdcb"),w(n,"for","componentName"),w(i,"type","text"),w(i,"class","componentInput svelte-113kdcb"),w(i,"id","componentName"),w(i,"color",s=t[4].appBackground),w(c,"for","componentHeight"),w(c,"class","componentLabel svelte-113kdcb"),w(u,"type","text"),w(u,"class","componentInput svelte-113kdcb"),w(u,"color",f=t[4].appBackground),w(u,"id","componentHeight"),w(_,"id","editComponentButton"),w(_,"type","button"),w(_,"color",E=t[4].appBackground),w(_,"class","svelte-113kdcb"),w(B,"id","deleteComponentButton"),w(B,"type","button"),w(B,"color",L=t[4].appBackground),w(B,"class","svelte-113kdcb"),w(C,"id","buttonRow"),w(C,"class","svelte-113kdcb"),w(e,"id","editComponentDialog"),w(e,"class","svelte-113kdcb")},m(s,r){p(s,e,r),h(e,n),h(e,o),h(e,i),k(i,t[1]),h(e,a),h(e,c),h(e,l),h(e,u),k(u,t[0]),h(e,v),O&&O.m(e,null),h(e,x),h(e,C),h(C,_),h(_,$),h(C,S),h(C,B),h(B,T),N=!0,I||(A=[b(i,"input",t[8]),b(u,"input",t[9]),b(_,"click",t[11]),b(B,"click",t[12])],I=!0)},p(t,[n]){(!N||16&n&&s!==(s=t[4].appBackground))&&w(i,"color",s),2&n&&i.value!==t[1]&&k(i,t[1]),(!N||16&n&&f!==(f=t[4].appBackground))&&w(u,"color",f),1&n&&u.value!==t[0]&&k(u,t[0]),null!==t[3]?O?(O.p(t,n),8&n&&Y(O,1)):(O=rn(t),O.c(),Y(O,1),O.m(e,x)):O&&(X(),J(O,1,1,(()=>{O=null})),K()),(!N||16&n&&E!==(E=t[4].appBackground))&&w(_,"color",E),(!N||16&n&&L!==(L=t[4].appBackground))&&w(B,"color",L)},i(t){N||(Y(O),N=!0)},o(t){J(O),N=!1},d(t){t&&d(e),O&&O.d(),I=!1,r(A)}}}function cn(t,e,n){let o;l(t,Ge,(t=>n(4,o=t)));let{widget:i}=e;const s=N();let r=null,a=30,c="",u={},h=null;function p(t){return n(3,h=t.configWidget),n(1,c=t.name),r=t.widgetName,n(0,a=t.height),n(2,u=t.config),t}function d(){null===u&&n(2,u={}),s("editComponent",{module:{id:i.id,name:c,widgetName:r,height:parseInt(a,10),config:u}})}function f(){s("deleteComponent",{module:{id:i.id}})}L((()=>{n(7,i=p(i))}));return t.$$set=t=>{"widget"in t&&n(7,i=t.widget)},t.$$.update=()=>{128&t.$$.dirty&&n(7,i=p(i))},[a,c,u,h,o,d,f,i,function(){c=this.value,n(1,c)},function(){a=this.value,n(0,a)},t=>{n(2,u=t.detail)},()=>{d()},()=>{f()}]}class ln extends et{constructor(t){super(),tt(this,t,cn,an,c,{widget:7})}}function un(t){let e,n,o,i;return{c(){e=g("span"),n=m(t[0]),w(e,"class","pListName svelte-1u9rxym")},m(s,r){p(s,e,r),h(e,n),o||(i=[b(e,"dblclick",t[10]),b(e,"contextmenu",t[11])],o=!0)},p(t,e){1&e&&x(n,t[0])},d(t){t&&d(e),o=!1,r(i)}}}function hn(t){let e,n,o;return{c(){e=g("textarea"),w(e,"class","eListName svelte-1u9rxym")},m(i,s){p(i,e,s),k(e,t[0]),t[7](e),n||(o=[b(e,"input",t[6]),b(e,"keydown",t[8]),b(e,"blur",t[9])],n=!0)},p(t,n){1&n&&k(e,t[0])},d(i){i&&d(e),t[7](null),n=!1,r(o)}}}function pn(t){let e;function n(t,e){return t[2]?hn:un}let i=n(t),s=i(t);return{c(){e=g("div"),s.c(),w(e,"class","editSpanField svelte-1u9rxym")},m(t,n){p(t,e,n),s.m(e,null)},p(t,[o]){i===(i=n(t))&&s?s.p(t,o):(s.d(1),s=i(t),s&&(s.c(),s.m(e,null)))},i:o,o:o,d(t){t&&d(e),s.d()}}}function dn(t,e,n){let o,{name:i}=e,s=!1;const r=N();function a(){r("middleButton",{})}async function c(){n(2,s=!0),await j(),o.focus()}function l(){r("nameChanged",{name:o.value}),n(2,s=!1)}return t.$$set=t=>{"name"in t&&n(0,i=t.name)},[i,o,s,a,c,l,function(){i=this.value,n(0,i)},function(t){A[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},t=>{"Enter"===t.code&&l()},()=>{l()},()=>{c()},t=>{t.preventDefault(),a()}]}class fn extends et{constructor(t){super(),tt(this,t,dn,pn,c,{name:0})}}const gn=Je(0),mn=Je(400);function yn(t){let e,n;return{c(){e=g("div"),n=g("div"),w(n,"id","HeaderInside"),C(n,"left",t[2]+"px"),C(n,"height","100%"),C(n,"border-bottom-color",t[3].appBackground),w(n,"class","svelte-1xc26tp"),w(e,"id","HeaderOutside"),C(e,"width",t[1]+"px"),w(e,"class","svelte-1xc26tp")},m(o,i){p(o,e,i),h(e,n),t[4](e)},p(t,[o]){4&o&&C(n,"left",t[2]+"px"),8&o&&C(n,"border-bottom-color",t[3].appBackground),2&o&&C(e,"width",t[1]+"px")},i:o,o:o,d(n){n&&d(e),t[4](null)}}}function vn(t,e,n){let o,i,s,r;return l(t,mn,(t=>n(1,o=t))),l(t,gn,(t=>n(2,i=t))),l(t,Ge,(t=>n(3,s=t))),[r,o,i,s,function(t){A[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class bn extends et{constructor(t){super(),tt(this,t,vn,yn,c,{})}}const wn=Je({}),xn=Je({port:9978});function kn(t){let e,n,i,s,a,c,l,u;return{c(){e=g("div"),n=g("p"),i=m(t[0]),s=y(),a=g("p"),c=m(t[4]),w(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[5].fontSize),w(n,"data-index",t[1]),w(a,"class","value svelte-1xqw1f6"),C(a,"font-size",t[5].fontSize),w(a,"data-index",t[1]),w(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[2])+"px"),w(e,"data-index",t[1])},m(o,r){p(o,e,r),h(e,n),h(n,i),h(e,s),h(e,a),h(a,c),t[16](e),l||(u=[b(n,"dblclick",t[10]),b(n,"contextmenu",t[11]),b(e,"mouseenter",t[12]),b(e,"mouseleave",t[13]),b(e,"mouseout",t[14]),b(e,"blur",t[15])],l=!0)},p(t,[o]){1&o&&x(i,t[0]),32&o&&C(n,"font-size",t[5].fontSize),2&o&&w(n,"data-index",t[1]),16&o&&x(c,t[4]),32&o&&C(a,"font-size",t[5].fontSize),2&o&&w(a,"data-index",t[1]),4&o&&C(e,"height",Math.floor(t[2])+"px"),2&o&&w(e,"data-index",t[1])},i:o,o:o,d(n){n&&d(e),t[16](null),l=!1,r(u)}}}function Cn(t,e,n){let o,i,s;l(t,Ze,(t=>n(17,o=t))),l(t,wn,(t=>n(9,i=t))),l(t,Ge,(t=>n(5,s=t)));let r,{name:a}=e,{config:c}=e,{index:u}=e,{height:h}=e;const p=N();let d="loading...";function f(){fetch("http://localhost:9978/api/nodered/var/"+c.flowVar).then((t=>t.json())).then((t=>{null!==t&&void 0!==t.text&&null!==t.text&&(n(4,d=t.text),o())}))}function g(){p("middleButton",{index:u,dom:r})}L((()=>{f()}));return t.$$set=t=>{"name"in t&&n(0,a=t.name),"config"in t&&n(8,c=t.config),"index"in t&&n(1,u=t.index),"height"in t&&n(2,h=t.height)},t.$$.update=()=>{var e;512&t.$$.dirty&&null!==(e=i)&&e.on(c.flowVar,(t=>{null!==t&&(n(4,d=t),o())})),2&t.$$.dirty&&f()},[a,u,h,r,d,s,p,g,c,i,t=>{p("dblclick",{})},t=>{t.preventDefault(),g()},()=>{n(3,r.style.color=s.highlight,r)},()=>{n(3,r.style.color=s.textcolor,r)},()=>{n(3,r.style.color=s.textcolor,r)},()=>{n(3,r.style.color=s.textcolor,r)},function(t){A[t?"unshift":"push"]((()=>{r=t,n(3,r)}))}]}class _n extends et{constructor(t){super(),tt(this,t,Cn,kn,c,{name:0,config:8,index:1,height:2})}}function $n(t){let e,n,i,s,a,c;return{c(){e=g("div"),n=g("label"),n.textContent="What is the name of the variable?",i=y(),s=g("input"),w(n,"for","Name"),w(n,"class","componentLabel svelte-eoh90a"),w(s,"id","Name"),w(s,"type","text"),w(s,"class","componentInput svelte-eoh90a"),w(e,"class","FlowVariableConfig svelte-eoh90a")},m(o,r){p(o,e,r),h(e,n),h(e,i),h(e,s),k(s,t[0].flowVar),a||(c=[b(s,"input",t[2]),b(s,"change",t[3])],a=!0)},p(t,[e]){1&e&&s.value!==t[0].flowVar&&k(s,t[0].flowVar)},i:o,o:o,d(t){t&&d(e),a=!1,r(c)}}}function En(t,e,n){const o=N();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,o,function(){i.flowVar=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar})}]}class Sn extends et{constructor(t){super(),tt(this,t,En,$n,c,{config:0})}}function Bn(t){let e,n,i,s;return{c(){e=g("div"),n=g("hr"),w(n,"id",t[0]),w(n,"class","svelte-n4txif"),w(e,"class","main svelte-n4txif"),C(e,"height",Math.floor(t[1])+"px")},m(o,r){p(o,e,r),h(e,n),t[9](e),i||(s=[b(e,"contextmenu",t[7]),b(e,"dblclick",t[8])],i=!0)},p(t,[o]){1&o&&w(n,"id",t[0]),2&o&&C(e,"height",Math.floor(t[1])+"px")},i:o,o:o,d(n){n&&d(e),t[9](null),i=!1,r(s)}}}function Tn(t,e,n){let o,{config:i}=e,{name:s}=e,{index:r}=e,{height:a}=e;const c=N();function l(){n(5,i),c("middleButton",{index:r,dom:o})}return t.$$set=t=>{"config"in t&&n(5,i=t.config),"name"in t&&n(0,s=t.name),"index"in t&&n(6,r=t.index),"height"in t&&n(1,a=t.height)},[s,a,o,c,l,i,r,t=>{t.preventDefault(),l()},t=>{t.preventDefault(),c("dblclick",{})},function(t){A[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class Ln extends et{constructor(t){super(),tt(this,t,Tn,Bn,c,{config:5,name:0,index:6,height:1})}}function Nn(t){let e;return{c(){e=g("div"),w(e,"class","SeparatorConfig svelte-6l742t")},m(t,n){p(t,e,n)},p:o,i:o,o:o,d(t){t&&d(e)}}}function In(t,e,n){let{config:o}=e;return t.$$set=t=>{"config"in t&&n(0,o=t.config)},t.$$.update=()=>{1&t.$$.dirty&&n(0,o)},[o]}class An extends et{constructor(t){super(),tt(this,t,In,Nn,c,{config:0})}}function On(t){let e,n,i,s,a,c,l,u;return{c(){e=g("div"),n=g("p"),i=m(t[4]),s=y(),a=g("p"),c=m(t[3]),w(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[5].fontSize),w(n,"data-index",t[0]),w(a,"class","value svelte-1xqw1f6"),C(a,"font-size",t[5].fontSize),w(a,"data-index",t[0]),w(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[1])+"px"),w(e,"data-index",t[0])},m(o,r){p(o,e,r),h(e,n),h(n,i),h(e,s),h(e,a),h(a,c),t[13](e),l||(u=[b(n,"dblclick",t[11]),b(n,"contextmenu",t[12]),b(e,"mouseenter",t[14]),b(e,"mouseleave",t[15]),b(e,"mouseout",t[16]),b(e,"blur",t[17])],l=!0)},p(t,[o]){16&o&&x(i,t[4]),32&o&&C(n,"font-size",t[5].fontSize),1&o&&w(n,"data-index",t[0]),8&o&&x(c,t[3]),32&o&&C(a,"font-size",t[5].fontSize),1&o&&w(a,"data-index",t[0]),2&o&&C(e,"height",Math.floor(t[1])+"px"),1&o&&w(e,"data-index",t[0])},i:o,o:o,d(n){n&&d(e),t[13](null),l=!1,r(u)}}}function Fn(t,e,n){let o,i,s;l(t,Ze,(t=>n(18,o=t))),l(t,wn,(t=>n(10,i=t))),l(t,Ge,(t=>n(5,s=t)));let r,a,{name:c}=e,{config:u}=e,{index:h}=e,{height:p}=e,d="loading...";const f=N();function g(t){fetch("http://localhost:9978/api/nodered/var/"+u.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text&&(void 0!==t.text.days&&n(3,d=t.text.days),void 0!==t.text.age?n(4,a=c+": "+t.text.age):n(4,a=c),o())})).catch((t=>{n(4,a=c),n(3,d="not reachable")}))}function m(){f("middleButton",{index:h,dom:r})}L((()=>{n(4,a=c)}));return t.$$set=t=>{"name"in t&&n(8,c=t.name),"config"in t&&n(9,u=t.config),"index"in t&&n(0,h=t.index),"height"in t&&n(1,p=t.height)},t.$$.update=()=>{var e;1024&t.$$.dirty&&null!==(e=i)&&e.on(u.flowVar,(t=>{null!==t&&void 0!==t.days&&(n(3,d=t.days),n(4,a=c+": "+t.age),o())})),1&t.$$.dirty&&g()},[h,p,r,d,a,s,f,m,c,u,i,t=>{f("dblclick",{})},t=>{t.preventDefault(),m()},function(t){A[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},()=>{n(2,r.style.color=s.highlight,r)},()=>{n(2,r.style.color=s.textcolor,r)},()=>{n(2,r.style.color=s.textcolor,r)},()=>{n(2,r.style.color=s.textcolor,r)}]}class qn extends et{constructor(t){super(),tt(this,t,Fn,On,c,{name:8,config:9,index:0,height:1})}}function Rn(t){let e,n,i,s,a,c;return{c(){e=g("div"),n=g("label"),n.textContent="Who's birthday? (Name of Variable)",i=y(),s=g("input"),w(n,"for","Name"),w(n,"class","componentLabel svelte-10sirl3"),w(s,"id","Name"),w(s,"type","text"),w(s,"class","componentInput svelte-10sirl3"),w(e,"class","BirthdayConfig svelte-10sirl3")},m(o,r){p(o,e,r),h(e,n),h(e,i),h(e,s),k(s,t[0].flowVar),a||(c=[b(s,"input",t[2]),b(s,"change",t[3])],a=!0)},p(t,[e]){1&e&&s.value!==t[0].flowVar&&k(s,t[0].flowVar)},i:o,o:o,d(t){t&&d(e),a=!1,r(c)}}}function Pn(t,e,n){const o=N();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,o,function(){i.flowVar=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar})}]}class jn extends et{constructor(t){super(),tt(this,t,Pn,Rn,c,{config:0})}}function Vn(t){let e,n;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),w(e,"data-index",t[2])},m(t,o){p(t,e,o),h(e,n)},p(t,o){32&o&&x(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize),4&o&&w(e,"data-index",t[2])},d(t){t&&d(e)}}}function Mn(t){let e,n,o,i;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),C(e,"cursor","pointer"),w(e,"data-index",t[2])},m(s,r){p(s,e,r),h(e,n),o||(i=b(e,"click",t[13]),o=!0)},p(t,o){32&o&&x(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize),4&o&&w(e,"data-index",t[2])},d(t){t&&d(e),o=!1,i()}}}function zn(t){let e,n,i,s,a,c;function l(t,e){return t[1].showLink?Mn:Vn}let u=l(t),f=u(t);return{c(){e=g("div"),n=g("p"),i=m(t[0]),s=y(),f.c(),w(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[6].fontSize),w(n,"data-index",t[2]),w(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[3])+"px"),w(e,"data-index",t[2])},m(o,r){p(o,e,r),h(e,n),h(n,i),h(e,s),f.m(e,null),t[18](e),a||(c=[b(n,"dblclick",t[11]),b(n,"contextmenu",t[12]),b(e,"mouseenter",t[14]),b(e,"mouseleave",t[15]),b(e,"mouseout",t[16]),b(e,"blur",t[17])],a=!0)},p(t,[o]){1&o&&x(i,t[0]),64&o&&C(n,"font-size",t[6].fontSize),4&o&&w(n,"data-index",t[2]),u===(u=l(t))&&f?f.p(t,o):(f.d(1),f=u(t),f&&(f.c(),f.m(e,null))),8&o&&C(e,"height",Math.floor(t[3])+"px"),4&o&&w(e,"data-index",t[2])},i:o,o:o,d(n){n&&d(e),f.d(),t[18](null),a=!1,r(c)}}}function Dn(t,e,n){let o,i;l(t,wn,(t=>n(10,o=t))),l(t,Ge,(t=>n(6,i=t)));let s,{name:r}=e,{config:a}=e,{index:c}=e,{height:u}=e,h="loading...",p="";const d=N();function f(){a.showLink&&backend.writeClipboard(p)}function g(){fetch("http://localhost:9978/api/nodered/var/"+a.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text?(void 0!==t.text.ip&&n(5,h=t.text.ip),p="http://"+h,0!==parseInt(a.port)&&(p+=":"+a.port)):(n(5,h="loading..."),p="")}))}function m(){d("middleButton",{index:c,dom:s})}L((()=>{g()}));return t.$$set=t=>{"name"in t&&n(0,r=t.name),"config"in t&&n(1,a=t.config),"index"in t&&n(2,c=t.index),"height"in t&&n(3,u=t.height)},t.$$.update=()=>{var e;1024&t.$$.dirty&&void 0!==(e=o)&&e.on(a.flowVar,(t=>{void 0!==t&&(void 0!==t.ip&&n(5,h=t.ip),p="http://"+h,0!==parseInt(a.port)&&(p+=":"+a.port))})),4&t.$$.dirty&&g()},[r,a,c,u,s,h,i,d,f,m,o,t=>{d("dblclick",{})},t=>{t.preventDefault(),m()},t=>{f()},()=>{n(4,s.style.color=i.highlight,s)},()=>{n(4,s.style.color=i.textcolor,s)},()=>{n(4,s.style.color=i.textcolor,s)},()=>{n(4,s.style.color=i.textcolor,s)},function(t){A[t?"unshift":"push"]((()=>{s=t,n(4,s)}))}]}class Hn extends et{constructor(t){super(),tt(this,t,Dn,zn,c,{name:0,config:1,index:2,height:3})}}function Wn(t){let e,n,i,s,a,c,l,u,f,m,v,x,C,_;return{c(){e=g("div"),n=g("label"),n.textContent="What is the variable name?",i=y(),s=g("input"),a=y(),c=g("label"),c.textContent="Have a link?",l=y(),u=g("input"),f=y(),m=g("label"),m.textContent="What port to open on click?",v=y(),x=g("input"),w(n,"for","Variable"),w(n,"class","componentLabel svelte-rqnqoj"),w(s,"id","Variable"),w(s,"type","text"),w(s,"class","componentInput svelte-rqnqoj"),w(c,"for","Link"),w(c,"class","componentLabel svelte-rqnqoj"),w(u,"id","Link"),w(u,"type","checkbox"),w(u,"class","componentInput svelte-rqnqoj"),w(m,"for","Port"),w(m,"class","componentLabel svelte-rqnqoj"),w(x,"id","Port"),w(x,"type","text"),w(x,"class","componentInput svelte-rqnqoj"),w(e,"class","IPAddressConfig svelte-rqnqoj")},m(o,r){p(o,e,r),h(e,n),h(e,i),h(e,s),k(s,t[0].flowVar),h(e,a),h(e,c),h(e,l),h(e,u),u.checked=t[0].showLink,h(e,f),h(e,m),h(e,v),h(e,x),k(x,t[0].port),C||(_=[b(s,"input",t[2]),b(s,"change",t[1]),b(u,"change",t[3]),b(u,"change",t[1]),b(x,"input",t[4]),b(x,"change",t[1])],C=!0)},p(t,[e]){1&e&&s.value!==t[0].flowVar&&k(s,t[0].flowVar),1&e&&(u.checked=t[0].showLink),1&e&&x.value!==t[0].port&&k(x,t[0].port)},i:o,o:o,d(t){t&&d(e),C=!1,r(_)}}}function Un(t,e,n){const o=N();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,function(t){console.log(i.showLink),o("change",{flowVar:i.flowVar,showLink:i.showLink,port:parseInt(i.port,10)})},function(){i.flowVar=this.value,n(0,i)},function(){i.showLink=this.checked,n(0,i)},function(){i.port=this.value,n(0,i)}]}class Xn extends et{constructor(t){super(),tt(this,t,Un,Wn,c,{config:0})}}function Kn(t){let e,n;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize)},m(t,o){p(t,e,o),h(e,n)},p(t,o){32&o&&x(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize)},d(t){t&&d(e)}}}function Yn(t){let e,n,o,i;return{c(){e=g("p"),n=m(t[5]),w(e,"class","value svelte-1xqw1f6"),C(e,"font-size",t[6].fontSize),C(e,"cursor","pointer"),w(e,"data-index",t[2])},m(s,r){p(s,e,r),h(e,n),o||(i=b(e,"click",t[12]),o=!0)},p(t,o){32&o&&x(n,t[5]),64&o&&C(e,"font-size",t[6].fontSize),4&o&&w(e,"data-index",t[2])},d(t){t&&d(e),o=!1,i()}}}function Jn(t){let e,n,i,s,a,c;function l(t,e){return t[1].showLink?Yn:Kn}let u=l(t),f=u(t);return{c(){e=g("div"),n=g("p"),i=m(t[0]),s=y(),f.c(),w(n,"class","name svelte-1xqw1f6"),C(n,"font-size",t[6].fontSize),w(n,"data-index",t[2]),w(e,"class","main svelte-1xqw1f6"),C(e,"height",Math.floor(t[3])+"px"),w(e,"data-index",t[2])},m(o,r){p(o,e,r),h(e,n),h(n,i),h(e,s),f.m(e,null),t[17](e),a||(c=[b(n,"dblclick",t[10]),b(n,"contextmenu",t[11]),b(e,"mouseenter",t[13]),b(e,"mouseleave",t[14]),b(e,"mouseout",t[15]),b(e,"blur",t[16])],a=!0)},p(t,[o]){1&o&&x(i,t[0]),64&o&&C(n,"font-size",t[6].fontSize),4&o&&w(n,"data-index",t[2]),u===(u=l(t))&&f?f.p(t,o):(f.d(1),f=u(t),f&&(f.c(),f.m(e,null))),8&o&&C(e,"height",Math.floor(t[3])+"px"),4&o&&w(e,"data-index",t[2])},i:o,o:o,d(n){n&&d(e),f.d(),t[17](null),a=!1,r(c)}}}function Gn(t,e,n){let o;l(t,Ge,(t=>n(6,o=t)));let i,{name:s}=e,{config:r}=e,{index:a}=e,{height:c}=e,u="loading...",h="";const p=N();function d(){fetch("http://localhost:9978/api/getip").then((t=>t.json())).then((t=>{null!==t&&(void 0!==t.ip&&n(5,u=t.ip),h="http://"+u,0!==parseInt(r.port)&&(h+=":"+r.port))}))}function f(){r.showLink&&backend.writeClipboard(h)}function g(){p("middleButton",{index:a,dom:i})}L((()=>{d()}));return t.$$set=t=>{"name"in t&&n(0,s=t.name),"config"in t&&n(1,r=t.config),"index"in t&&n(2,a=t.index),"height"in t&&n(3,c=t.height)},t.$$.update=()=>{4&t.$$.dirty&&d()},[s,r,a,c,i,u,o,p,f,g,t=>{p("dblclick",{})},t=>{t.preventDefault(),g()},t=>{f()},()=>{n(4,i.style.color=o.highlight,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},function(t){A[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class Zn extends et{constructor(t){super(),tt(this,t,Gn,Jn,c,{name:0,config:1,index:2,height:3})}}function Qn(t){let e,n,i,s,a,c,l,u,f,m;return{c(){e=g("div"),n=g("label"),n.textContent="Have a link?",i=y(),s=g("input"),a=y(),c=g("label"),c.textContent="What port to open on click?",l=y(),u=g("input"),w(n,"for","Name"),w(n,"class","componentLabel svelte-2ope4y"),w(s,"id","Name"),w(s,"type","checkbox"),w(s,"class","componentInput svelte-2ope4y"),w(c,"for","Port"),w(c,"class","componentLabel svelte-2ope4y"),w(u,"id","Port"),w(u,"type","text"),w(u,"class","componentInput svelte-2ope4y"),w(e,"class","IntIPAddressConfig svelte-2ope4y")},m(o,r){p(o,e,r),h(e,n),h(e,i),h(e,s),s.checked=t[0].showLink,h(e,a),h(e,c),h(e,l),h(e,u),k(u,t[0].port),f||(m=[b(s,"change",t[2]),b(s,"change",t[1]),b(u,"input",t[3]),b(u,"change",t[1])],f=!0)},p(t,[e]){1&e&&(s.checked=t[0].showLink),1&e&&u.value!==t[0].port&&k(u,t[0].port)},i:o,o:o,d(t){t&&d(e),f=!1,r(m)}}}function to(t,e,n){const o=N();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,function(t){o("change",{showLink:i.showLink,port:parseInt(i.port,10)})},function(){i.showLink=this.checked,n(0,i)},function(){i.port=this.value,n(0,i)}]}class eo extends et{constructor(t){super(),tt(this,t,to,Qn,c,{config:0})}}var no=it((function(t,e){!function(t,n){if("string"!=typeof e.nodeName)n(e);else{var o={};n(o),t.AnsiUp=o.default}}(nt,(function(t){var e,n=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};!function(t){t[t.EOS=0]="EOS",t[t.Text=1]="Text",t[t.Incomplete=2]="Incomplete",t[t.ESC=3]="ESC",t[t.Unknown=4]="Unknown",t[t.SGR=5]="SGR",t[t.OSCURL=6]="OSCURL"}(e||(e={}));var o=function(){function t(){this.VERSION="5.0.1",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(t.prototype,"use_classes",{get:function(){return this._use_classes},set:function(t){this._use_classes=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(t){this._url_whitelist=t},enumerable:!1,configurable:!0}),t.prototype.setup_palettes=function(){var t=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(e){e.forEach((function(e){t.palette_256.push(e)}))}));for(var e=[0,95,135,175,215,255],n=0;n<6;++n)for(var o=0;o<6;++o)for(var i=0;i<6;++i){var s={rgb:[e[n],e[o],e[i]],class_name:"truecolor"};this.palette_256.push(s)}for(var r=8,a=0;a<24;++a,r+=10){var c={rgb:[r,r,r],class_name:"truecolor"};this.palette_256.push(c)}},t.prototype.escape_txt_for_html=function(t){return t.replace(/[&<>"']/gm,(function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#x27;":void 0}))},t.prototype.append_buffer=function(t){var e=this._buffer+t;this._buffer=e},t.prototype.get_next_packet=function(){var t={kind:e.EOS,text:"",url:""},o=this._buffer.length;if(0==o)return t;var s=this._buffer.indexOf("");if(-1==s)return t.kind=e.Text,t.text=this._buffer,this._buffer="",t;if(s>0)return t.kind=e.Text,t.text=this._buffer.slice(0,s),this._buffer=this._buffer.slice(s),t;if(0==s){if(1==o)return t.kind=e.Incomplete,t;var r=this._buffer.charAt(1);if("["!=r&&"]"!=r)return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if("["==r){if(this._csi_regex||(this._csi_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          [                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          [                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(l=this._buffer.match(this._csi_regex)))return t.kind=e.Incomplete,t;if(l[4])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;""!=l[1]||"m"!=l[3]?t.kind=e.Unknown:t.kind=e.SGR,t.text=l[2];var a=l[0].length;return this._buffer=this._buffer.slice(a),t}if("]"==r){if(o<4)return t.kind=e.Incomplete,t;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.raw[0],i=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,s=o.replace(i,"");return new RegExp(s,"g")}(n(["\n                        (?:                         # legal sequence\n                          (\\)                    # ESC                           |                           # alternate\n                          ()                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-]                 # anything illegal\n                          |                           # alternate\n                          [\b-]                 # anything illegal\n                          |                           # alternate\n                          [-]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]))),this._osc_st.lastIndex=0;var c=this._osc_st.exec(this._buffer);if(null===c)return t.kind=e.Incomplete,t;if(c[3])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;var l,u=this._osc_st.exec(this._buffer);if(null===u)return t.kind=e.Incomplete,t;if(u[3])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if(this._osc_regex||(this._osc_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                        ]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        ]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(l=this._buffer.match(this._osc_regex)))return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;t.kind=e.OSCURL,t.url=l[1],t.text=l[2];a=l[0].length;return this._buffer=this._buffer.slice(a),t}}},t.prototype.ansi_to_html=function(t){this.append_buffer(t);for(var n=[];;){var o=this.get_next_packet();if(o.kind==e.EOS||o.kind==e.Incomplete)break;o.kind!=e.ESC&&o.kind!=e.Unknown&&(o.kind==e.Text?n.push(this.transform_to_html(this.with_state(o))):o.kind==e.SGR?this.process_ansi(o):o.kind==e.OSCURL&&n.push(this.process_hyperlink(o)))}return n.join("")},t.prototype.with_state=function(t){return{bold:this.bold,fg:this.fg,bg:this.bg,text:t.text}},t.prototype.process_ansi=function(t){for(var e=t.text.split(";");e.length>0;){var n=e.shift(),o=parseInt(n,10);if(isNaN(o)||0===o)this.fg=this.bg=null,this.bold=!1;else if(1===o)this.bold=!0;else if(22===o)this.bold=!1;else if(39===o)this.fg=null;else if(49===o)this.bg=null;else if(o>=30&&o<38)this.fg=this.ansi_colors[0][o-30];else if(o>=40&&o<48)this.bg=this.ansi_colors[0][o-40];else if(o>=90&&o<98)this.fg=this.ansi_colors[1][o-90];else if(o>=100&&o<108)this.bg=this.ansi_colors[1][o-100];else if((38===o||48===o)&&e.length>0){var i=38===o,s=e.shift();if("5"===s&&e.length>0){var r=parseInt(e.shift(),10);r>=0&&r<=255&&(i?this.fg=this.palette_256[r]:this.bg=this.palette_256[r])}if("2"===s&&e.length>2){var a=parseInt(e.shift(),10),c=parseInt(e.shift(),10),l=parseInt(e.shift(),10);if(a>=0&&a<=255&&c>=0&&c<=255&&l>=0&&l<=255){var u={rgb:[a,c,l],class_name:"truecolor"};i?this.fg=u:this.bg=u}}}}},t.prototype.transform_to_html=function(t){var e=t.text;if(0===e.length)return e;if(e=this.escape_txt_for_html(e),!t.bold&&null===t.fg&&null===t.bg)return e;var n=[],o=[],i=t.fg,s=t.bg;t.bold&&n.push("font-weight:bold"),this._use_classes?(i&&("truecolor"!==i.class_name?o.push(i.class_name+"-fg"):n.push("color:rgb("+i.rgb.join(",")+")")),s&&("truecolor"!==s.class_name?o.push(s.class_name+"-bg"):n.push("background-color:rgb("+s.rgb.join(",")+")"))):(i&&n.push("color:rgb("+i.rgb.join(",")+")"),s&&n.push("background-color:rgb("+s.rgb+")"));var r="",a="";return o.length&&(r=' class="'+o.join(" ")+'"'),n.length&&(a=' style="'+n.join(";")+'"'),"<span"+a+r+">"+e+"</span>"},t.prototype.process_hyperlink=function(t){var e=t.url.split(":");return e.length<1?"":this._url_whitelist[e[0]]?'<a href="'+this.escape_txt_for_html(t.url)+'">'+this.escape_txt_for_html(t.text)+"</a>":""},t}();function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=t.raw[0],i=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,s=o.replace(i,"");return new RegExp(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}))})),oo=ot(no);function io(t){let e;return{c(){e=m(t[4])},m(t,n){p(t,e,n)},p(t,n){16&n&&x(e,t[4])},d(t){t&&d(e)}}}function so(t){let e,n;return{c(){e=new E,n=v(),e.a=n},m(o,i){e.m(t[4],o,i),p(o,n,i)},p(t,n){16&n&&e.p(t[4])},d(t){t&&d(n),t&&e.d()}}}function ro(t){let e,n,i,s,a,c,l;function u(t,e){return t[5]?so:io}let f=u(t),v=f(t);return{c(){e=g("div"),n=g("span"),i=m(t[0]),s=y(),a=g("span"),v.c(),w(n,"class","scriptName svelte-13lhzn2"),w(a,"class","scriptValue svelte-13lhzn2"),w(e,"class","script svelte-13lhzn2"),C(e,"height",Math.floor(t[2])+"px"),w(e,"data-index",t[1])},m(o,r){p(o,e,r),h(e,n),h(n,i),h(e,s),h(e,a),v.m(a,null),t[13](e),c||(l=[b(n,"dblclick",t[11]),b(a,"click",t[12]),b(e,"mouseenter",t[14]),b(e,"mouseleave",t[15]),b(e,"mouseout",t[16]),b(e,"blur",t[17]),b(e,"contextmenu",t[18])],c=!0)},p(t,[n]){1&n&&x(i,t[0]),f===(f=u(t))&&v?v.p(t,n):(v.d(1),v=f(t),v&&(v.c(),v.m(a,null))),4&n&&C(e,"height",Math.floor(t[2])+"px"),2&n&&w(e,"data-index",t[1])},i:o,o:o,d(n){n&&d(e),v.d(),t[13](null),c=!1,r(l)}}}function ao(t,e,n){let o;l(t,Ge,(t=>n(6,o=t)));let i,{name:s}=e,{config:r={script:"",env:"",envVar:"",commandLine:"",type:"",scriptImage:"",appBackground:o.appBackground,highlight:o.highlight}}=e,{index:a}=e,{height:c}=e,u="loading...",h="<h1>Loading...</h1>",p=!1,d={changeColor:!1,width:300,height:300,showButton:!0};const f=N();function g(){var t=JSON.stringify({script:r.script,text:r.commandLine,env:r.env,envVar:r.envVar,commandLine:r.commandLine});fetch("http://localhost:9978/api/script/run/",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:t}).then((t=>t.json())).then((t=>{null!==t&&function(t){d.showButton=!0,"generic"===r.type?h="<p>"+t.text+"</p>":"bitbar"===r.type?h=t.text:"textbar"===r.type?h=function(t){var e="",o="",i=10,s=null;d={},d.height=10;var a=1,c=!1,l=!1,h=new oo;d.showButton=!0,t=String(t),globalThis.ScriptClick=(t,e,n,o,i)=>{var s=[];s.TEXTBAR_INDEX=t,s.TEXTBAR_TEXT=e;var r=JSON.stringify({script:n.trim(),text:o.trim(),env:i.trim(),envVar:{...s},commandLine:o.trim()});fetch("http://localhost:9978/api/script/run/",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:r}).then((t=>t.json())).then((t=>{null!==t&&globalThis.closeWebView()}))},t=t.split(/\r?\n/),n(4,u=r.scriptImage+t[0]),t.slice(1).forEach((t=>{if(""!==t.trim()){var f=(t=new String(t)).includes("----TEXTBAR----");if(f||l)if(f)l=!0;else{var g=t.split("=");switch(g[0]){case"REFRESH":break;case"VIEWTYPE":if("HTML"===g[1])s=o,d.showButton=!0;else s=e,d.showButton=!1;break;case"VIEWSIZE":var m=g[1].split(",");d.width=parseInt(m[0],10),d.height=parseInt(m[1],10),c=!0;break;case"IMAGE":":"===g[1][0]?(n(4,u='<img src="'+g[1].slice(1)+'" />'),n(5,p=!0)):n(4,u=g[1]),d.showButton=!0}}else{o+=t;var y="",v="";if(null!==t.match(/\[\d+(\:\d+)*m/)){var b=t.replace(/\\e/g,"");y=(y=h.ansi_to_html(b)).replace(/\[\d+(\:\d+)*m/g,""),v=t.replace(/\\e/g,"").replace(/\[\d+((\:|\;)\d+)*m/g,"")}else y=t.replace(/ /g,"&nbsp;"),v=t;v=new String(v),i<v.length&&(i=v.length),":"===t[t.length-1]?e+='<p style="margin: 0px; padding: 0px 0px 0px 0px; height: 20px; white-space: nowrap;">'+y+"</p>":e+=`<p style="margin: 0px; padding: 0px 0px 0px 5px; height: 20px; border: 0px solid transparent; border-radius: 5px; white-space: nowrap;" \n                              onclick="globalThis.ScriptClick(${a},'${t}','${r.script}', '${r.commandLine}', '${r.env}')"\n                              onmouseenter="window.setLineColorNew(this)"\n                              onmouseleave="window.setLineColor(this)"\n                              onblur="window.setLineColor(this)"\n                            >\n                              ${y}\n                            </p>`}a+=1}})),c?d.changeColor=!1:(d.changeColor=!0,d.backgroundColor=r.appBackground,d.highlightColor=r.highlight);null===s&&(s=e);return s}(t.text):"web"===r.type&&(h=t.text)}(t)}))}function m(){f("middleButton",{index:a,dom:i})}function y(){"string"!=typeof u||u.includes("loading...")||f("changeView",{name:"webview",body:{html:h,config:d}})}L((()=>{g()}));return t.$$set=t=>{"name"in t&&n(0,s=t.name),"config"in t&&n(10,r=t.config),"index"in t&&n(1,a=t.index),"height"in t&&n(2,c=t.height)},t.$$.update=()=>{2&t.$$.dirty&&g()},[s,a,c,i,u,p,o,f,m,y,r,t=>{f("dblclick",{})},t=>{y()},function(t){A[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},()=>{n(3,i.style.color=o.highlight,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},t=>{t.preventDefault(),m()}]}class co extends et{constructor(t){super(),tt(this,t,ao,ro,c,{name:0,config:10,index:1,height:2})}}function lo(t){let e,n,o,i,s,a,c,l,u,h,f,m,v;return{c(){e=g("label"),e.textContent="What emoji?",n=y(),o=g("input"),i=y(),s=g("label"),s.textContent="What Highlight color?",a=y(),c=g("input"),l=y(),u=g("label"),u.textContent="What background color?",h=y(),f=g("input"),w(e,"for","ScriptIcon"),w(e,"class","componentLabel svelte-1097m2q"),w(o,"id","ScriptIcon"),w(o,"type","text"),w(o,"class","componentInput svelte-1097m2q"),w(s,"for","ScriptHigh"),w(s,"class","componentLabel svelte-1097m2q"),w(c,"id","ScriptHigh"),w(c,"type","text"),w(c,"class","componentInput svelte-1097m2q"),w(u,"for","ScriptBack"),w(u,"class","componentLabel svelte-1097m2q"),w(f,"id","ScriptBack"),w(f,"type","text"),w(f,"class","componentInput svelte-1097m2q")},m(r,d){p(r,e,d),p(r,n,d),p(r,o,d),k(o,t[0].scriptImage),p(r,i,d),p(r,s,d),p(r,a,d),p(r,c,d),k(c,t[0].highlight),p(r,l,d),p(r,u,d),p(r,h,d),p(r,f,d),k(f,t[0].appBackground),m||(v=[b(o,"input",t[12]),b(o,"change",t[13]),b(c,"input",t[14]),b(c,"change",t[15]),b(f,"input",t[16]),b(f,"change",t[17])],m=!0)},p(t,e){1&e&&o.value!==t[0].scriptImage&&k(o,t[0].scriptImage),1&e&&c.value!==t[0].highlight&&k(c,t[0].highlight),1&e&&f.value!==t[0].appBackground&&k(f,t[0].appBackground)},d(t){t&&d(e),t&&d(n),t&&d(o),t&&d(i),t&&d(s),t&&d(a),t&&d(c),t&&d(l),t&&d(u),t&&d(h),t&&d(f),m=!1,r(v)}}}function uo(t){let e,n,i,s,a,c,l,u,f,m,v,x,C,$,E,S,B,T,L,N,I,A,O,F,q,R,P,j="textbar"===t[0].type&&lo(t);return{c(){e=g("div"),n=g("label"),n.textContent="What is the name of the script?",i=y(),s=g("input"),a=y(),c=g("label"),c.textContent="What is the command line?",l=y(),u=g("input"),f=y(),m=g("label"),m.textContent="What is the name of the environment?",v=y(),x=g("input"),C=y(),$=g("label"),$.textContent="What environment variables?",E=y(),S=g("input"),B=y(),T=g("label"),T.textContent="What type of script?",L=y(),N=g("select"),I=g("option"),I.textContent="TextBar",A=g("option"),A.textContent="BitBar",O=g("option"),O.textContent="Generic",F=g("option"),F.textContent="Web Page",q=y(),j&&j.c(),w(n,"for","Name"),w(n,"class","componentLabel svelte-1097m2q"),w(s,"id","Name"),w(s,"type","text"),w(s,"class","componentInput svelte-1097m2q"),w(c,"for","CommandLine"),w(c,"class","componentLabel svelte-1097m2q"),w(u,"id","CommandLine"),w(u,"type","text"),w(u,"class","componentInput svelte-1097m2q"),w(m,"for","Env"),w(m,"class","componentLabel svelte-1097m2q"),w(x,"id","Env"),w(x,"type","text"),w(x,"class","componentInput svelte-1097m2q"),w($,"for","EnvVar"),w($,"class","componentLabel svelte-1097m2q"),w(S,"id","EnvVar"),w(S,"type","text"),w(S,"class","componentInput svelte-1097m2q"),w(T,"for","Type"),w(T,"class","componentLabel svelte-1097m2q"),I.__value="textbar",I.value=I.__value,A.__value="bitbar",A.value=A.__value,O.__value="generic",O.value=O.__value,F.__value="web",F.value=F.__value,w(N,"id","Type"),w(N,"class","componentInput svelte-1097m2q"),void 0===t[0].type&&V((()=>t[10].call(N))),w(e,"id","ScriptConfig"),w(e,"class","svelte-1097m2q")},m(o,r){p(o,e,r),h(e,n),h(e,i),h(e,s),k(s,t[0].script),h(e,a),h(e,c),h(e,l),h(e,u),k(u,t[0].commandLine),h(e,f),h(e,m),h(e,v),h(e,x),k(x,t[0].env),h(e,C),h(e,$),h(e,E),h(e,S),k(S,t[0].envVar),h(e,B),h(e,T),h(e,L),h(e,N),h(N,I),h(N,A),h(N,O),h(N,F),_(N,t[0].type),h(e,q),j&&j.m(e,null),R||(P=[b(s,"input",t[2]),b(s,"change",t[3]),b(u,"input",t[4]),b(u,"change",t[5]),b(x,"input",t[6]),b(x,"change",t[7]),b(S,"input",t[8]),b(S,"change",t[9]),b(N,"change",t[10]),b(N,"blur",t[11])],R=!0)},p(t,[n]){1&n&&s.value!==t[0].script&&k(s,t[0].script),1&n&&u.value!==t[0].commandLine&&k(u,t[0].commandLine),1&n&&x.value!==t[0].env&&k(x,t[0].env),1&n&&S.value!==t[0].envVar&&k(S,t[0].envVar),1&n&&_(N,t[0].type),"textbar"===t[0].type?j?j.p(t,n):(j=lo(t),j.c(),j.m(e,null)):j&&(j.d(1),j=null)},i:o,o:o,d(t){t&&d(e),j&&j.d(),R=!1,r(P)}}}function ho(t,e,n){let o;l(t,Ge,(t=>n(18,o=t)));const i=N();let{config:s={script:"",env:"",envVar:"",commandLine:"",scriptImage:"",highlight:o.highlight,appBackground:o.backgroundColor}}=e;return t.$$set=t=>{"config"in t&&n(0,s=t.config)},[s,i,function(){s.script=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.commandLine=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.env=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.envVar=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.type=$(this),n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.scriptImage=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.highlight=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})},function(){s.appBackground=this.value,n(0,s)},()=>{i("change",{script:s.script,env:s.env,envVar:s.envVar,commandLine:s.commandLine,type:s.type,scriptImage:s.scriptImage,highlight:s.highlight,appBackground:s.appBackground})}]}class po extends et{constructor(t){super(),tt(this,t,ho,uo,c,{config:0})}}function fo(t){let e,n,i,s,a,c,l;return{c(){e=g("div"),n=g("span"),i=m(t[0]),s=y(),a=g("span"),a.textContent="🌎",w(n,"class","name svelte-1yfcj8v"),w(a,"class","weblinklink svelte-1yfcj8v"),w(e,"class","main svelte-1yfcj8v"),C(e,"height",Math.floor(t[2])+"px"),w(e,"data-index",t[1])},m(o,r){p(o,e,r),h(e,n),h(n,i),h(e,s),h(e,a),t[16](e),c||(l=[b(n,"dblclick",t[9]),b(a,"click",t[10]),b(e,"contextmenu",t[11]),b(e,"mouseenter",t[12]),b(e,"mouseleave",t[13]),b(e,"mouseout",t[14]),b(e,"blur",t[15])],c=!0)},p(t,[n]){1&n&&x(i,t[0]),4&n&&C(e,"height",Math.floor(t[2])+"px"),2&n&&w(e,"data-index",t[1])},i:o,o:o,d(n){n&&d(e),t[16](null),c=!1,r(l)}}}function go(t,e,n){let o;l(t,Ge,(t=>n(4,o=t)));let i,{name:s}=e,{config:r}=e,{index:a}=e,{height:c}=e;const u=N();async function h(){await j(),void 0===typeof i||i==={}?console.log("No dom"):u("middleButton",{index:a,dom:i})}function p(){window.wails.Browser.OpenURL(r.link)}return t.$$set=t=>{"name"in t&&n(0,s=t.name),"config"in t&&n(8,r=t.config),"index"in t&&n(1,a=t.index),"height"in t&&n(2,c=t.height)},[s,a,c,i,o,u,h,p,r,t=>{t.preventDefault(),u("dblclick",{})},t=>{p()},t=>{t.preventDefault(),h()},()=>{n(3,i.style.color=o.highlight,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},function(t){A[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class mo extends et{constructor(t){super(),tt(this,t,go,fo,c,{name:0,config:8,index:1,height:2})}}function yo(t){let e,n,i,s,a,c;return{c(){e=g("div"),n=g("label"),n.textContent="What is the link address?",i=y(),s=g("input"),w(n,"for","LinkAddress"),w(n,"class","componentLabel svelte-12qnvtk"),w(s,"id","LinkAddress"),w(s,"type","text"),w(s,"class","componentInput svelte-12qnvtk"),w(e,"class","WebLinkConfig svelte-12qnvtk")},m(o,r){p(o,e,r),h(e,n),h(e,i),h(e,s),k(s,t[0].link),a||(c=[b(s,"input",t[2]),b(s,"change",t[3])],a=!0)},p(t,[e]){1&e&&s.value!==t[0].link&&k(s,t[0].link)},i:o,o:o,d(t){t&&d(e),a=!1,r(c)}}}function vo(t,e,n){let{config:o}=e;const i=N();return t.$$set=t=>{"config"in t&&n(0,o=t.config)},[o,i,function(){o.link=this.value,n(0,o)},()=>{i("change",{link:o.link,browser:o.browser})}]}class bo extends et{constructor(t){super(),tt(this,t,vo,yo,c,{config:0})}}function wo(t,e,n){const o=t.slice();return o[67]=e[n],o[69]=n,o}function xo(t,e,n){const o=t.slice();return o[70]=e[n],o[71]=e,o[69]=n,o}function ko(t){let e,n,o,i,s,a,c,l,u,m,v,x,k,C,_,$=t[8]&&$o(t),E=t[10]&&Bo(t),S=t[0],B=[];for(let e=0;e<S.length;e+=1)B[e]=Ao(xo(t,S,e));const T=t=>J(B[t],1,1,(()=>{B[t]=null}));let L=t[1].length>0&&Oo(t);return{c(){$&&$.c(),e=y(),E&&E.c(),n=y(),o=g("div"),i=g("p"),i.textContent="+",s=y(),a=g("p"),a.textContent="X",c=y(),l=g("div");for(let t=0;t<B.length;t+=1)B[t].c();u=y(),m=g("div"),m.innerHTML='<span id="addTabText" class="svelte-ccpnqa">+</span>',v=y(),x=g("div"),L&&L.c(),w(i,"id","addControl"),w(i,"class","svelte-ccpnqa"),w(a,"id","closeControl"),w(a,"class","svelte-ccpnqa"),w(o,"id","controls"),w(o,"class","svelte-ccpnqa"),w(m,"id","addTab"),w(m,"class","tab svelte-ccpnqa"),w(l,"id","tabs"),w(l,"class","svelte-ccpnqa"),w(x,"id","componentList"),w(x,"class","svelte-ccpnqa")},m(r,d){$&&$.m(r,d),p(r,e,d),E&&E.m(r,d),p(r,n,d),p(r,o,d),h(o,i),h(o,s),h(o,a),p(r,c,d),p(r,l,d);for(let t=0;t<B.length;t+=1)B[t].m(l,null);h(l,u),h(l,m),p(r,v,d),p(r,x,d),L&&L.m(x,null),k=!0,C||(_=[b(i,"click",t[40]),b(a,"click",Ro),b(m,"click",t[46])],C=!0)},p(t,o){if(t[8]?$?$.p(t,o):($=$o(t),$.c(),$.m(e.parentNode,e)):$&&($.d(1),$=null),t[10]?E?E.p(t,o):(E=Bo(t),E.c(),E.m(n.parentNode,n)):E&&(E.d(1),E=null),25182273&o[0]){let e;for(S=t[0],e=0;e<S.length;e+=1){const n=xo(t,S,e);B[e]?(B[e].p(n,o),Y(B[e],1)):(B[e]=Ao(n),B[e].c(),Y(B[e],1),B[e].m(l,u))}for(X(),e=S.length;e<B.length;e+=1)T(e);K()}t[1].length>0?L?(L.p(t,o),2&o[0]&&Y(L,1)):(L=Oo(t),L.c(),Y(L,1),L.m(x,null)):L&&(X(),J(L,1,1,(()=>{L=null})),K())},i(t){if(!k){for(let t=0;t<S.length;t+=1)Y(B[t]);Y(L),k=!0}},o(t){B=B.filter(Boolean);for(let t=0;t<B.length;t+=1)J(B[t]);J(L),k=!1},d(t){$&&$.d(t),t&&d(e),E&&E.d(t),t&&d(n),t&&d(o),t&&d(c),t&&d(l),f(B,t),t&&d(v),t&&d(x),L&&L.d(),C=!1,r(_)}}}function Co(t){let e,n,o,i,s,r,a,c;return s=new ln({props:{widget:t[5]}}),s.$on("editComponent",t[17]),s.$on("deleteComponent",t[18]),{c(){e=g("div"),n=g("div"),o=g("p"),o.textContent="X",i=y(),G(s.$$.fragment),w(o,"id","closeEditDialogControl"),w(o,"class","svelte-ccpnqa"),w(n,"id","editDialogControls"),w(n,"class","svelte-ccpnqa"),w(e,"id","editDialog"),C(e,"width","100%"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),w(e,"class","svelte-ccpnqa")},m(l,u){p(l,e,u),h(e,n),h(n,o),h(e,i),Z(s,e,null),r=!0,a||(c=b(o,"click",t[34]),a=!0)},p(t,n){const o={};32&n[0]&&(o.widget=t[5]),s.$set(o),(!r||8192&n[0])&&C(e,"background-color",t[13].appBackground),(!r||8192&n[0])&&C(e,"color",t[13].textcolor),(!r||8192&n[0])&&C(e,"font-family",t[13].fontFamily),(!r||8192&n[0])&&C(e,"font-size",t[13].fontSize)},i(t){r||(Y(s.$$.fragment,t),r=!0)},o(t){J(s.$$.fragment,t),r=!1},d(t){t&&d(e),Q(s),a=!1,c()}}}function _o(t){let e,n,o,i,s,r,a,c;return s=new sn({props:{types:t[2]}}),s.$on("addNewComponent",t[15]),{c(){e=g("div"),n=g("div"),o=g("p"),o.textContent="X",i=y(),G(s.$$.fragment),w(o,"id","closeAddDialogControl"),w(o,"class","svelte-ccpnqa"),w(n,"id","addDialogControls"),w(n,"class","svelte-ccpnqa"),w(e,"id","addDialog"),C(e,"width","100%"),C(e,"background-color",t[13].appBackground),C(e,"color",t[13].textcolor),C(e,"font-family",t[13].fontFamily),C(e,"font-size",t[13].fontSize),w(e,"class","svelte-ccpnqa")},m(l,u){p(l,e,u),h(e,n),h(n,o),h(e,i),Z(s,e,null),r=!0,a||(c=b(o,"click",t[33]),a=!0)},p(t,n){const o={};4&n[0]&&(o.types=t[2]),s.$set(o),(!r||8192&n[0])&&C(e,"background-color",t[13].appBackground),(!r||8192&n[0])&&C(e,"color",t[13].textcolor),(!r||8192&n[0])&&C(e,"font-family",t[13].fontFamily),(!r||8192&n[0])&&C(e,"font-size",t[13].fontSize)},i(t){r||(Y(s.$$.fragment,t),r=!0)},o(t){J(s.$$.fragment,t),r=!1},d(t){t&&d(e),Q(s),a=!1,c()}}}function $o(t){let e,n,o,i,s,r,a=0!==t[6]&&Eo(t),c=t[6]!==t[0].length-1&&So(t);return{c(){e=g("div"),a&&a.c(),n=y(),c&&c.c(),o=y(),i=g("p"),i.textContent="Delete",w(i,"class","ContainerMenuItem svelte-ccpnqa"),w(e,"id","containerMenu"),C(e,"background-color",t[13].appBackground),C(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),C(e,"left",Math.floor(t[9].x+t[9].width/2)+"px"),w(e,"class","svelte-ccpnqa")},m(l,u){p(l,e,u),a&&a.m(e,null),h(e,n),c&&c.m(e,null),h(e,o),h(e,i),s||(r=b(i,"click",t[37]),s=!0)},p(t,i){0!==t[6]?a?a.p(t,i):(a=Eo(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[6]!==t[0].length-1?c?c.p(t,i):(c=So(t),c.c(),c.m(e,o)):c&&(c.d(1),c=null),8192&i[0]&&C(e,"background-color",t[13].appBackground),512&i[0]&&C(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),512&i[0]&&C(e,"left",Math.floor(t[9].x+t[9].width/2)+"px")},d(t){t&&d(e),a&&a.d(),c&&c.d(),s=!1,r()}}}function Eo(t){let e,n,i;return{c(){e=g("p"),e.textContent="Move Left",w(e,"class","ContainerMenuItem svelte-ccpnqa")},m(o,s){p(o,e,s),n||(i=b(e,"click",t[35]),n=!0)},p:o,d(t){t&&d(e),n=!1,i()}}}function So(t){let e,n,i;return{c(){e=g("p"),e.textContent="Move Right",w(e,"class","ContainerMenuItem svelte-ccpnqa")},m(o,s){p(o,e,s),n||(i=b(e,"click",t[36]),n=!0)},p:o,d(t){t&&d(e),n=!1,i()}}}function Bo(t){let e,n,o=0!==t[7]&&To(t),i=t[7]!==t[1].length-1&&Lo(t);return{c(){e=g("div"),o&&o.c(),n=y(),i&&i.c(),w(e,"id","ComponentMenu"),C(e,"background-color",t[13].appBackground),C(e,"top",Math.floor(t[11].y)+"px"),C(e,"left","20px"),w(e,"class","svelte-ccpnqa")},m(t,s){p(t,e,s),o&&o.m(e,null),h(e,n),i&&i.m(e,null)},p(t,s){0!==t[7]?o?o.p(t,s):(o=To(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[7]!==t[1].length-1?i?i.p(t,s):(i=Lo(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),8192&s[0]&&C(e,"background-color",t[13].appBackground),2048&s[0]&&C(e,"top",Math.floor(t[11].y)+"px")},d(t){t&&d(e),o&&o.d(),i&&i.d()}}}function To(t){let e,n,i;return{c(){e=g("p"),e.textContent="Up",w(e,"class","ComponentMenuItem svelte-ccpnqa")},m(o,s){p(o,e,s),n||(i=b(e,"click",t[38]),n=!0)},p:o,d(t){t&&d(e),n=!1,i()}}}function Lo(t){let e,n,i;return{c(){e=g("p"),e.textContent="Down",w(e,"class","ComponentMenuItem svelte-ccpnqa")},m(o,s){p(o,e,s),n||(i=b(e,"click",t[39]),n=!0)},p:o,d(t){t&&d(e),n=!1,i()}}}function No(t){let e,n,i,s,r=t[70].name+"",a=t[71],c=t[69];function l(){return t[44](t[69])}const u=()=>t[45](e,a,c),f=()=>t[45](null,a,c);return{c(){e=g("div"),n=m(r),w(e,"class","tab svelte-ccpnqa")},m(t,o){p(t,e,o),h(e,n),u(),i||(s=b(e,"click",l),i=!0)},p(e,o){t=e,1&o[0]&&r!==(r=t[70].name+"")&&x(n,r),a===t[71]&&c===t[69]||(f(),a=t[71],c=t[69],u())},i:o,o:o,d(t){t&&d(e),f(),i=!1,s()}}}function Io(t){let e,n,o,i=t[71],s=t[69];n=new fn({props:{name:t[70].name}}),n.$on("nameChanged",t[41]),n.$on("middleButton",t[42]);const r=()=>t[43](e,i,s),a=()=>t[43](null,i,s);return{c(){e=g("div"),G(n.$$.fragment),w(e,"class","activeTab svelte-ccpnqa")},m(t,i){p(t,e,i),Z(n,e,null),r(),o=!0},p(e,o){t=e;const c={};1&o[0]&&(c.name=t[70].name),n.$set(c),i===t[71]&&s===t[69]||(a(),i=t[71],s=t[69],r())},i(t){o||(Y(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){t&&d(e),Q(n),a()}}}function Ao(t){let e,n,o,i;const s=[Io,No],r=[];function a(t,e){return t[69]===t[6]?0:1}return e=a(t),n=r[e]=s[e](t),{c(){n.c(),o=v()},m(t,n){r[e].m(t,n),p(t,o,n),i=!0},p(t,i){let c=e;e=a(t),e===c?r[e].p(t,i):(X(),J(r[c],1,1,(()=>{r[c]=null})),K(),n=r[e],n?n.p(t,i):(n=r[e]=s[e](t),n.c()),Y(n,1),n.m(o.parentNode,o))},i(t){i||(Y(n),i=!0)},o(t){J(n),i=!1},d(t){r[e].d(t),t&&d(o)}}}function Oo(t){let e,n,o=t[1],i=[];for(let e=0;e<o.length;e+=1)i[e]=Fo(wo(t,o,e));const s=t=>J(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=v()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);p(t,e,o),n=!0},p(t,n){if(268500994&n[0]|1&n[1]){let r;for(o=t[1],r=0;r<o.length;r+=1){const s=wo(t,o,r);i[r]?(i[r].p(s,n),Y(i[r],1)):(i[r]=Fo(s),i[r].c(),Y(i[r],1),i[r].m(e.parentNode,e))}for(X(),r=o.length;r<i.length;r+=1)s(r);K()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)Y(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)J(i[t]);n=!1},d(t){f(i,t),t&&d(e)}}}function Fo(t){let e,n,o;function i(){return t[47](t[67])}var s=t[67].widget;function r(t){return{props:{index:t[69],height:t[67].height,name:t[67].name,config:t[67].config}}}return s&&(e=new s(r(t)),e.$on("dblclick",i),e.$on("middleButton",t[48]),e.$on("changeView",t[49])),{c(){e&&G(e.$$.fragment),n=v()},m(t,i){e&&Z(e,t,i),p(t,n,i),o=!0},p(o,a){t=o;const c={};if(2&a[0]&&(c.height=t[67].height),2&a[0]&&(c.name=t[67].name),2&a[0]&&(c.config=t[67].config),s!==(s=t[67].widget)){if(e){X();const t=e;J(t.$$.fragment,1,0,(()=>{Q(t,1)})),K()}s?(e=new s(r(t)),e.$on("dblclick",i),e.$on("middleButton",t[48]),e.$on("changeView",t[49]),G(e.$$.fragment),Y(e.$$.fragment,1),Z(e,n.parentNode,n)):e=null}else s&&e.$set(c)},i(t){o||(e&&Y(e.$$.fragment,t),o=!0)},o(t){e&&J(e.$$.fragment,t),o=!1},d(t){t&&d(n),e&&Q(e,t)}}}function qo(t){let e,n,o,i,s,r;e=new bn({});const a=[_o,Co,ko],c=[];function l(t,e){return t[3]?0:t[4]?1:2}return i=l(t),s=c[i]=a[i](t),{c(){G(e.$$.fragment),n=y(),o=g("div"),s.c(),w(o,"id","main"),C(o,"background-color",t[13].appBackground),C(o,"color",t[13].textcolor),C(o,"font-family",t[13].fontFamily),C(o,"font-size",t[13].fontSize),w(o,"class","svelte-ccpnqa")},m(s,a){Z(e,s,a),p(s,n,a),p(s,o,a),c[i].m(o,null),t[50](o),r=!0},p(t,e){let n=i;i=l(t),i===n?c[i].p(t,e):(X(),J(c[n],1,1,(()=>{c[n]=null})),K(),s=c[i],s?s.p(t,e):(s=c[i]=a[i](t),s.c()),Y(s,1),s.m(o,null)),(!r||8192&e[0])&&C(o,"background-color",t[13].appBackground),(!r||8192&e[0])&&C(o,"color",t[13].textcolor),(!r||8192&e[0])&&C(o,"font-family",t[13].fontFamily),(!r||8192&e[0])&&C(o,"font-size",t[13].fontSize)},i(t){r||(Y(e.$$.fragment,t),Y(s),r=!0)},o(t){J(e.$$.fragment,t),J(s),r=!1},d(s){Q(e,s),s&&d(n),s&&d(o),c[i].d(),t[50](null)}}}const Ro=()=>{};function Po(t,e,n){let o,i,s,r,a,c;l(t,mn,(t=>n(54,o=t))),l(t,gn,(t=>n(55,i=t))),l(t,Ze,(t=>n(56,s=t))),l(t,xn,(t=>n(57,r=t))),l(t,wn,(t=>n(58,a=t))),l(t,Ge,(t=>n(13,c=t)));let h,p,d,f,g,m,y,v,{oldState:b}=e,w=[{name:"Info",widgets:[]}],x=[],k=!1,C=!1,_=0,$=!1,E=!1,S=null;const B=N();var I;async function O(){if(await j(),void 0!==y){var t=y.clientWidth,e=y.clientHeight+40;t<100&&(t=400),e<40&&(e=40),$&&x.length<3&&(e+=20*(3-x.length)),E&&x.length-f<3&&(e+=20*(x.length-f)),console.log("changing size..."),u(gn,i=Math.floor(t/2),i),u(mn,o=t,o),window.resizeTo(t,e)}}function F(t){n(1,x=[]),n(8,$=!1),n(10,E=!1),n(6,d=t),n(0,w[t].widgets=R(w[t].widgets),w)}function q(){fetch("http://localhost:9978/api/scriptbar/config/",{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:w})})}function R(t){for(var e=0;e<t.length;e++){var o=h.find((n=>t[e].widgetName===n.moduleName));void 0!==o&&(t[e].widget=o.module,t[e].configWidget=o.config,t[e].configHeight=o.configHeight,t[e].id=_,_+=1,x.push(t[e]))}return n(0,w[d].widgets=x,w),x}function P(t){n(5,p=t),n(4,C=!0),n(8,$=!1),n(10,E=!1)}function V(){n(4,C=!1)}function M(){n(3,k=!0),n(8,$=!1),n(10,E=!1)}function z(){n(3,k=!1)}function D(){w.push({name:"New",widgets:[]}),n(0,w),q()}function H(t){n(0,w[d].name=t,w),n(0,w),q()}function W(){n(8,$=!$),$&&(n(10,E=!1),n(9,g=w[d].this.getBoundingClientRect()))}function U(){if(n(9,g=w[d-1].this.getBoundingClientRect()),0!==d){var t=w[d];n(6,d-=1),n(0,w[d+1]=w[d],w),n(0,w[d]=t,w)}n(0,w),q()}function X(){if(n(9,g=w[d+1].this.getBoundingClientRect()),d!==w.length-1){var t=w[d];n(6,d+=1),n(0,w[d-1]=w[d],w),n(0,w[d]=t,w)}n(0,w),q()}function K(){n(0,w=w.filter(((t,e)=>e!==d))),n(6,d=0),n(1,x=[]),n(0,w[d].widgets=R(w[d].widgets),w),n(1,x=w[d].widgets),q(),n(8,$=!1)}function Y(t){n(7,f=t.index),x.length>1&&(n(10,E=!E),E?(n(8,$=!1),v=t.dom,n(11,m=t.dom.firstChild.getBoundingClientRect())):(n(11,m={}),n(7,f=0),v=void 0))}function J(){if(0!==f){n(11,m=v.firstChild.getBoundingClientRect());var t=x[f];n(7,f-=1),n(1,x[f+1]=x[f],x),n(1,x[f]=t,x),n(0,w[d].widgets=x,w),q(),S=x,n(1,x=[]),n(10,E=!1)}}function G(){if(f!==x.length-1){n(11,m=v.firstChild.getBoundingClientRect());var t=x[f];n(7,f+=1),n(1,x[f-1]=x[f],x),n(1,x[f]=t,x),n(0,w[d].widgets=x,w),q(),S=x,n(1,x=[]),n(10,E=!1)}}function Z(t){t.scriptbar={container:d},B("changeView",t)}L((()=>{var t;n(2,h=[{moduleName:"FlowVariable",module:_n,config:Sn,configHeight:70},{moduleName:"Separator",module:Ln,config:An,configHeight:70},{moduleName:"BirthdayCounter",module:qn,config:jn,configHeight:70},{moduleName:"IPAddress",module:Hn,config:Xn,configHeight:194},{moduleName:"IntIPAddress",module:Zn,config:eo,configHeight:124},{moduleName:"Script",module:co,config:po,configHeight:333},{moduleName:"WebLink",module:mo,config:bo,configHeight:133}]),void 0!==(t=b)&&void 0!==t.container?(n(6,d=t.container),n(7,f=0)):(n(6,d=0),n(7,f=0)),fetch("http://localhost:9978/api/scriptbar/config/").then((t=>t.json())).then((t=>{n(0,w=t.config),n(1,x=[]),void 0!==w[d].widgets&&n(0,w[d].widgets=R(w[d].widgets),w),window.containers=w})),void 0!==r.port&&u(wn,a=Ke.connect("http://localhost:"+r.port),a),window.moveTo(400,-20),u(Ze,s=O,s)})),I=()=>{null!==S&&(n(1,x=R(S)),S=null),O()},T().$$.after_update.push(I);return t.$$set=t=>{"oldState"in t&&n(32,b=t.oldState)},[w,x,h,k,C,p,d,f,$,g,E,m,y,c,F,function(t){n(1,x=R([t.detail.module])),n(0,w[d].widgets=x,w),z(),q()},P,function(t){n(1,x=x.map((e=>(e.id===t.detail.module.id&&(e.name=t.detail.module.name,e.height=parseInt(t.detail.module.height,10),e.config=t.detail.module.config),e)))),V(),n(0,w[d].widgets=x,w),q()},function(t){n(1,x=x.filter((e=>{if(e.id!==t.detail.module.id)return e}))),V(),n(0,w[d].widgets=x,w),q()},V,M,z,D,H,W,U,X,K,Y,J,G,Z,b,()=>{z()},()=>{V()},t=>{U()},t=>{X()},t=>{K()},t=>{J()},t=>{G()},()=>{M()},t=>{H(t.detail.name)},t=>{W()},function(t,e,o){A[t?"unshift":"push"]((()=>{e[o].this=t,n(0,w)}))},t=>{F(t)},function(t,e,o){A[t?"unshift":"push"]((()=>{e[o].this=t,n(0,w)}))},()=>{D()},t=>{P(t)},t=>{t.preventDefault(),Y(t.detail)},t=>{Z(t.detail)},function(t){A[t?"unshift":"push"]((()=>{y=t,n(12,y)}))}]}class jo extends et{constructor(t){super(),tt(this,t,Po,qo,c,{oldState:32},null,[-1,-1,-1])}}function Vo(t){let e,n,o,i,s;return{c(){e=g("div"),n=g("button"),o=m("Close"),w(n,"id","closeButton"),w(n,"type","button"),C(n,"background-color",t[4].appBackground),C(n,"color",t[4].textcolor),C(n,"font-size",t[4].fontSize),w(n,"class","svelte-1supyga"),w(e,"id","buttonRow"),w(e,"class","svelte-1supyga")},m(r,a){p(r,e,a),h(e,n),h(n,o),i||(s=b(n,"click",t[6]),i=!0)},p(t,e){16&e&&C(n,"background-color",t[4].appBackground),16&e&&C(n,"color",t[4].textcolor),16&e&&C(n,"font-size",t[4].fontSize)},d(t){t&&d(e),i=!1,s()}}}function Mo(t){let e,n,o,i,s,r,a=t[0].html+"";e=new bn({});let c=t[0].config.showButton&&Vo(t);return{c(){G(e.$$.fragment),n=y(),o=g("div"),i=new E,s=y(),c&&c.c(),i.a=s,w(o,"id","webview"),C(o,"background-color",t[0].config.backgroundColor),C(o,"color",t[4].textcolor),C(o,"font-family",t[4].fontFamily),C(o,"font-size",t[4].fontSize),C(o,"width",t[2]+"px"),C(o,"height",t[3]+"px"),w(o,"class","svelte-1supyga")},m(l,u){Z(e,l,u),p(l,n,u),p(l,o,u),i.m(a,o),h(o,s),c&&c.m(o,null),t[7](o),r=!0},p(t,[e]){(!r||1&e)&&a!==(a=t[0].html+"")&&i.p(a),t[0].config.showButton?c?c.p(t,e):(c=Vo(t),c.c(),c.m(o,null)):c&&(c.d(1),c=null),(!r||1&e)&&C(o,"background-color",t[0].config.backgroundColor),(!r||16&e)&&C(o,"color",t[4].textcolor),(!r||16&e)&&C(o,"font-family",t[4].fontFamily),(!r||16&e)&&C(o,"font-size",t[4].fontSize),(!r||4&e)&&C(o,"width",t[2]+"px"),(!r||8&e)&&C(o,"height",t[3]+"px")},i(t){r||(Y(e.$$.fragment,t),r=!0)},o(t){J(e.$$.fragment,t),r=!1},d(i){Q(e,i),i&&d(n),i&&d(o),c&&c.d(),t[7](null)}}}function zo(t,e,n){let o,i,s;l(t,gn,(t=>n(8,o=t))),l(t,mn,(t=>n(9,i=t))),l(t,Ge,(t=>n(4,s=t)));let r,a,c,{body:h}=e;const p=N();function d(t){h.config.changeColor&&(t.style.backgroundColor=h.config.highlightColor)}function f(t){h.config.changeColor&&(t.style.backgroundColor=h.config.backgroundColor)}function g(){p("changeView",{name:"scriptbar",body:{}})}async function m(){await j(),console.log(h),void 0!==h.config.width?(n(2,a=h.config.width),n(3,c=h.config.height+50),u(gn,o=Math.floor(a/2),o),u(mn,i=a,i)):void 0!==r&&(n(2,a=r.clientWidth+10),n(3,c=r.clientHeight+40),a<100&&n(2,a=400),c<40&&n(3,c=40),u(mn,i=a,i),window.resizeTo(a+20,c),u(gn,o=Math.floor(a/2),o))}L((()=>{globalThis.closeWebView=g,m(),window.setLineColor=f,window.setLineColorNew=d}));return t.$$set=t=>{"body"in t&&n(0,h=t.body)},t.$$.update=()=>{1&t.$$.dirty&&u(mn,(m(),i=i),i)},[h,r,a,c,s,g,()=>{g()},function(t){A[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class Do extends et{constructor(t){super(),tt(this,t,zo,Mo,c,{body:0})}}function Ho(t){let e,n,i,s,r,a,c,l,u,f;return{c(){e=g("div"),n=g("h1"),n.textContent="Something went wrong",i=y(),s=g("p"),s.textContent="Sorry, but you somehow got to a place that isn't reachable.",r=y(),a=g("p"),a.textContent="Press be button below to get back to the normal page.",c=y(),l=g("button"),l.textContent="Go Back",w(l,"class","svelte-swl4vm"),w(e,"id","errorPage"),w(e,"class","svelte-swl4vm")},m(o,d){p(o,e,d),h(e,n),h(e,i),h(e,s),h(e,r),h(e,a),h(e,c),h(e,l),u||(f=b(l,"click",t[6]),u=!0)},p:o,i:o,o:o,d(t){t&&d(e),u=!1,f()}}}function Wo(t){let e,n;return e=new Do({props:{body:t[1]}}),e.$on("changeView",t[5]),{c(){G(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.body=t[1]),e.$set(o)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Uo(t){let e,n;return e=new jo({props:{oldState:t[2]}}),e.$on("changeView",t[4]),{c(){G(e.$$.fragment)},m(t,o){Z(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.oldState=t[2]),e.$set(o)},i(t){n||(Y(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Xo(t){let e,n,o,i,s,a;const c=[Uo,Wo,Ho],l=[];function u(t,e){return"scriptbar"===t[0]?0:"webview"===t[0]?1:2}return e=u(t),n=l[e]=c[e](t),{c(){n.c(),o=v()},m(t,n){l[e].m(t,n),p(t,o,n),i=!0,s||(a=[b(window,"blur",Ko),b(window,"close",Yo)],s=!0)},p(t,[i]){let s=e;e=u(t),e===s?l[e].p(t,i):(X(),J(l[s],1,1,(()=>{l[s]=null})),K(),n=l[e],n?n.p(t,i):(n=l[e]=c[e](t),n.c()),Y(n,1),n.m(o.parentNode,o))},i(t){i||(Y(n),i=!0)},o(t){J(n),i=!1},d(t){l[e].d(t),t&&d(o),s=!1,r(a)}}}const Ko=()=>{},Yo=()=>{};function Jo(t,e,n){let o,i="scriptbar",s={html:"<h1>Web View</h1>",config:{width:200,height:400}};function r(t){void 0!==t.scriptbar&&n(2,o=t.scriptbar),n(0,i=t.name),n(1,s=t.body)}return[i,s,o,r,t=>{r(t.detail)},t=>{r(t.detail)},()=>{n(0,i="scriptbar")}]}class Go extends et{constructor(t){super(),tt(this,t,Jo,Xo,c,{})}}var Zo;return n.Init((()=>{Zo=new Go({target:document.body,props:{}})})),globalThis.appScriptBar=Zo,Zo}();
//# sourceMappingURL=bundle.js.map
