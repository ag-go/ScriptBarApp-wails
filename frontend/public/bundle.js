var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function a(t,e,n){return t.set(n),e}function r(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function h(){return f(" ")}function g(){return f("")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e){t.value=null==e?"":e}function k(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function y(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function w(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}class ${constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){var o;this.e||(this.is_svg?this.e=(o=e.nodeName,document.createElementNS("http://www.w3.org/2000/svg",o)):this.e=p(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)s(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(u)}}let _;function C(t){_=t}function S(){if(!_)throw new Error("Function called outside component initialization");return _}function B(t){S().$$.on_mount.push(t)}function L(){const t=S();return(e,n,{cancelable:o=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,o,e),i}(e,n,{cancelable:o});return i.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}const I=[],q=[],V=[],z=[],E=Promise.resolve();let N=!1;function j(){N||(N=!0,E.then(O))}function T(){return j(),E}function M(t){V.push(t)}const H=new Set;let W=0;function O(){const t=_;do{for(;W<I.length;){const t=I[W];W++,C(t),P(t.$$)}for(C(null),I.length=0,W=0;q.length;)q.pop()();for(let t=0;t<V.length;t+=1){const e=V[t];H.has(e)||(H.add(e),e())}V.length=0}while(I.length);for(;z.length;)z.pop()();N=!1,H.clear(),C(t)}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const R=new Set;let A;function D(){A={r:0,c:[],p:A}}function F(){A.r||o(A.c),A=A.p}function U(t,e){t&&t.i&&(R.delete(t),t.i(e))}function X(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),A.c.push((()=>{R.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function G(t){t&&t.c()}function J(t,n,l,c){const{fragment:a,on_mount:r,on_destroy:s,after_update:u}=t.$$;a&&a.m(n,l),c||M((()=>{const n=r.map(e).filter(i);s?s.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(M)}function Q(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(e,i,l,c,a,r,s,d=[-1]){const p=_;C(e);const f=e.$$={fragment:null,ctx:null,props:r,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||p.$$.root};s&&s(f.root);let h=!1;if(f.ctx=l?l(e,i.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),h&&function(t,e){-1===t.$$.dirty[0]&&(I.push(t),j(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),h=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(u)}else f.fragment&&f.fragment.c();i.intro&&U(e.$$.fragment),J(e,i.target,i.anchor,i.customElement),O()}C(p)}class Z{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function tt(e,n=t){let o;const i=new Set;function c(t){if(l(e,t)&&(e=t,o)){const t=!K.length;for(const t of i)t[1](),K.push(t,e);if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(l,a=t){const r=[l,a];return i.add(r),1===i.size&&(o=n(c)||t),l(e),()=>{i.delete(r),0===i.size&&(o(),o=null)}}}}const et=tt({appBackground:"#2A212C",textcolor:"#80FFEA",fontSize:"14px",fontFamily:"Arial",highlight:"#9580FF"}),nt=tt(void 0);function ot(t,e,n){const o=t.slice();return o[17]=e[n],o}function it(t){let e,n,o,i=t[17].moduleName+"";return{c(){e=p("option"),n=f(i),e.__value=o=t[17].moduleName,e.value=e.__value},m(t,o){s(t,e,o),r(e,n)},p(t,l){1&l&&i!==(i=t[17].moduleName+"")&&x(n,i),1&l&&o!==(o=t[17].moduleName)&&(e.__value=o,e.value=e.__value)},d(t){t&&u(e)}}}function lt(t){let e,n,o;var i=t[5].config;function l(t){return{props:{config:t[4]}}}return i&&(e=new i(l(t)),e.$on("change",t[12])),{c(){e&&G(e.$$.fragment),n=g()},m(t,i){e&&J(e,t,i),s(t,n,i),o=!0},p(t,o){const c={};if(16&o&&(c.config=t[4]),i!==(i=t[5].config)){if(e){D();const t=e;X(t.$$.fragment,1,0,(()=>{Q(t,1)})),F()}i?(e=new i(l(t)),e.$on("change",t[12]),G(e.$$.fragment),U(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(t){o||(e&&U(e.$$.fragment,t),o=!0)},o(t){e&&X(e.$$.fragment,t),o=!1},d(t){t&&u(n),e&&Q(e,t)}}}function ct(t){let e,n,i,l,c,a,g,x,k,w,$,_,C,S,B,L,I,q,V,z,E,N,j,T=t[0],H=[];for(let e=0;e<T.length;e+=1)H[e]=it(ot(t,T,e));let W=null!==t[5]&&lt(t);return{c(){e=p("div"),n=p("label"),n.textContent="What's the name?",i=h(),l=p("input"),a=h(),g=p("label"),g.textContent="What Type of Component?",x=h(),k=p("select");for(let t=0;t<H.length;t+=1)H[t].c();$=h(),_=p("label"),_.textContent="Height:",C=h(),S=p("input"),L=h(),W&&W.c(),I=h(),q=p("button"),V=f("Add Component"),v(n,"class","componentLabel svelte-1ttny9a"),v(n,"for","componentName"),v(l,"type","text"),v(l,"class","componentInput svelte-1ttny9a"),v(l,"id","componentName"),v(l,"color",c=t[6].appBackground),v(g,"for","componentTypeInput"),v(g,"class","componentLabel svelte-1ttny9a"),v(k,"name","componentTypeInput"),v(k,"class","componentInput svelte-1ttny9a"),v(k,"color",w=t[6].appBackground),v(k,"id","componentTypeInput"),void 0===t[1]&&M((()=>t[10].call(k))),v(_,"for","componentHeight"),v(_,"class","componentLabel svelte-1ttny9a"),v(S,"type","text"),v(S,"class","componentInput svelte-1ttny9a"),v(S,"color",B=t[6].appBackground),v(S,"id","componentHeight"),v(q,"id","addComponentButton"),v(q,"type","button"),v(q,"color",z=t[6].appBackground),v(q,"class","svelte-1ttny9a"),v(e,"id","addComponentDialog"),v(e,"class","svelte-1ttny9a")},m(o,c){s(o,e,c),r(e,n),r(e,i),r(e,l),b(l,t[3]),r(e,a),r(e,g),r(e,x),r(e,k);for(let t=0;t<H.length;t+=1)H[t].m(k,null);y(k,t[1]),r(e,$),r(e,_),r(e,C),r(e,S),b(S,t[2]),r(e,L),W&&W.m(e,null),r(e,I),r(e,q),r(q,V),E=!0,N||(j=[m(l,"input",t[9]),m(k,"change",t[10]),m(k,"change",t[8]),m(S,"input",t[11]),m(q,"click",t[13])],N=!0)},p(t,[n]){if((!E||64&n&&c!==(c=t[6].appBackground))&&v(l,"color",c),8&n&&l.value!==t[3]&&b(l,t[3]),1&n){let e;for(T=t[0],e=0;e<T.length;e+=1){const o=ot(t,T,e);H[e]?H[e].p(o,n):(H[e]=it(o),H[e].c(),H[e].m(k,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=T.length}(!E||64&n&&w!==(w=t[6].appBackground))&&v(k,"color",w),3&n&&y(k,t[1]),(!E||64&n&&B!==(B=t[6].appBackground))&&v(S,"color",B),4&n&&S.value!==t[2]&&b(S,t[2]),null!==t[5]?W?(W.p(t,n),32&n&&U(W,1)):(W=lt(t),W.c(),U(W,1),W.m(e,I)):W&&(D(),X(W,1,1,(()=>{W=null})),F()),(!E||64&n&&z!==(z=t[6].appBackground))&&v(q,"color",z)},i(t){E||(U(W),E=!0)},o(t){X(W),E=!1},d(t){t&&u(e),d(H,t),W&&W.d(),N=!1,o(j)}}}function at(t,e,n){let o,i;c(t,nt,(t=>n(14,o=t))),c(t,et,(t=>n(6,i=t)));let{types:l}=e;const a=L();let r=null,s=30,u="",d={},p=null;function f(t){var e={};return null!==t&&(e=l.find((e=>e.moduleName===t))),e}function h(){null===d&&n(4,d={}),a("addNewComponent",{module:{name:u,widgetName:r,height:parseInt(s,10),config:d}}),n(3,u=""),n(1,r=null),n(2,s=30),n(4,d={})}B((()=>{n(1,r=l[0].moduleName),n(5,p=f(r))}));return t.$$set=t=>{"types"in t&&n(0,l=t.types)},t.$$.update=()=>{2&t.$$.dirty&&n(5,p=f(r))},[l,r,s,u,d,p,i,h,function(){setTimeout((()=>{o()}),50)},function(){u=this.value,n(3,u)},function(){r=w(this),n(1,r),n(0,l)},function(){s=this.value,n(2,s)},t=>{n(4,d=t.detail)},()=>{h()}]}class rt extends Z{constructor(t){super(),Y(this,t,at,ct,l,{types:0})}}function st(t){let e,n,o;var i=t[3];function l(t){return{props:{config:t[2]}}}return i&&(e=new i(l(t)),e.$on("change",t[10])),{c(){e&&G(e.$$.fragment),n=g()},m(t,i){e&&J(e,t,i),s(t,n,i),o=!0},p(t,o){const c={};if(4&o&&(c.config=t[2]),i!==(i=t[3])){if(e){D();const t=e;X(t.$$.fragment,1,0,(()=>{Q(t,1)})),F()}i?(e=new i(l(t)),e.$on("change",t[10]),G(e.$$.fragment),U(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else i&&e.$set(c)},i(t){o||(e&&U(e.$$.fragment,t),o=!0)},o(t){e&&X(e.$$.fragment,t),o=!1},d(t){t&&u(n),e&&Q(e,t)}}}function ut(t){let e,n,i,l,c,a,d,g,x,k,y,w,$,_,C,S,B,L,I,q,V,z,E,N=null!==t[3]&&st(t);return{c(){e=p("div"),n=p("label"),n.textContent="What's the name?",i=h(),l=p("input"),a=h(),d=p("label"),d.textContent="Height:",g=h(),x=p("input"),y=h(),N&&N.c(),w=h(),$=p("div"),_=p("button"),C=f("Save Component"),B=h(),L=p("button"),I=f("Delete Component"),v(n,"class","componentLabel svelte-113kdcb"),v(n,"for","componentName"),v(l,"type","text"),v(l,"class","componentInput svelte-113kdcb"),v(l,"id","componentName"),v(l,"color",c=t[4].appBackground),v(d,"for","componentHeight"),v(d,"class","componentLabel svelte-113kdcb"),v(x,"type","text"),v(x,"class","componentInput svelte-113kdcb"),v(x,"color",k=t[4].appBackground),v(x,"id","componentHeight"),v(_,"id","editComponentButton"),v(_,"type","button"),v(_,"color",S=t[4].appBackground),v(_,"class","svelte-113kdcb"),v(L,"id","deleteComponentButton"),v(L,"type","button"),v(L,"color",q=t[4].appBackground),v(L,"class","svelte-113kdcb"),v($,"id","buttonRow"),v($,"class","svelte-113kdcb"),v(e,"id","editComponentDialog"),v(e,"class","svelte-113kdcb")},m(o,c){s(o,e,c),r(e,n),r(e,i),r(e,l),b(l,t[1]),r(e,a),r(e,d),r(e,g),r(e,x),b(x,t[0]),r(e,y),N&&N.m(e,null),r(e,w),r(e,$),r($,_),r(_,C),r($,B),r($,L),r(L,I),V=!0,z||(E=[m(l,"input",t[8]),m(x,"input",t[9]),m(_,"click",t[11]),m(L,"click",t[12])],z=!0)},p(t,[n]){(!V||16&n&&c!==(c=t[4].appBackground))&&v(l,"color",c),2&n&&l.value!==t[1]&&b(l,t[1]),(!V||16&n&&k!==(k=t[4].appBackground))&&v(x,"color",k),1&n&&x.value!==t[0]&&b(x,t[0]),null!==t[3]?N?(N.p(t,n),8&n&&U(N,1)):(N=st(t),N.c(),U(N,1),N.m(e,w)):N&&(D(),X(N,1,1,(()=>{N=null})),F()),(!V||16&n&&S!==(S=t[4].appBackground))&&v(_,"color",S),(!V||16&n&&q!==(q=t[4].appBackground))&&v(L,"color",q)},i(t){V||(U(N),V=!0)},o(t){X(N),V=!1},d(t){t&&u(e),N&&N.d(),z=!1,o(E)}}}function dt(t,e,n){let o;c(t,et,(t=>n(4,o=t)));let{widget:i}=e;const l=L();let a=null,r=30,s="",u={},d=null;function p(t){return n(3,d=t.configWidget),n(1,s=t.name),a=t.widgetName,n(0,r=t.height),n(2,u=t.config),t}function f(){null===u&&n(2,u={}),l("editComponent",{module:{id:i.id,name:s,widgetName:a,height:parseInt(r,10),config:u}})}function h(){l("deleteComponent",{module:{id:i.id}})}B((()=>{n(7,i=p(i))}));return t.$$set=t=>{"widget"in t&&n(7,i=t.widget)},t.$$.update=()=>{128&t.$$.dirty&&n(7,i=p(i))},[r,s,u,d,o,f,h,i,function(){s=this.value,n(1,s)},function(){r=this.value,n(0,r)},t=>{n(2,u=t.detail)},()=>{f()},()=>{h()}]}class pt extends Z{constructor(t){super(),Y(this,t,dt,ut,l,{widget:7})}}function ft(t){let e,n,i,l;return{c(){e=p("span"),n=f(t[0]),v(e,"class","pListName svelte-1u9rxym")},m(o,c){s(o,e,c),r(e,n),i||(l=[m(e,"dblclick",t[10]),m(e,"contextmenu",t[11])],i=!0)},p(t,e){1&e&&x(n,t[0])},d(t){t&&u(e),i=!1,o(l)}}}function ht(t){let e,n,i;return{c(){e=p("textarea"),v(e,"class","eListName svelte-1u9rxym")},m(o,l){s(o,e,l),b(e,t[0]),t[7](e),n||(i=[m(e,"input",t[6]),m(e,"keydown",t[8]),m(e,"blur",t[9])],n=!0)},p(t,n){1&n&&b(e,t[0])},d(l){l&&u(e),t[7](null),n=!1,o(i)}}}function gt(e){let n;function o(t,e){return t[2]?ht:ft}let i=o(e),l=i(e);return{c(){n=p("div"),l.c(),v(n,"class","editSpanField svelte-1u9rxym")},m(t,e){s(t,n,e),l.m(n,null)},p(t,[e]){i===(i=o(t))&&l?l.p(t,e):(l.d(1),l=i(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&u(n),l.d()}}}function mt(t,e,n){let o,{name:i}=e,l=!1;const c=L();function a(){c("middleButton",{})}async function r(){n(2,l=!0),await T(),o.focus()}function s(){c("nameChanged",{name:o.value}),n(2,l=!1)}return t.$$set=t=>{"name"in t&&n(0,i=t.name)},[i,o,l,a,r,s,function(){i=this.value,n(0,i)},function(t){q[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},t=>{"Enter"===t.code&&s()},()=>{s()},()=>{r()},t=>{t.preventDefault(),a()}]}class vt extends Z{constructor(t){super(),Y(this,t,mt,gt,l,{name:0})}}const xt=tt(0),bt=tt({port:9978}),kt=tt(400),yt=tt(0);function wt(e){let n,i,l,c,a,d,g,b;return{c(){n=p("div"),i=p("p"),l=f(e[0]),c=h(),a=p("p"),d=f(e[4]),v(i,"class","name svelte-1xqw1f6"),k(i,"font-size",e[5].fontSize),v(i,"data-index",e[1]),v(a,"class","value svelte-1xqw1f6"),k(a,"font-size",e[5].fontSize),v(a,"data-index",e[1]),v(n,"class","main svelte-1xqw1f6"),k(n,"height",Math.floor(e[2])+"px"),v(n,"data-index",e[1])},m(t,o){s(t,n,o),r(n,i),r(i,l),r(n,c),r(n,a),r(a,d),e[15](n),g||(b=[m(i,"dblclick",e[9]),m(i,"contextmenu",e[10]),m(n,"mouseenter",e[11]),m(n,"mouseleave",e[12]),m(n,"mouseout",e[13]),m(n,"blur",e[14])],g=!0)},p(t,[e]){1&e&&x(l,t[0]),32&e&&k(i,"font-size",t[5].fontSize),2&e&&v(i,"data-index",t[1]),16&e&&x(d,t[4]),32&e&&k(a,"font-size",t[5].fontSize),2&e&&v(a,"data-index",t[1]),4&e&&k(n,"height",Math.floor(t[2])+"px"),2&e&&v(n,"data-index",t[1])},i:t,o:t,d(t){t&&u(n),e[15](null),g=!1,o(b)}}}function $t(t,e,n){let o,i;c(t,nt,(t=>n(17,o=t))),c(t,et,(t=>n(5,i=t)));let l,{name:a}=e,{config:r}=e,{index:s}=e,{height:u}=e,d=0;const p=L();let f="loading...";function h(){fetch("http://localhost:9978/api/nodered/var/"+r.flowVar).then((t=>t.json())).then((t=>{null!==t&&void 0!==t.text&&null!==t.text&&(n(4,f=t.text),d=0,o())})).catch((t=>{n(4,f="not reachable: "+d),setTimeout((()=>{d++,h()}),6e4)}))}function g(){p("middleButton",{index:s,dom:l})}B((()=>{h();var t=yt.subscribe((t=>{void 0!==typeof r.period&&0!==r.period&&t%r.period==0&&h()}));return()=>{t()}}));return t.$$set=t=>{"name"in t&&n(0,a=t.name),"config"in t&&n(8,r=t.config),"index"in t&&n(1,s=t.index),"height"in t&&n(2,u=t.height)},t.$$.update=()=>{2&t.$$.dirty&&h()},[a,s,u,l,f,i,p,g,r,t=>{p("dblclick",{})},t=>{t.preventDefault(),g()},()=>{n(3,l.style.color=i.highlight,l)},()=>{n(3,l.style.color=i.textcolor,l)},()=>{n(3,l.style.color=i.textcolor,l)},()=>{n(3,l.style.color=i.textcolor,l)},function(t){q[t?"unshift":"push"]((()=>{l=t,n(3,l)}))}]}class _t extends Z{constructor(t){super(),Y(this,t,$t,wt,l,{name:0,config:8,index:1,height:2})}}function Ct(e){let n,i,l,c,a,d,f,g,x,k;return{c(){n=p("div"),i=p("label"),i.textContent="What is the name of the variable?",l=h(),c=p("input"),a=h(),d=p("label"),d.textContent="How often to reload? (number of minutes)",f=h(),g=p("input"),v(i,"for","Name"),v(i,"class","componentLabel svelte-eoh90a"),v(c,"id","Name"),v(c,"type","text"),v(c,"class","componentInput svelte-eoh90a"),v(d,"for","Name"),v(d,"class","componentLabel svelte-eoh90a"),v(g,"id","Period"),v(g,"type","text"),v(g,"class","componentInput svelte-eoh90a"),v(n,"class","FlowVariableConfig svelte-eoh90a")},m(t,o){s(t,n,o),r(n,i),r(n,l),r(n,c),b(c,e[0].flowVar),r(n,a),r(n,d),r(n,f),r(n,g),b(g,e[0].period),x||(k=[m(c,"input",e[2]),m(c,"change",e[3]),m(g,"input",e[4]),m(g,"change",e[5])],x=!0)},p(t,[e]){1&e&&c.value!==t[0].flowVar&&b(c,t[0].flowVar),1&e&&g.value!==t[0].period&&b(g,t[0].period)},i:t,o:t,d(t){t&&u(n),x=!1,o(k)}}}function St(t,e,n){const o=L();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,o,function(){i.flowVar=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar,period:i.period})},function(){i.period=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar,period:i.period})}]}class Bt extends Z{constructor(t){super(),Y(this,t,St,Ct,l,{config:0})}}function Lt(e){let n,i,l,c;return{c(){n=p("div"),i=p("hr"),v(i,"id",e[0]),v(i,"class","svelte-n4txif"),v(n,"class","main svelte-n4txif"),k(n,"height",Math.floor(e[1])+"px")},m(t,o){s(t,n,o),r(n,i),e[9](n),l||(c=[m(n,"contextmenu",e[7]),m(n,"dblclick",e[8])],l=!0)},p(t,[e]){1&e&&v(i,"id",t[0]),2&e&&k(n,"height",Math.floor(t[1])+"px")},i:t,o:t,d(t){t&&u(n),e[9](null),l=!1,o(c)}}}function It(t,e,n){let o,{config:i}=e,{name:l}=e,{index:c}=e,{height:a}=e;const r=L();function s(){n(5,i),r("middleButton",{index:c,dom:o})}return t.$$set=t=>{"config"in t&&n(5,i=t.config),"name"in t&&n(0,l=t.name),"index"in t&&n(6,c=t.index),"height"in t&&n(1,a=t.height)},[l,a,o,r,s,i,c,t=>{t.preventDefault(),s()},t=>{t.preventDefault(),r("dblclick",{})},function(t){q[t?"unshift":"push"]((()=>{o=t,n(2,o)}))}]}class qt extends Z{constructor(t){super(),Y(this,t,It,Lt,l,{config:5,name:0,index:6,height:1})}}function Vt(e){let n;return{c(){n=p("div"),v(n,"class","SeparatorConfig svelte-6l742t")},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&u(n)}}}function zt(t,e,n){let{config:o}=e;return t.$$set=t=>{"config"in t&&n(0,o=t.config)},t.$$.update=()=>{1&t.$$.dirty&&n(0,o)},[o]}class Et extends Z{constructor(t){super(),Y(this,t,zt,Vt,l,{config:0})}}function Nt(e){let n,i,l,c,a,d,g,b;return{c(){n=p("div"),i=p("p"),l=f(e[4]),c=h(),a=p("p"),d=f(e[3]),v(i,"class","name svelte-1xqw1f6"),k(i,"font-size",e[5].fontSize),v(i,"data-index",e[0]),v(a,"class","value svelte-1xqw1f6"),k(a,"font-size",e[5].fontSize),v(a,"data-index",e[0]),v(n,"class","main svelte-1xqw1f6"),k(n,"height",Math.floor(e[1])+"px"),v(n,"data-index",e[0])},m(t,o){s(t,n,o),r(n,i),r(i,l),r(n,c),r(n,a),r(a,d),e[12](n),g||(b=[m(i,"dblclick",e[10]),m(i,"contextmenu",e[11]),m(n,"mouseenter",e[13]),m(n,"mouseleave",e[14]),m(n,"mouseout",e[15]),m(n,"blur",e[16])],g=!0)},p(t,[e]){16&e&&x(l,t[4]),32&e&&k(i,"font-size",t[5].fontSize),1&e&&v(i,"data-index",t[0]),8&e&&x(d,t[3]),32&e&&k(a,"font-size",t[5].fontSize),1&e&&v(a,"data-index",t[0]),2&e&&k(n,"height",Math.floor(t[1])+"px"),1&e&&v(n,"data-index",t[0])},i:t,o:t,d(t){t&&u(n),e[12](null),g=!1,o(b)}}}function jt(t,e,n){let o,i;c(t,nt,(t=>n(17,o=t))),c(t,et,(t=>n(5,i=t)));let l,a,{name:r}=e,{config:s}=e,{index:u}=e,{height:d}=e,p="loading...";const f=L();function h(t){fetch("http://localhost:9978/api/nodered/var/"+s.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text&&(void 0!==t.text.days&&n(3,p=t.text.days),void 0!==t.text.age?n(4,a=r+": "+t.text.age):n(4,a=r),o())})).catch((t=>{n(4,a=r),n(3,p="not reachable")}))}function g(){f("middleButton",{index:u,dom:l})}B((()=>{n(4,a=r)}));return t.$$set=t=>{"name"in t&&n(8,r=t.name),"config"in t&&n(9,s=t.config),"index"in t&&n(0,u=t.index),"height"in t&&n(1,d=t.height)},t.$$.update=()=>{1&t.$$.dirty&&h()},[u,d,l,p,a,i,f,g,r,s,t=>{f("dblclick",{})},t=>{t.preventDefault(),g()},function(t){q[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},()=>{n(2,l.style.color=i.highlight,l)},()=>{n(2,l.style.color=i.textcolor,l)},()=>{n(2,l.style.color=i.textcolor,l)},()=>{n(2,l.style.color=i.textcolor,l)}]}class Tt extends Z{constructor(t){super(),Y(this,t,jt,Nt,l,{name:8,config:9,index:0,height:1})}}function Mt(e){let n,i,l,c,a,d;return{c(){n=p("div"),i=p("label"),i.textContent="Who's birthday? (Name of Variable)",l=h(),c=p("input"),v(i,"for","Name"),v(i,"class","componentLabel svelte-10sirl3"),v(c,"id","Name"),v(c,"type","text"),v(c,"class","componentInput svelte-10sirl3"),v(n,"class","BirthdayConfig svelte-10sirl3")},m(t,o){s(t,n,o),r(n,i),r(n,l),r(n,c),b(c,e[0].flowVar),a||(d=[m(c,"input",e[2]),m(c,"change",e[3])],a=!0)},p(t,[e]){1&e&&c.value!==t[0].flowVar&&b(c,t[0].flowVar)},i:t,o:t,d(t){t&&u(n),a=!1,o(d)}}}function Ht(t,e,n){const o=L();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,o,function(){i.flowVar=this.value,n(0,i)},()=>{o("change",{flowVar:i.flowVar})}]}class Wt extends Z{constructor(t){super(),Y(this,t,Ht,Mt,l,{config:0})}}function Ot(t){let e,n;return{c(){e=p("p"),n=f(t[5]),v(e,"class","value svelte-1xqw1f6"),k(e,"font-size",t[6].fontSize),v(e,"data-index",t[2])},m(t,o){s(t,e,o),r(e,n)},p(t,o){32&o&&x(n,t[5]),64&o&&k(e,"font-size",t[6].fontSize),4&o&&v(e,"data-index",t[2])},d(t){t&&u(e)}}}function Pt(t){let e,n,o,i;return{c(){e=p("p"),n=f(t[5]),v(e,"class","value svelte-1xqw1f6"),k(e,"font-size",t[6].fontSize),k(e,"cursor","pointer"),v(e,"data-index",t[2])},m(l,c){s(l,e,c),r(e,n),o||(i=m(e,"click",t[12]),o=!0)},p(t,o){32&o&&x(n,t[5]),64&o&&k(e,"font-size",t[6].fontSize),4&o&&v(e,"data-index",t[2])},d(t){t&&u(e),o=!1,i()}}}function Rt(e){let n,i,l,c,a,d;function g(t,e){return t[1].showLink?Pt:Ot}let b=g(e),y=b(e);return{c(){n=p("div"),i=p("p"),l=f(e[0]),c=h(),y.c(),v(i,"class","name svelte-1xqw1f6"),k(i,"font-size",e[6].fontSize),v(i,"data-index",e[2]),v(n,"class","main svelte-1xqw1f6"),k(n,"height",Math.floor(e[3])+"px"),v(n,"data-index",e[2])},m(t,o){s(t,n,o),r(n,i),r(i,l),r(n,c),y.m(n,null),e[17](n),a||(d=[m(i,"dblclick",e[10]),m(i,"contextmenu",e[11]),m(n,"mouseenter",e[13]),m(n,"mouseleave",e[14]),m(n,"mouseout",e[15]),m(n,"blur",e[16])],a=!0)},p(t,[e]){1&e&&x(l,t[0]),64&e&&k(i,"font-size",t[6].fontSize),4&e&&v(i,"data-index",t[2]),b===(b=g(t))&&y?y.p(t,e):(y.d(1),y=b(t),y&&(y.c(),y.m(n,null))),8&e&&k(n,"height",Math.floor(t[3])+"px"),4&e&&v(n,"data-index",t[2])},i:t,o:t,d(t){t&&u(n),y.d(),e[17](null),a=!1,o(d)}}}function At(t,e,n){let o;c(t,et,(t=>n(6,o=t)));let i,{name:l}=e,{config:a}=e,{index:r}=e,{height:s}=e,u="loading...",d="";const p=L();function f(){a.showLink&&window.go.main.App.CopyClipboard(d)}function h(){fetch("http://localhost:9978/api/nodered/var/"+a.flowVar).then((t=>t.json())).then((t=>{null!==t&&null!==t.text?(void 0!==t.text.ip&&n(5,u=t.text.ip),d="http://"+u,0!==parseInt(a.port)&&(d+=":"+a.port)):(n(5,u="loading..."),d="")}))}function g(){p("middleButton",{index:r,dom:i})}B((()=>{h()}));return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(1,a=t.config),"index"in t&&n(2,r=t.index),"height"in t&&n(3,s=t.height)},t.$$.update=()=>{4&t.$$.dirty&&h()},[l,a,r,s,i,u,o,p,f,g,t=>{p("dblclick",{})},t=>{t.preventDefault(),g()},t=>{f()},()=>{n(4,i.style.color=o.highlight,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},function(t){q[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class Dt extends Z{constructor(t){super(),Y(this,t,At,Rt,l,{name:0,config:1,index:2,height:3})}}function Ft(e){let n,i,l,c,a,d,f,g,x,k,y,w,$,_;return{c(){n=p("div"),i=p("label"),i.textContent="What is the variable name?",l=h(),c=p("input"),a=h(),d=p("label"),d.textContent="Have a link?",f=h(),g=p("input"),x=h(),k=p("label"),k.textContent="What port to open on click?",y=h(),w=p("input"),v(i,"for","Variable"),v(i,"class","componentLabel svelte-rqnqoj"),v(c,"id","Variable"),v(c,"type","text"),v(c,"class","componentInput svelte-rqnqoj"),v(d,"for","Link"),v(d,"class","componentLabel svelte-rqnqoj"),v(g,"id","Link"),v(g,"type","checkbox"),v(g,"class","componentInput svelte-rqnqoj"),v(k,"for","Port"),v(k,"class","componentLabel svelte-rqnqoj"),v(w,"id","Port"),v(w,"type","text"),v(w,"class","componentInput svelte-rqnqoj"),v(n,"class","IPAddressConfig svelte-rqnqoj")},m(t,o){s(t,n,o),r(n,i),r(n,l),r(n,c),b(c,e[0].flowVar),r(n,a),r(n,d),r(n,f),r(n,g),g.checked=e[0].showLink,r(n,x),r(n,k),r(n,y),r(n,w),b(w,e[0].port),$||(_=[m(c,"input",e[2]),m(c,"change",e[1]),m(g,"change",e[3]),m(g,"change",e[1]),m(w,"input",e[4]),m(w,"change",e[1])],$=!0)},p(t,[e]){1&e&&c.value!==t[0].flowVar&&b(c,t[0].flowVar),1&e&&(g.checked=t[0].showLink),1&e&&w.value!==t[0].port&&b(w,t[0].port)},i:t,o:t,d(t){t&&u(n),$=!1,o(_)}}}function Ut(t,e,n){const o=L();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,function(t){console.log(i.showLink),o("change",{flowVar:i.flowVar,showLink:i.showLink,port:parseInt(i.port,10)})},function(){i.flowVar=this.value,n(0,i)},function(){i.showLink=this.checked,n(0,i)},function(){i.port=this.value,n(0,i)}]}class Xt extends Z{constructor(t){super(),Y(this,t,Ut,Ft,l,{config:0})}}function Gt(t){let e,n;return{c(){e=p("p"),n=f(t[5]),v(e,"class","value svelte-1xqw1f6"),k(e,"font-size",t[6].fontSize)},m(t,o){s(t,e,o),r(e,n)},p(t,o){32&o&&x(n,t[5]),64&o&&k(e,"font-size",t[6].fontSize)},d(t){t&&u(e)}}}function Jt(t){let e,n,o,i;return{c(){e=p("p"),n=f(t[5]),v(e,"class","value svelte-1xqw1f6"),k(e,"font-size",t[6].fontSize),k(e,"cursor","pointer"),v(e,"data-index",t[2])},m(l,c){s(l,e,c),r(e,n),o||(i=m(e,"click",t[12]),o=!0)},p(t,o){32&o&&x(n,t[5]),64&o&&k(e,"font-size",t[6].fontSize),4&o&&v(e,"data-index",t[2])},d(t){t&&u(e),o=!1,i()}}}function Qt(e){let n,i,l,c,a,d;function g(t,e){return t[1].showLink?Jt:Gt}let b=g(e),y=b(e);return{c(){n=p("div"),i=p("p"),l=f(e[0]),c=h(),y.c(),v(i,"class","name svelte-1xqw1f6"),k(i,"font-size",e[6].fontSize),v(i,"data-index",e[2]),v(n,"class","main svelte-1xqw1f6"),k(n,"height",Math.floor(e[3])+"px"),v(n,"data-index",e[2])},m(t,o){s(t,n,o),r(n,i),r(i,l),r(n,c),y.m(n,null),e[17](n),a||(d=[m(i,"dblclick",e[10]),m(i,"contextmenu",e[11]),m(n,"mouseenter",e[13]),m(n,"mouseleave",e[14]),m(n,"mouseout",e[15]),m(n,"blur",e[16])],a=!0)},p(t,[e]){1&e&&x(l,t[0]),64&e&&k(i,"font-size",t[6].fontSize),4&e&&v(i,"data-index",t[2]),b===(b=g(t))&&y?y.p(t,e):(y.d(1),y=b(t),y&&(y.c(),y.m(n,null))),8&e&&k(n,"height",Math.floor(t[3])+"px"),4&e&&v(n,"data-index",t[2])},i:t,o:t,d(t){t&&u(n),y.d(),e[17](null),a=!1,o(d)}}}function Yt(t,e,n){let o;c(t,et,(t=>n(6,o=t)));let i,{name:l}=e,{config:a}=e,{index:r}=e,{height:s}=e,u="loading...",d="";const p=L();function f(){fetch("http://localhost:9978/api/getip").then((t=>t.json())).then((t=>{null!==t&&(void 0!==t.ip&&n(5,u=t.ip),d="http://"+u,0!==parseInt(a.port)&&(d+=":"+a.port))}))}function h(){a.showLink&&window.go.main.App.CopyClipboard(d)}function g(){p("middleButton",{index:r,dom:i})}B((()=>{f()}));return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(1,a=t.config),"index"in t&&n(2,r=t.index),"height"in t&&n(3,s=t.height)},t.$$.update=()=>{4&t.$$.dirty&&f()},[l,a,r,s,i,u,o,p,h,g,t=>{p("dblclick",{})},t=>{t.preventDefault(),g()},t=>{h()},()=>{n(4,i.style.color=o.highlight,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},()=>{n(4,i.style.color=o.textcolor,i)},function(t){q[t?"unshift":"push"]((()=>{i=t,n(4,i)}))}]}class Zt extends Z{constructor(t){super(),Y(this,t,Yt,Qt,l,{name:0,config:1,index:2,height:3})}}function Kt(e){let n,i,l,c,a,d,f,g,x,k;return{c(){n=p("div"),i=p("label"),i.textContent="Have a link?",l=h(),c=p("input"),a=h(),d=p("label"),d.textContent="What port to open on click?",f=h(),g=p("input"),v(i,"for","Name"),v(i,"class","componentLabel svelte-2ope4y"),v(c,"id","Name"),v(c,"type","checkbox"),v(c,"class","componentInput svelte-2ope4y"),v(d,"for","Port"),v(d,"class","componentLabel svelte-2ope4y"),v(g,"id","Port"),v(g,"type","text"),v(g,"class","componentInput svelte-2ope4y"),v(n,"class","IntIPAddressConfig svelte-2ope4y")},m(t,o){s(t,n,o),r(n,i),r(n,l),r(n,c),c.checked=e[0].showLink,r(n,a),r(n,d),r(n,f),r(n,g),b(g,e[0].port),x||(k=[m(c,"change",e[2]),m(c,"change",e[1]),m(g,"input",e[3]),m(g,"change",e[1])],x=!0)},p(t,[e]){1&e&&(c.checked=t[0].showLink),1&e&&g.value!==t[0].port&&b(g,t[0].port)},i:t,o:t,d(t){t&&u(n),x=!1,o(k)}}}function te(t,e,n){const o=L();let{config:i}=e;return t.$$set=t=>{"config"in t&&n(0,i=t.config)},[i,function(t){o("change",{showLink:i.showLink,port:parseInt(i.port,10)})},function(){i.showLink=this.checked,n(0,i)},function(){i.port=this.value,n(0,i)}]}class ee extends Z{constructor(t){super(),Y(this,t,te,Kt,l,{config:0})}}var ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ie,le={};ie=le,function(t,e){if("string"!=typeof ie.nodeName)e(ie);else{var n={};e(n),t.AnsiUp=n.default}}(ne,(function(t){var e,n=this&&this.__makeTemplateObject||function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};!function(t){t[t.EOS=0]="EOS",t[t.Text=1]="Text",t[t.Incomplete=2]="Incomplete",t[t.ESC=3]="ESC",t[t.Unknown=4]="Unknown",t[t.SGR=5]="SGR",t[t.OSCURL=6]="OSCURL"}(e||(e={}));var o=function(){function t(){this.VERSION="5.1.0",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_whitelist={http:1,https:1}}return Object.defineProperty(t.prototype,"use_classes",{get:function(){return this._use_classes},set:function(t){this._use_classes=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url_whitelist",{get:function(){return this._url_whitelist},set:function(t){this._url_whitelist=t},enumerable:!1,configurable:!0}),t.prototype.setup_palettes=function(){var t=this;this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach((function(e){e.forEach((function(e){t.palette_256.push(e)}))}));for(var e=[0,95,135,175,215,255],n=0;n<6;++n)for(var o=0;o<6;++o)for(var i=0;i<6;++i){var l={rgb:[e[n],e[o],e[i]],class_name:"truecolor"};this.palette_256.push(l)}for(var c=8,a=0;a<24;++a,c+=10){var r={rgb:[c,c,c],class_name:"truecolor"};this.palette_256.push(r)}},t.prototype.escape_txt_for_html=function(t){return t.replace(/[&<>"']/gm,(function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#x27;":void 0}))},t.prototype.append_buffer=function(t){var e=this._buffer+t;this._buffer=e},t.prototype.get_next_packet=function(){var t={kind:e.EOS,text:"",url:""},o=this._buffer.length;if(0==o)return t;var l,c,a,r,s=this._buffer.indexOf("");if(-1==s)return t.kind=e.Text,t.text=this._buffer,this._buffer="",t;if(s>0)return t.kind=e.Text,t.text=this._buffer.slice(0,s),this._buffer=this._buffer.slice(s),t;if(0==s){if(1==o)return t.kind=e.Incomplete,t;var u=this._buffer.charAt(1);if("["!=u&&"]"!=u)return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if("["==u){if(this._csi_regex||(this._csi_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          [                      # CSI\n                          ([<-?]?)              # private-mode char\n                          ([d;]*)                    # any digits or semicolons\n                          ([ -/]?               # an intermediate modifier\n                          [@-~])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          [                      # CSI\n                          [ -~]*                # anything legal\n                          ([\0-:])              # anything illegal\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                                                    # First attempt\n                        (?:                         # legal sequence\n                          \\x1b\\[                      # CSI\n                          ([\\x3c-\\x3f]?)              # private-mode char\n                          ([\\d;]*)                    # any digits or semicolons\n                          ([\\x20-\\x2f]?               # an intermediate modifier\n                          [\\x40-\\x7e])                # the command\n                        )\n                        |                           # alternate (second attempt)\n                        (?:                         # illegal sequence\n                          \\x1b\\[                      # CSI\n                          [\\x20-\\x7e]*                # anything legal\n                          ([\\x00-\\x1f:])              # anything illegal\n                        )\n                    "]))),null===(f=this._buffer.match(this._csi_regex)))return t.kind=e.Incomplete,t;if(f[4])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;""!=f[1]||"m"!=f[3]?t.kind=e.Unknown:t.kind=e.SGR,t.text=f[2];var d=f[0].length;return this._buffer=this._buffer.slice(d),t}if("]"==u){if(o<4)return t.kind=e.Incomplete,t;if("8"!=this._buffer.charAt(2)||";"!=this._buffer.charAt(3))return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=(l=n(["\n                        (?:                         # legal sequence\n                          (\\)                    # ESC                           |                           # alternate\n                          ()                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\0-]                 # anything illegal\n                          |                           # alternate\n                          [\b-]                 # anything illegal\n                          |                           # alternate\n                          [-]                 # anything illegal\n                        )\n                    "],["\n                        (?:                         # legal sequence\n                          (\\x1b\\\\)                    # ESC \\\n                          |                           # alternate\n                          (\\x07)                      # BEL (what xterm did)\n                        )\n                        |                           # alternate (second attempt)\n                        (                           # illegal sequence\n                          [\\x00-\\x06]                 # anything illegal\n                          |                           # alternate\n                          [\\x08-\\x1a]                 # anything illegal\n                          |                           # alternate\n                          [\\x1c-\\x1f]                 # anything illegal\n                        )\n                    "]),c=l.raw[0],a=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,r=c.replace(a,""),new RegExp(r,"g"))),this._osc_st.lastIndex=0;var p=this._osc_st.exec(this._buffer);if(null===p)return t.kind=e.Incomplete,t;if(p[3])return t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;var f,h=this._osc_st.exec(this._buffer);return null===h?(t.kind=e.Incomplete,t):h[3]?(t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t):(this._osc_regex||(this._osc_regex=i(n(["\n                        ^                           # beginning of line\n                                                    #\n                        ]8;                    # OSC Hyperlink\n                        [ -:<-~]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([!-~]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                        ([ -~]+)              # TEXT capture\n                        ]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\)                  # ESC                           |                           # alternate\n                          (?:)                    # BEL (what xterm did)\n                        )\n                    "],["\n                        ^                           # beginning of line\n                                                    #\n                        \\x1b\\]8;                    # OSC Hyperlink\n                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)\n                        ;                           # end of params\n                        ([\\x21-\\x7e]{0,512})        # URL capture\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                        ([\\x20-\\x7e]+)              # TEXT capture\n                        \\x1b\\]8;;                   # OSC Hyperlink End\n                        (?:                         # ST\n                          (?:\\x1b\\\\)                  # ESC \\\n                          |                           # alternate\n                          (?:\\x07)                    # BEL (what xterm did)\n                        )\n                    "]))),null===(f=this._buffer.match(this._osc_regex))?(t.kind=e.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t):(t.kind=e.OSCURL,t.url=f[1],t.text=f[2],d=f[0].length,this._buffer=this._buffer.slice(d),t))}}},t.prototype.ansi_to_html=function(t){this.append_buffer(t);for(var n=[];;){var o=this.get_next_packet();if(o.kind==e.EOS||o.kind==e.Incomplete)break;o.kind!=e.ESC&&o.kind!=e.Unknown&&(o.kind==e.Text?n.push(this.transform_to_html(this.with_state(o))):o.kind==e.SGR?this.process_ansi(o):o.kind==e.OSCURL&&n.push(this.process_hyperlink(o)))}return n.join("")},t.prototype.with_state=function(t){return{bold:this.bold,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:t.text}},t.prototype.process_ansi=function(t){for(var e=t.text.split(";");e.length>0;){var n=e.shift(),o=parseInt(n,10);if(isNaN(o)||0===o)this.fg=this.bg=null,this.bold=!1,this.italic=!1,this.underline=!1;else if(1===o)this.bold=!0;else if(3===o)this.italic=!0;else if(4===o)this.underline=!0;else if(22===o)this.bold=!1;else if(23===o)this.italic=!1;else if(24===o)this.underline=!1;else if(39===o)this.fg=null;else if(49===o)this.bg=null;else if(o>=30&&o<38)this.fg=this.ansi_colors[0][o-30];else if(o>=40&&o<48)this.bg=this.ansi_colors[0][o-40];else if(o>=90&&o<98)this.fg=this.ansi_colors[1][o-90];else if(o>=100&&o<108)this.bg=this.ansi_colors[1][o-100];else if((38===o||48===o)&&e.length>0){var i=38===o,l=e.shift();if("5"===l&&e.length>0){var c=parseInt(e.shift(),10);c>=0&&c<=255&&(i?this.fg=this.palette_256[c]:this.bg=this.palette_256[c])}if("2"===l&&e.length>2){var a=parseInt(e.shift(),10),r=parseInt(e.shift(),10),s=parseInt(e.shift(),10);if(a>=0&&a<=255&&r>=0&&r<=255&&s>=0&&s<=255){var u={rgb:[a,r,s],class_name:"truecolor"};i?this.fg=u:this.bg=u}}}}},t.prototype.transform_to_html=function(t){var e=t.text;if(0===e.length)return e;if(e=this.escape_txt_for_html(e),!t.bold&&!t.italic&&!t.underline&&null===t.fg&&null===t.bg)return e;var n=[],o=[],i=t.fg,l=t.bg;t.bold&&n.push("font-weight:bold"),t.italic&&n.push("font-style:italic"),t.underline&&n.push("text-decoration:underline"),this._use_classes?(i&&("truecolor"!==i.class_name?o.push(i.class_name+"-fg"):n.push("color:rgb("+i.rgb.join(",")+")")),l&&("truecolor"!==l.class_name?o.push(l.class_name+"-bg"):n.push("background-color:rgb("+l.rgb.join(",")+")"))):(i&&n.push("color:rgb("+i.rgb.join(",")+")"),l&&n.push("background-color:rgb("+l.rgb+")"));var c="",a="";return o.length&&(c=' class="'+o.join(" ")+'"'),n.length&&(a=' style="'+n.join(";")+'"'),"<span"+a+c+">"+e+"</span>"},t.prototype.process_hyperlink=function(t){var e=t.url.split(":");return e.length<1?"":this._url_whitelist[e[0]]?'<a href="'+this.escape_txt_for_html(t.url)+'">'+this.escape_txt_for_html(t.text)+"</a>":""},t}();function i(t){var e=t.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o}));var ce=oe(le);function ae(t){let e;return{c(){e=f(t[4])},m(t,n){s(t,e,n)},p(t,n){16&n&&x(e,t[4])},d(t){t&&u(e)}}}function re(t){let e,n;return{c(){e=new $(!1),n=g(),e.a=n},m(o,i){e.m(t[4],o,i),s(o,n,i)},p(t,n){16&n&&e.p(t[4])},d(t){t&&u(n),t&&e.d()}}}function se(e){let n,i,l,c,a,d,g;function b(t,e){return t[5]?re:ae}let y=b(e),w=y(e);return{c(){n=p("div"),i=p("span"),l=f(e[0]),c=h(),a=p("span"),w.c(),v(i,"class","scriptName svelte-13lhzn2"),v(a,"class","scriptValue svelte-13lhzn2"),v(n,"class","script svelte-13lhzn2"),k(n,"height",Math.floor(e[2])+"px"),v(n,"data-index",e[1])},m(t,o){s(t,n,o),r(n,i),r(i,l),r(n,c),r(n,a),w.m(a,null),e[13](n),d||(g=[m(i,"dblclick",e[11]),m(a,"click",e[12]),m(n,"mouseenter",e[14]),m(n,"mouseleave",e[15]),m(n,"mouseout",e[16]),m(n,"blur",e[17]),m(n,"contextmenu",e[18])],d=!0)},p(t,[e]){1&e&&x(l,t[0]),y===(y=b(t))&&w?w.p(t,e):(w.d(1),w=y(t),w&&(w.c(),w.m(a,null))),4&e&&k(n,"height",Math.floor(t[2])+"px"),2&e&&v(n,"data-index",t[1])},i:t,o:t,d(t){t&&u(n),w.d(),e[13](null),d=!1,o(g)}}}function ue(t,e,n){let o;c(t,et,(t=>n(6,o=t)));let i,{name:l}=e,{config:a={script:"",env:"",envVar:"",commandLine:"",type:"",scriptImage:"",appBackground:o.appBackground,highlight:o.highlight}}=e,{index:r}=e,{height:s}=e,u="loading...",d="<h1>Loading...</h1>",p=!1,f={changeColor:!1,width:300,height:300,showButton:!0};const h=L();function g(){var t=JSON.stringify({script:a.script,text:a.commandLine,env:a.env,envVar:a.envVar,commandLine:a.commandLine});fetch("http://localhost:9978/api/script/run",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8",Origin:"*"},body:t}).then((t=>t.json())).then((t=>{null!==t&&function(t){f.showButton=!0,"generic"===a.type?d="<p>"+t.text+"</p>":"bitbar"===a.type?d=t.text:"textbar"===a.type?d=function(t){var e="",o="",i=10,l=null;f={},f.height=10;var c=1,r=!1,s=!1,d=new ce;f.showButton=!0,t=String(t),globalThis.ScriptClick=(t,e,n,o,i)=>{var l=[];l.TEXTBAR_INDEX=t,l.TEXTBAR_TEXT=e;var c={script:n.trim(),env:i.trim(),envVar:{...l}};void 0===o||o.includes("undefined")||""!==(o=o.trim())&&(c.commandLine=o,c.text=o),fetch("http://localhost:9978/api/script/run/",{method:"PUT",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(c)}).then((t=>t.json())).then((t=>{null!==t&&globalThis.closeWebView()}))},t=t.split(/\r?\n/),n(4,u=a.scriptImage+t[0]),t.slice(1).forEach((t=>{if(""!==t.trim()){var h=(t=new String(t)).includes("----TEXTBAR----");if(h||s)if(h)s=!0;else{var g=t.split("=");switch(g[0]){case"REFRESH":n(10,a.period=parseInt(g[1]),a);break;case"VIEWTYPE":if("HTML"===g[1])l=o,f.showButton=!0;else l=e,f.showButton=!1;break;case"VIEWSIZE":var m=g[1].split(",");f.width=parseInt(m[0],10),f.height=parseInt(m[1],10),r=!0;break;case"IMAGE":":"===g[1][0]?(n(4,u='<img src="'+g[1].slice(1)+'" />'),n(5,p=!0)):n(4,u=g[1]),f.showButton=!0}}else{o+=t;var v="",x="";if(null!==t.match(/\[\d+(\:\d+)*m/)){var b=t.replace(/\\e/g,"");v=(v=d.ansi_to_html(b)).replace(/\[\d+(\:\d+)*m/g,""),x=t.replace(/\\e/g,"").replace(/\[\d+((\:|\;)\d+)*m/g,"")}else v=t.replace(/ /g,"&nbsp;"),x=t;x=new String(x),i<x.length&&(i=x.length),":"===t[t.length-1]?e+='<p style="margin: 0px; padding: 0px 0px 0px 0px; height: 20px; white-space: nowrap;">'+v+"</p>":e+=`<p style="margin: 0px; padding: 0px 0px 0px 5px; height: 20px; border: 0px solid transparent; border-radius: 5px; white-space: nowrap;" \n                              onclick="globalThis.ScriptClick(${c},'${t}','${a.script}', '${a.commandLine}', '${a.env}')"\n                              onmouseenter="window.setLineColorNew(this)"\n                              onmouseleave="window.setLineColor(this)"\n                              onblur="window.setLineColor(this)"\n                            >\n                              ${v}\n                            </p>`}c+=1}})),r?f.changeColor=!1:(f.changeColor=!0,f.backgroundColor=a.appBackground,f.highlightColor=a.highlight);null===l&&(l=e);return l}(t.text):"web"===a.type&&(d=t.text)}(t)}))}function m(){h("middleButton",{index:r,dom:i})}function v(){"string"!=typeof u||u.includes("loading...")||h("changeView",{name:"webview",body:{html:d,config:f}})}B((()=>{g();var t=yt.subscribe((t=>{void 0!==typeof a.period&&0!==a.period&&t%a.period==0&&g()}));return()=>{t()}}));return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(10,a=t.config),"index"in t&&n(1,r=t.index),"height"in t&&n(2,s=t.height)},t.$$.update=()=>{2&t.$$.dirty&&g()},[l,r,s,i,u,p,o,h,m,v,a,t=>{h("dblclick",{})},t=>{v()},function(t){q[t?"unshift":"push"]((()=>{i=t,n(3,i)}))},()=>{n(3,i.style.color=o.highlight,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},t=>{t.preventDefault(),m()}]}class de extends Z{constructor(t){super(),Y(this,t,ue,se,l,{name:0,config:10,index:1,height:2})}}function pe(t){let e,n,i,l,c,a,r,d,f,g,x,k,y;return{c(){e=p("label"),e.textContent="What emoji?",n=h(),i=p("input"),l=h(),c=p("label"),c.textContent="What Highlight color?",a=h(),r=p("input"),d=h(),f=p("label"),f.textContent="What background color?",g=h(),x=p("input"),v(e,"for","ScriptIcon"),v(e,"class","componentLabel svelte-1097m2q"),v(i,"id","ScriptIcon"),v(i,"type","text"),v(i,"class","componentInput svelte-1097m2q"),v(c,"for","ScriptHigh"),v(c,"class","componentLabel svelte-1097m2q"),v(r,"id","ScriptHigh"),v(r,"type","text"),v(r,"class","componentInput svelte-1097m2q"),v(f,"for","ScriptBack"),v(f,"class","componentLabel svelte-1097m2q"),v(x,"id","ScriptBack"),v(x,"type","text"),v(x,"class","componentInput svelte-1097m2q")},m(o,u){s(o,e,u),s(o,n,u),s(o,i,u),b(i,t[0].scriptImage),s(o,l,u),s(o,c,u),s(o,a,u),s(o,r,u),b(r,t[0].highlight),s(o,d,u),s(o,f,u),s(o,g,u),s(o,x,u),b(x,t[0].appBackground),k||(y=[m(i,"input",t[14]),m(i,"change",t[15]),m(r,"input",t[16]),m(r,"change",t[17]),m(x,"input",t[18]),m(x,"change",t[19])],k=!0)},p(t,e){1&e&&i.value!==t[0].scriptImage&&b(i,t[0].scriptImage),1&e&&r.value!==t[0].highlight&&b(r,t[0].highlight),1&e&&x.value!==t[0].appBackground&&b(x,t[0].appBackground)},d(t){t&&u(e),t&&u(n),t&&u(i),t&&u(l),t&&u(c),t&&u(a),t&&u(r),t&&u(d),t&&u(f),t&&u(g),t&&u(x),k=!1,o(y)}}}function fe(e){let n,i,l,c,a,d,f,g,x,k,w,$,_,C,S,B,L,I,q,V,z,E,N,j,T,H,W,O,P,R,A,D="textbar"===e[0].type&&pe(e);return{c(){n=p("div"),i=p("label"),i.textContent="What is the name of the script?",l=h(),c=p("input"),a=h(),d=p("label"),d.textContent="What is the command line?",f=h(),g=p("input"),x=h(),k=p("label"),k.textContent="What is the name of the environment?",w=h(),$=p("input"),_=h(),C=p("label"),C.textContent="What environment variables?",S=h(),B=p("input"),L=h(),I=p("label"),I.textContent="How often to reload? (number of minutes)",q=h(),V=p("input"),z=h(),E=p("label"),E.textContent="What type of script?",N=h(),j=p("select"),T=p("option"),T.textContent="TextBar",H=p("option"),H.textContent="BitBar",W=p("option"),W.textContent="Generic",O=p("option"),O.textContent="Web Page",P=h(),D&&D.c(),v(i,"for","Name"),v(i,"class","componentLabel svelte-1097m2q"),v(c,"id","Name"),v(c,"type","text"),v(c,"class","componentInput svelte-1097m2q"),v(d,"for","CommandLine"),v(d,"class","componentLabel svelte-1097m2q"),v(g,"id","CommandLine"),v(g,"type","text"),v(g,"class","componentInput svelte-1097m2q"),v(k,"for","Env"),v(k,"class","componentLabel svelte-1097m2q"),v($,"id","Env"),v($,"type","text"),v($,"class","componentInput svelte-1097m2q"),v(C,"for","EnvVar"),v(C,"class","componentLabel svelte-1097m2q"),v(B,"id","EnvVar"),v(B,"type","text"),v(B,"class","componentInput svelte-1097m2q"),v(I,"for","Period"),v(I,"class","componentLabel svelte-1097m2q"),v(V,"id","Period"),v(V,"type","text"),v(V,"class","componentInput svelte-1097m2q"),v(E,"for","Type"),v(E,"class","componentLabel svelte-1097m2q"),T.__value="textbar",T.value=T.__value,H.__value="bitbar",H.value=H.__value,W.__value="generic",W.value=W.__value,O.__value="web",O.value=O.__value,v(j,"id","Type"),v(j,"class","componentInput svelte-1097m2q"),void 0===e[0].type&&M((()=>e[12].call(j))),v(n,"id","ScriptConfig"),v(n,"class","svelte-1097m2q")},m(t,o){s(t,n,o),r(n,i),r(n,l),r(n,c),b(c,e[0].script),r(n,a),r(n,d),r(n,f),r(n,g),b(g,e[0].commandLine),r(n,x),r(n,k),r(n,w),r(n,$),b($,e[0].env),r(n,_),r(n,C),r(n,S),r(n,B),b(B,e[0].envVar),r(n,L),r(n,I),r(n,q),r(n,V),b(V,e[0].period),r(n,z),r(n,E),r(n,N),r(n,j),r(j,T),r(j,H),r(j,W),r(j,O),y(j,e[0].type),r(n,P),D&&D.m(n,null),R||(A=[m(c,"input",e[2]),m(c,"change",e[3]),m(g,"input",e[4]),m(g,"change",e[5]),m($,"input",e[6]),m($,"change",e[7]),m(B,"input",e[8]),m(B,"change",e[9]),m(V,"input",e[10]),m(V,"change",e[11]),m(j,"change",e[12]),m(j,"blur",e[13])],R=!0)},p(t,[e]){1&e&&c.value!==t[0].script&&b(c,t[0].script),1&e&&g.value!==t[0].commandLine&&b(g,t[0].commandLine),1&e&&$.value!==t[0].env&&b($,t[0].env),1&e&&B.value!==t[0].envVar&&b(B,t[0].envVar),1&e&&V.value!==t[0].period&&b(V,t[0].period),1&e&&y(j,t[0].type),"textbar"===t[0].type?D?D.p(t,e):(D=pe(t),D.c(),D.m(n,null)):D&&(D.d(1),D=null)},i:t,o:t,d(t){t&&u(n),D&&D.d(),R=!1,o(A)}}}function he(t,e,n){let o;c(t,et,(t=>n(20,o=t)));const i=L();let{config:l={script:"",env:"",envVar:"",period:0,commandLine:"",scriptImage:"",highlight:o.highlight,appBackground:o.backgroundColor}}=e;return t.$$set=t=>{"config"in t&&n(0,l=t.config)},[l,i,function(){l.script=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,period:l.period,envVar:l.envVar,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.commandLine=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,period:l.period,envVar:l.envVar,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.env=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.envVar=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.period=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,period:l.period,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.type=w(this),n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.scriptImage=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,commandLine:l.commandLine,period:l.period,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.highlight=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})},function(){l.appBackground=this.value,n(0,l)},()=>{i("change",{script:l.script,env:l.env,envVar:l.envVar,period:l.period,commandLine:l.commandLine,type:l.type,scriptImage:l.scriptImage,highlight:l.highlight,appBackground:l.appBackground})}]}class ge extends Z{constructor(t){super(),Y(this,t,he,fe,l,{config:0})}}function me(e){let n,i,l,c,a,d,g;return{c(){n=p("div"),i=p("span"),l=f(e[0]),c=h(),a=p("span"),a.textContent="🌎",v(i,"class","name svelte-1yfcj8v"),v(a,"class","weblinklink svelte-1yfcj8v"),v(n,"class","main svelte-1yfcj8v"),k(n,"height",Math.floor(e[2])+"px"),v(n,"data-index",e[1])},m(t,o){s(t,n,o),r(n,i),r(i,l),r(n,c),r(n,a),e[16](n),d||(g=[m(i,"dblclick",e[9]),m(a,"click",e[10]),m(n,"contextmenu",e[11]),m(n,"mouseenter",e[12]),m(n,"mouseleave",e[13]),m(n,"mouseout",e[14]),m(n,"blur",e[15])],d=!0)},p(t,[e]){1&e&&x(l,t[0]),4&e&&k(n,"height",Math.floor(t[2])+"px"),2&e&&v(n,"data-index",t[1])},i:t,o:t,d(t){t&&u(n),e[16](null),d=!1,o(g)}}}function ve(t,e,n){let o;c(t,et,(t=>n(4,o=t)));let i,{name:l}=e,{config:a}=e,{index:r}=e,{height:s}=e;const u=L();async function d(){await T(),void 0===typeof i||i==={}?console.log("No dom"):u("middleButton",{index:r,dom:i})}function p(){window.runtime.BrowserOpenURL(a.link)}return t.$$set=t=>{"name"in t&&n(0,l=t.name),"config"in t&&n(8,a=t.config),"index"in t&&n(1,r=t.index),"height"in t&&n(2,s=t.height)},[l,r,s,i,o,u,d,p,a,t=>{t.preventDefault(),u("dblclick",{})},t=>{p()},t=>{t.preventDefault(),d()},()=>{n(3,i.style.color=o.highlight,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},()=>{n(3,i.style.color=o.textcolor,i)},function(t){q[t?"unshift":"push"]((()=>{i=t,n(3,i)}))}]}class xe extends Z{constructor(t){super(),Y(this,t,ve,me,l,{name:0,config:8,index:1,height:2})}}function be(e){let n,i,l,c,a,d;return{c(){n=p("div"),i=p("label"),i.textContent="What is the link address?",l=h(),c=p("input"),v(i,"for","LinkAddress"),v(i,"class","componentLabel svelte-12qnvtk"),v(c,"id","LinkAddress"),v(c,"type","text"),v(c,"class","componentInput svelte-12qnvtk"),v(n,"class","WebLinkConfig svelte-12qnvtk")},m(t,o){s(t,n,o),r(n,i),r(n,l),r(n,c),b(c,e[0].link),a||(d=[m(c,"input",e[2]),m(c,"change",e[3])],a=!0)},p(t,[e]){1&e&&c.value!==t[0].link&&b(c,t[0].link)},i:t,o:t,d(t){t&&u(n),a=!1,o(d)}}}function ke(t,e,n){let{config:o}=e;const i=L();return t.$$set=t=>{"config"in t&&n(0,o=t.config)},[o,i,function(){o.link=this.value,n(0,o)},()=>{i("change",{link:o.link})}]}class ye extends Z{constructor(t){super(),Y(this,t,ke,be,l,{config:0})}}function we(t,e,n){const o=t.slice();return o[70]=e[n],o[72]=n,o}function $e(t,e,n){const o=t.slice();return o[73]=e[n],o[74]=e,o[72]=n,o}function _e(t){let e,n,i,l,c,a,f,g,x,b,k,y,w,$,_,C=t[8]&&Be(t),S=t[10]&&qe(t),B=t[0],L=[];for(let e=0;e<B.length;e+=1)L[e]=je($e(t,B,e));const I=t=>X(L[t],1,1,(()=>{L[t]=null}));let q=t[1].length>0&&Te(t);return{c(){C&&C.c(),e=h(),S&&S.c(),n=h(),i=p("div"),l=p("p"),l.textContent="+",c=h(),a=p("p"),a.textContent="X",f=h(),g=p("div");for(let t=0;t<L.length;t+=1)L[t].c();x=h(),b=p("div"),b.innerHTML='<span id="addTabText" class="svelte-aqsklj">+</span>',k=h(),y=p("div"),q&&q.c(),v(l,"id","addControl"),v(l,"class","svelte-aqsklj"),v(a,"id","closeControl"),v(a,"class","svelte-aqsklj"),v(i,"id","controls"),v(i,"data-wails-drag",""),v(i,"class","svelte-aqsklj"),v(b,"id","addTab"),v(b,"class","tab svelte-aqsklj"),v(g,"id","tabs"),v(g,"class","svelte-aqsklj"),v(y,"id","componentList"),v(y,"class","svelte-aqsklj")},m(o,u){C&&C.m(o,u),s(o,e,u),S&&S.m(o,u),s(o,n,u),s(o,i,u),r(i,l),r(i,c),r(i,a),s(o,f,u),s(o,g,u);for(let t=0;t<L.length;t+=1)L[t].m(g,null);r(g,x),r(g,b),s(o,k,u),s(o,y,u),q&&q.m(y,null),w=!0,$||(_=[m(l,"click",t[40]),m(a,"click",t[41]),m(b,"click",t[47])],$=!0)},p(t,o){if(t[8]?C?C.p(t,o):(C=Be(t),C.c(),C.m(e.parentNode,e)):C&&(C.d(1),C=null),t[10]?S?S.p(t,o):(S=qe(t),S.c(),S.m(n.parentNode,n)):S&&(S.d(1),S=null),25182273&o[0]){let e;for(B=t[0],e=0;e<B.length;e+=1){const n=$e(t,B,e);L[e]?(L[e].p(n,o),U(L[e],1)):(L[e]=je(n),L[e].c(),U(L[e],1),L[e].m(g,x))}for(D(),e=B.length;e<L.length;e+=1)I(e);F()}t[1].length>0?q?(q.p(t,o),2&o[0]&&U(q,1)):(q=Te(t),q.c(),U(q,1),q.m(y,null)):q&&(D(),X(q,1,1,(()=>{q=null})),F())},i(t){if(!w){for(let t=0;t<B.length;t+=1)U(L[t]);U(q),w=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)X(L[t]);X(q),w=!1},d(t){C&&C.d(t),t&&u(e),S&&S.d(t),t&&u(n),t&&u(i),t&&u(f),t&&u(g),d(L,t),t&&u(k),t&&u(y),q&&q.d(),$=!1,o(_)}}}function Ce(t){let e,n,o,i,l,c,a,d;return l=new pt({props:{widget:t[5]}}),l.$on("editComponent",t[17]),l.$on("deleteComponent",t[18]),{c(){e=p("div"),n=p("div"),o=p("p"),o.textContent="X",i=h(),G(l.$$.fragment),v(o,"id","closeEditDialogControl"),v(o,"class","svelte-aqsklj"),v(n,"id","editDialogControls"),v(n,"class","svelte-aqsklj"),v(e,"id","editDialog"),k(e,"width","100%"),k(e,"background-color",t[13].appBackground),k(e,"color",t[13].textcolor),k(e,"font-family",t[13].fontFamily),k(e,"font-size",t[13].fontSize),v(e,"class","svelte-aqsklj")},m(u,p){s(u,e,p),r(e,n),r(n,o),r(e,i),J(l,e,null),c=!0,a||(d=m(o,"click",t[34]),a=!0)},p(t,n){const o={};32&n[0]&&(o.widget=t[5]),l.$set(o),(!c||8192&n[0])&&k(e,"background-color",t[13].appBackground),(!c||8192&n[0])&&k(e,"color",t[13].textcolor),(!c||8192&n[0])&&k(e,"font-family",t[13].fontFamily),(!c||8192&n[0])&&k(e,"font-size",t[13].fontSize)},i(t){c||(U(l.$$.fragment,t),c=!0)},o(t){X(l.$$.fragment,t),c=!1},d(t){t&&u(e),Q(l),a=!1,d()}}}function Se(t){let e,n,o,i,l,c,a,d;return l=new rt({props:{types:t[2]}}),l.$on("addNewComponent",t[15]),{c(){e=p("div"),n=p("div"),o=p("p"),o.textContent="X",i=h(),G(l.$$.fragment),v(o,"id","closeAddDialogControl"),v(o,"class","svelte-aqsklj"),v(n,"id","addDialogControls"),v(n,"class","svelte-aqsklj"),v(e,"id","addDialog"),k(e,"width","100%"),k(e,"background-color",t[13].appBackground),k(e,"color",t[13].textcolor),k(e,"font-family",t[13].fontFamily),k(e,"font-size",t[13].fontSize),v(e,"class","svelte-aqsklj")},m(u,p){s(u,e,p),r(e,n),r(n,o),r(e,i),J(l,e,null),c=!0,a||(d=m(o,"click",t[33]),a=!0)},p(t,n){const o={};4&n[0]&&(o.types=t[2]),l.$set(o),(!c||8192&n[0])&&k(e,"background-color",t[13].appBackground),(!c||8192&n[0])&&k(e,"color",t[13].textcolor),(!c||8192&n[0])&&k(e,"font-family",t[13].fontFamily),(!c||8192&n[0])&&k(e,"font-size",t[13].fontSize)},i(t){c||(U(l.$$.fragment,t),c=!0)},o(t){X(l.$$.fragment,t),c=!1},d(t){t&&u(e),Q(l),a=!1,d()}}}function Be(t){let e,n,o,i,l,c,a=0!==t[6]&&Le(t),d=t[6]!==t[0].length-1&&Ie(t);return{c(){e=p("div"),a&&a.c(),n=h(),d&&d.c(),o=h(),i=p("p"),i.textContent="Delete",v(i,"class","ContainerMenuItem svelte-aqsklj"),v(e,"id","containerMenu"),k(e,"background-color",t[13].appBackground),k(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),k(e,"left",Math.floor(t[9].x+t[9].width/2)+"px"),v(e,"class","svelte-aqsklj")},m(u,p){s(u,e,p),a&&a.m(e,null),r(e,n),d&&d.m(e,null),r(e,o),r(e,i),l||(c=m(i,"click",t[37]),l=!0)},p(t,i){0!==t[6]?a?a.p(t,i):(a=Le(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[6]!==t[0].length-1?d?d.p(t,i):(d=Ie(t),d.c(),d.m(e,o)):d&&(d.d(1),d=null),8192&i[0]&&k(e,"background-color",t[13].appBackground),512&i[0]&&k(e,"top",Math.floor(t[9].height/2+t[9].y)+"px"),512&i[0]&&k(e,"left",Math.floor(t[9].x+t[9].width/2)+"px")},d(t){t&&u(e),a&&a.d(),d&&d.d(),l=!1,c()}}}function Le(e){let n,o,i;return{c(){n=p("p"),n.textContent="Move Left",v(n,"class","ContainerMenuItem svelte-aqsklj")},m(t,l){s(t,n,l),o||(i=m(n,"click",e[35]),o=!0)},p:t,d(t){t&&u(n),o=!1,i()}}}function Ie(e){let n,o,i;return{c(){n=p("p"),n.textContent="Move Right",v(n,"class","ContainerMenuItem svelte-aqsklj")},m(t,l){s(t,n,l),o||(i=m(n,"click",e[36]),o=!0)},p:t,d(t){t&&u(n),o=!1,i()}}}function qe(t){let e,n,o=0!==t[7]&&Ve(t),i=t[7]!==t[1].length-1&&ze(t);return{c(){e=p("div"),o&&o.c(),n=h(),i&&i.c(),v(e,"id","ComponentMenu"),k(e,"background-color",t[13].appBackground),k(e,"top",Math.floor(t[11].y)+"px"),k(e,"left","20px"),v(e,"class","svelte-aqsklj")},m(t,l){s(t,e,l),o&&o.m(e,null),r(e,n),i&&i.m(e,null)},p(t,l){0!==t[7]?o?o.p(t,l):(o=Ve(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),t[7]!==t[1].length-1?i?i.p(t,l):(i=ze(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),8192&l[0]&&k(e,"background-color",t[13].appBackground),2048&l[0]&&k(e,"top",Math.floor(t[11].y)+"px")},d(t){t&&u(e),o&&o.d(),i&&i.d()}}}function Ve(e){let n,o,i;return{c(){n=p("p"),n.textContent="Up",v(n,"class","ComponentMenuItem svelte-aqsklj")},m(t,l){s(t,n,l),o||(i=m(n,"click",e[38]),o=!0)},p:t,d(t){t&&u(n),o=!1,i()}}}function ze(e){let n,o,i;return{c(){n=p("p"),n.textContent="Down",v(n,"class","ComponentMenuItem svelte-aqsklj")},m(t,l){s(t,n,l),o||(i=m(n,"click",e[39]),o=!0)},p:t,d(t){t&&u(n),o=!1,i()}}}function Ee(e){let n,o,i,l,c=e[73].name+"",a=e[74],d=e[72];function h(){return e[45](e[72])}const g=()=>e[46](n,a,d),b=()=>e[46](null,a,d);return{c(){n=p("div"),o=f(c),v(n,"class","tab svelte-aqsklj")},m(t,e){s(t,n,e),r(n,o),g(),i||(l=m(n,"click",h),i=!0)},p(t,n){e=t,1&n[0]&&c!==(c=e[73].name+"")&&x(o,c),a===e[74]&&d===e[72]||(b(),a=e[74],d=e[72],g())},i:t,o:t,d(t){t&&u(n),b(),i=!1,l()}}}function Ne(t){let e,n,o,i=t[74],l=t[72];n=new vt({props:{name:t[73].name}}),n.$on("nameChanged",t[42]),n.$on("middleButton",t[43]);const c=()=>t[44](e,i,l),a=()=>t[44](null,i,l);return{c(){e=p("div"),G(n.$$.fragment),v(e,"class","activeTab svelte-aqsklj")},m(t,i){s(t,e,i),J(n,e,null),c(),o=!0},p(e,o){t=e;const r={};1&o[0]&&(r.name=t[73].name),n.$set(r),i===t[74]&&l===t[72]||(a(),i=t[74],l=t[72],c())},i(t){o||(U(n.$$.fragment,t),o=!0)},o(t){X(n.$$.fragment,t),o=!1},d(t){t&&u(e),Q(n),a()}}}function je(t){let e,n,o,i;const l=[Ne,Ee],c=[];function a(t,e){return t[72]===t[6]?0:1}return e=a(t),n=c[e]=l[e](t),{c(){n.c(),o=g()},m(t,n){c[e].m(t,n),s(t,o,n),i=!0},p(t,i){let r=e;e=a(t),e===r?c[e].p(t,i):(D(),X(c[r],1,1,(()=>{c[r]=null})),F(),n=c[e],n?n.p(t,i):(n=c[e]=l[e](t),n.c()),U(n,1),n.m(o.parentNode,o))},i(t){i||(U(n),i=!0)},o(t){X(n),i=!1},d(t){c[e].d(t),t&&u(o)}}}function Te(t){let e,n,o=t[1],i=[];for(let e=0;e<o.length;e+=1)i[e]=Me(we(t,o,e));const l=t=>X(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=g()},m(t,o){for(let e=0;e<i.length;e+=1)i[e].m(t,o);s(t,e,o),n=!0},p(t,n){if(268500994&n[0]|1&n[1]){let c;for(o=t[1],c=0;c<o.length;c+=1){const l=we(t,o,c);i[c]?(i[c].p(l,n),U(i[c],1)):(i[c]=Me(l),i[c].c(),U(i[c],1),i[c].m(e.parentNode,e))}for(D(),c=o.length;c<i.length;c+=1)l(c);F()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)U(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)X(i[t]);n=!1},d(t){d(i,t),t&&u(e)}}}function Me(t){let e,n,o;function i(){return t[48](t[70])}var l=t[70].widget;function c(t){return{props:{index:t[72],height:t[70].height,name:t[70].name,config:t[70].config}}}return l&&(e=new l(c(t)),e.$on("dblclick",i),e.$on("middleButton",t[49]),e.$on("changeView",t[50])),{c(){e&&G(e.$$.fragment),n=g()},m(t,i){e&&J(e,t,i),s(t,n,i),o=!0},p(o,a){t=o;const r={};if(2&a[0]&&(r.height=t[70].height),2&a[0]&&(r.name=t[70].name),2&a[0]&&(r.config=t[70].config),l!==(l=t[70].widget)){if(e){D();const t=e;X(t.$$.fragment,1,0,(()=>{Q(t,1)})),F()}l?(e=new l(c(t)),e.$on("dblclick",i),e.$on("middleButton",t[49]),e.$on("changeView",t[50]),G(e.$$.fragment),U(e.$$.fragment,1),J(e,n.parentNode,n)):e=null}else l&&e.$set(r)},i(t){o||(e&&U(e.$$.fragment,t),o=!0)},o(t){e&&X(e.$$.fragment,t),o=!1},d(t){t&&u(n),e&&Q(e,t)}}}function He(t){let e,n,o,i;const l=[Se,Ce,_e],c=[];function a(t,e){return t[3]?0:t[4]?1:2}return n=a(t),o=c[n]=l[n](t),{c(){e=p("div"),o.c(),v(e,"id","main"),k(e,"background-color",t[13].appBackground),k(e,"color",t[13].textcolor),k(e,"font-family",t[13].fontFamily),k(e,"font-size",t[13].fontSize),v(e,"class","svelte-aqsklj")},m(o,l){s(o,e,l),c[n].m(e,null),t[51](e),i=!0},p(t,r){let s=n;n=a(t),n===s?c[n].p(t,r):(D(),X(c[s],1,1,(()=>{c[s]=null})),F(),o=c[n],o?o.p(t,r):(o=c[n]=l[n](t),o.c()),U(o,1),o.m(e,null)),(!i||8192&r[0])&&k(e,"background-color",t[13].appBackground),(!i||8192&r[0])&&k(e,"color",t[13].textcolor),(!i||8192&r[0])&&k(e,"font-family",t[13].fontFamily),(!i||8192&r[0])&&k(e,"font-size",t[13].fontSize)},i(t){i||(U(o),i=!0)},o(t){X(o),i=!1},d(o){o&&u(e),c[n].d(),t[51](null)}}}function We(t,e,n){let o,i,l,r,s,u;c(t,bt,(t=>n(56,o=t))),c(t,kt,(t=>n(57,i=t))),c(t,xt,(t=>n(58,l=t))),c(t,yt,(t=>n(59,r=t))),c(t,nt,(t=>n(60,s=t))),c(t,et,(t=>n(13,u=t)));let d,p,f,h,g,m,v,x,{oldState:b}=e,k=[{name:"Info",widgets:[]}],y=[],w=!1,$=!1,_=0,C=!1,I=!1,V=null,z=null;const E=L();var N;function j(){a(yt,r+=1,r),z=setTimeout(j,6e4)}async function M(){if(await T(),void 0!==v){var t=v.clientWidth,e=v.clientHeight;t<100&&(t=400),e<40&&(e=40),C&&y.length<3&&(e+=20*(3-y.length)),I&&y.length-h<3&&(e+=20*(y.length-h)),a(xt,l=Math.floor(t/2),l),a(kt,i=t,i),runtime.WindowSetSize(t,e)}}function H(t){n(1,y=[]),n(8,C=!1),n(10,I=!1),n(6,f=t),n(0,k[t].widgets=O(k[t].widgets),k)}function W(){fetch(`http://localhost:${o.port}/api/scriptbar/config/`,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({config:k})})}function O(t){for(var e=0;e<t.length;e++){var o=d.find((n=>t[e].widgetName===n.moduleName));void 0!==o&&(t[e].widget=o.module,t[e].configWidget=o.config,t[e].configHeight=o.configHeight,t[e].id=_,_+=1,y.push(t[e]))}return n(0,k[f].widgets=y,k),y}function P(t){n(5,p=t),n(4,$=!0),n(8,C=!1),n(10,I=!1)}function R(){n(4,$=!1)}function A(){n(3,w=!0),n(8,C=!1),n(10,I=!1)}function D(){n(3,w=!1)}function F(){k.push({name:"New",widgets:[]}),n(0,k),W()}function U(t){n(0,k[f].name=t,k),n(0,k),W()}function X(){n(8,C=!C),C&&(n(10,I=!1),n(9,g=k[f].this.getBoundingClientRect()))}function G(){if(n(9,g=k[f-1].this.getBoundingClientRect()),0!==f){var t=k[f];n(6,f-=1),n(0,k[f+1]=k[f],k),n(0,k[f]=t,k)}n(0,k),W()}function J(){if(n(9,g=k[f+1].this.getBoundingClientRect()),f!==k.length-1){var t=k[f];n(6,f+=1),n(0,k[f-1]=k[f],k),n(0,k[f]=t,k)}n(0,k),W()}function Q(){n(0,k=k.filter(((t,e)=>e!==f))),n(6,f=0),n(1,y=[]),n(0,k[f].widgets=O(k[f].widgets),k),n(1,y=k[f].widgets),W(),n(8,C=!1)}function Y(t){n(7,h=t.index),y.length>1&&(n(10,I=!I),I?(n(8,C=!1),x=t.dom,n(11,m=t.dom.firstChild.getBoundingClientRect())):(n(11,m={}),n(7,h=0),x=void 0))}function Z(){if(0!==h){n(11,m=x.firstChild.getBoundingClientRect());var t=y[h];n(7,h-=1),n(1,y[h+1]=y[h],y),n(1,y[h]=t,y),n(0,k[f].widgets=y,k),W(),V=y,n(1,y=[]),n(10,I=!1)}}function K(){if(h!==y.length-1){n(11,m=x.firstChild.getBoundingClientRect());var t=y[h];n(7,h+=1),n(1,y[h-1]=y[h],y),n(1,y[h]=t,y),n(0,k[f].widgets=y,k),W(),V=y,n(1,y=[]),n(10,I=!1)}}function tt(t){t.scriptbar={container:f},E("changeView",t)}B((()=>{var t;return n(2,d=[{moduleName:"FlowVariable",module:_t,config:Bt,configHeight:70},{moduleName:"Separator",module:qt,config:Et,configHeight:70},{moduleName:"BirthdayCounter",module:Tt,config:Wt,configHeight:70},{moduleName:"IPAddress",module:Dt,config:Xt,configHeight:194},{moduleName:"IntIPAddress",module:Zt,config:ee,configHeight:124},{moduleName:"Script",module:de,config:ge,configHeight:333},{moduleName:"WebLink",module:xe,config:ye,configHeight:133}]),void 0!==(t=b)&&void 0!==t.container?(n(6,f=t.container),n(7,h=0)):(n(6,f=0),n(7,h=0)),fetch(`http://localhost:${o.port}/api/scriptbar/config/`).then((t=>t.json())).then((t=>{n(0,k=t.config),n(1,y=[]),void 0!==k[f].widgets&&n(0,k[f].widgets=O(k[f].widgets),k)})),window.moveTo(400,-20),a(nt,s=M,s),j(),()=>{null!==z&&clearTimeout(z)}})),N=()=>{null!==V&&(n(1,y=O(V)),V=null),M()},S().$$.after_update.push(N);return t.$$set=t=>{"oldState"in t&&n(32,b=t.oldState)},[k,y,d,w,$,p,f,h,C,g,I,m,v,u,H,function(t){n(1,y=O([t.detail.module])),n(0,k[f].widgets=y,k),D(),W()},P,function(t){n(1,y=y.map((e=>(e.id===t.detail.module.id&&(e.name=t.detail.module.name,e.height=parseInt(t.detail.module.height,10),e.config=t.detail.module.config),e)))),R(),n(0,k[f].widgets=y,k),W()},function(t){n(1,y=y.filter((e=>{if(e.id!==t.detail.module.id)return e}))),R(),n(0,k[f].widgets=y,k),W()},R,A,D,F,U,X,G,J,Q,Y,Z,K,tt,b,()=>{D()},()=>{R()},t=>{G()},t=>{J()},t=>{Q()},t=>{Z()},t=>{K()},()=>{A()},()=>{window.go.main.App.Quit()},t=>{U(t.detail.name)},t=>{X()},function(t,e,o){q[t?"unshift":"push"]((()=>{e[o].this=t,n(0,k)}))},t=>{H(t)},function(t,e,o){q[t?"unshift":"push"]((()=>{e[o].this=t,n(0,k)}))},()=>{F()},t=>{P(t)},t=>{t.preventDefault(),Y(t.detail)},t=>{tt(t.detail)},function(t){q[t?"unshift":"push"]((()=>{v=t,n(12,v)}))}]}class Oe extends Z{constructor(t){super(),Y(this,t,We,He,l,{oldState:32},null,[-1,-1,-1])}}function Pe(t){let e,n,o,i,l;return{c(){e=p("div"),n=p("button"),o=f("Close"),v(n,"id","closeButton"),v(n,"type","button"),k(n,"background-color",t[4].appBackground),k(n,"color",t[4].textcolor),k(n,"font-size",t[4].fontSize),v(n,"class","svelte-icstg5"),v(e,"id","buttonRow"),v(e,"class","svelte-icstg5")},m(c,a){s(c,e,a),r(e,n),r(n,o),i||(l=m(n,"click",t[6]),i=!0)},p(t,e){16&e&&k(n,"background-color",t[4].appBackground),16&e&&k(n,"color",t[4].textcolor),16&e&&k(n,"font-size",t[4].fontSize)},d(t){t&&u(e),i=!1,l()}}}function Re(e){let n,o,i,l=e[0].html+"",c=e[0].config.showButton&&Pe(e);return{c(){n=p("div"),o=new $(!1),i=h(),c&&c.c(),o.a=i,v(n,"id","webview"),v(n,"data-wails-drag",""),k(n,"background-color",e[0].config.backgroundColor),k(n,"color",e[4].textcolor),k(n,"font-family",e[4].fontFamily),k(n,"font-size",e[4].fontSize),k(n,"width",e[2]+"px"),k(n,"height",e[3]+"px"),v(n,"class","svelte-icstg5")},m(t,a){s(t,n,a),o.m(l,n),r(n,i),c&&c.m(n,null),e[7](n)},p(t,[e]){1&e&&l!==(l=t[0].html+"")&&o.p(l),t[0].config.showButton?c?c.p(t,e):(c=Pe(t),c.c(),c.m(n,null)):c&&(c.d(1),c=null),1&e&&k(n,"background-color",t[0].config.backgroundColor),16&e&&k(n,"color",t[4].textcolor),16&e&&k(n,"font-family",t[4].fontFamily),16&e&&k(n,"font-size",t[4].fontSize),4&e&&k(n,"width",t[2]+"px"),8&e&&k(n,"height",t[3]+"px")},i:t,o:t,d(t){t&&u(n),c&&c.d(),e[7](null)}}}function Ae(t,e,n){let o,i,l;c(t,xt,(t=>n(8,o=t))),c(t,kt,(t=>n(9,i=t))),c(t,et,(t=>n(4,l=t)));let r,s,u,{body:d}=e;const p=L();function f(t){d.config.changeColor&&(t.style.backgroundColor=d.config.highlightColor)}function h(t){d.config.changeColor&&(t.style.backgroundColor=d.config.backgroundColor)}function g(){p("changeView",{name:"scriptbar",body:{}})}async function m(){await T(),void 0!==d.config.width?(n(2,s=d.config.width),n(3,u=d.config.height),a(xt,o=Math.floor(s/2),o),a(kt,i=s,i)):void 0!==r&&(n(2,s=r.clientWidth),n(3,u=r.clientHeight),s<100&&n(2,s=400),u<40&&n(3,u=40),a(kt,i=s,i),runtime.WindowSetSize(s,u),a(xt,o=Math.floor(s/2),o))}B((()=>{globalThis.closeWebView=g,m(),window.setLineColor=h,window.setLineColorNew=f}));return t.$$set=t=>{"body"in t&&n(0,d=t.body)},t.$$.update=()=>{1&t.$$.dirty&&a(kt,(m(),i),i)},[d,r,s,u,l,g,()=>{g()},function(t){q[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class De extends Z{constructor(t){super(),Y(this,t,Ae,Re,l,{body:0})}}function Fe(e){let n,o,i,l,c,a,d,f,g,x;return{c(){n=p("div"),o=p("h1"),o.textContent="Something went wrong",i=h(),l=p("p"),l.textContent="Sorry, but you somehow got to a place that isn't reachable.",c=h(),a=p("p"),a.textContent="Press be button below to get back to the normal page.",d=h(),f=p("button"),f.textContent="Go Back",v(f,"class","svelte-swl4vm"),v(n,"id","errorPage"),v(n,"class","svelte-swl4vm")},m(t,u){s(t,n,u),r(n,o),r(n,i),r(n,l),r(n,c),r(n,a),r(n,d),r(n,f),g||(x=m(f,"click",e[6]),g=!0)},p:t,i:t,o:t,d(t){t&&u(n),g=!1,x()}}}function Ue(t){let e,n;return e=new De({props:{body:t[1]}}),e.$on("changeView",t[5]),{c(){G(e.$$.fragment)},m(t,o){J(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.body=t[1]),e.$set(o)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Xe(t){let e,n;return e=new Oe({props:{oldState:t[2]}}),e.$on("changeView",t[4]),{c(){G(e.$$.fragment)},m(t,o){J(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.oldState=t[2]),e.$set(o)},i(t){n||(U(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Ge(t){let e,n,i,l,c,a;const r=[Xe,Ue,Fe],d=[];function p(t,e){return"scriptbar"===t[0]?0:"webview"===t[0]?1:2}return e=p(t),n=d[e]=r[e](t),{c(){n.c(),i=g()},m(t,n){d[e].m(t,n),s(t,i,n),l=!0,c||(a=[m(window,"blur",Je),m(window,"close",Qe)],c=!0)},p(t,[o]){let l=e;e=p(t),e===l?d[e].p(t,o):(D(),X(d[l],1,1,(()=>{d[l]=null})),F(),n=d[e],n?n.p(t,o):(n=d[e]=r[e](t),n.c()),U(n,1),n.m(i.parentNode,i))},i(t){l||(U(n),l=!0)},o(t){X(n),l=!1},d(t){d[e].d(t),t&&u(i),c=!1,o(a)}}}const Je=()=>{},Qe=()=>{};function Ye(t,e,n){let o,i="scriptbar",l={html:"<h1>Web View</h1>",config:{width:200,height:400}};function c(t){void 0!==t.scriptbar&&n(2,o=t.scriptbar),n(0,i=t.name),n(1,l=t.body)}return[i,l,o,c,t=>{c(t.detail)},t=>{c(t.detail)},()=>{n(0,i="scriptbar")}]}return new class extends Z{constructor(t){super(),Y(this,t,Ye,Ge,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
